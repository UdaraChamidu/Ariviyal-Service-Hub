var _E=t=>{throw TypeError(t)};var Im=(t,e,n)=>e.has(t)||_E("Cannot "+n);var U=(t,e,n)=>(Im(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?_E("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Im(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),kt=(t,e,n)=>(Im(t,e,"access private method"),n);var fd=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return U(t,e,r)}});function LV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function VC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jC={exports:{}},zf={},FC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),VV=Symbol.for("react.portal"),jV=Symbol.for("react.fragment"),FV=Symbol.for("react.strict_mode"),UV=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),$V=Symbol.for("react.context"),zV=Symbol.for("react.forward_ref"),HV=Symbol.for("react.suspense"),WV=Symbol.for("react.memo"),qV=Symbol.for("react.lazy"),xE=Symbol.iterator;function GV(t){return t===null||typeof t!="object"?null:(t=xE&&t[xE]||t["@@iterator"],typeof t=="function"?t:null)}var UC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BC=Object.assign,$C={};function nl(t,e,n){this.props=t,this.context=e,this.refs=$C,this.updater=n||UC}nl.prototype.isReactComponent={};nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zC(){}zC.prototype=nl.prototype;function Yv(t,e,n){this.props=t,this.context=e,this.refs=$C,this.updater=n||UC}var Xv=Yv.prototype=new zC;Xv.constructor=Yv;BC(Xv,nl.prototype);Xv.isPureReactComponent=!0;var EE=Array.isArray,HC=Object.prototype.hasOwnProperty,Jv={current:null},WC={key:!0,ref:!0,__self:!0,__source:!0};function qC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)HC.call(e,r)&&!WC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:_u,type:t,key:i,ref:o,props:s,_owner:Jv.current}}function KV(t,e){return{$$typeof:_u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_u}function QV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var TE=/\/+/g;function Pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QV(""+t.key):e.toString(36)}function Jd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _u:case VV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Pm(o,0):r,EE(s)?(n="",t!=null&&(n=t.replace(TE,"$&/")+"/"),Jd(s,e,n,"",function(c){return c})):s!=null&&(Zv(s)&&(s=KV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(TE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",EE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Pm(i,a);o+=Jd(i,e,n,l,s)}else if(l=GV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Pm(i,a++),o+=Jd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pd(t,e,n){if(t==null)return t;var r=[],s=0;return Jd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Zd={transition:null},XV={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Zd,ReactCurrentOwner:Jv};function GC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:pd,forEach:function(t,e,n){pd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pd(t,function(){e++}),e},toArray:function(t){return pd(t,function(e){return e})||[]},only:function(t){if(!Zv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=nl;ye.Fragment=jV;ye.Profiler=UV;ye.PureComponent=Yv;ye.StrictMode=FV;ye.Suspense=HV;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XV;ye.act=GC;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HC.call(e,l)&&!WC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_u,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:$V,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};ye.createElement=qC;ye.createFactory=function(t){var e=qC.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:zV,render:t}};ye.isValidElement=Zv;ye.lazy=function(t){return{$$typeof:qV,_payload:{_status:-1,_result:t},_init:YV}};ye.memo=function(t,e){return{$$typeof:WV,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Zd.transition;Zd.transition={};try{t()}finally{Zd.transition=e}};ye.unstable_act=GC;ye.useCallback=function(t,e){return Jt.current.useCallback(t,e)};ye.useContext=function(t){return Jt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Jt.current.useEffect(t,e)};ye.useId=function(){return Jt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Jt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};ye.useRef=function(t){return Jt.current.useRef(t)};ye.useState=function(t){return Jt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Jt.current.useTransition()};ye.version="18.3.1";FC.exports=ye;var m=FC.exports;const Gt=VC(m),Hf=LV({__proto__:null,default:Gt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=m,ZV=Symbol.for("react.element"),ej=Symbol.for("react.fragment"),tj=Object.prototype.hasOwnProperty,nj=JV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rj={key:!0,ref:!0,__self:!0,__source:!0};function KC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tj.call(e,r)&&!rj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZV,type:t,key:i,ref:o,props:s,_owner:nj.current}}zf.Fragment=ej;zf.jsx=KC;zf.jsxs=KC;jC.exports=zf;var f=jC.exports,QC={exports:{}},Tn={},YC={exports:{}},XC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,F){var K=V.length;V.push(F);e:for(;0<K;){var ee=K-1>>>1,pe=V[ee];if(0<s(pe,F))V[ee]=F,V[K]=pe,K=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var F=V[0],K=V.pop();if(K!==F){V[0]=K;e:for(var ee=0,pe=V.length,Qe=pe>>>1;ee<Qe;){var Ne=2*(ee+1)-1,Tt=V[Ne],Oe=Ne+1,Z=V[Oe];if(0>s(Tt,K))Oe<pe&&0>s(Z,Tt)?(V[ee]=Z,V[Oe]=K,ee=Oe):(V[ee]=Tt,V[Ne]=K,ee=Ne);else if(Oe<pe&&0>s(Z,K))V[ee]=Z,V[Oe]=K,ee=Oe;else break e}}return F}function s(V,F){var K=V.sortIndex-F.sortIndex;return K!==0?K:V.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,y=!1,E=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=V)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function A(V){if(w=!1,S(V),!E)if(n(l)!==null)E=!0,X(P);else{var F=n(c);F!==null&&J(A,F.startTime-V)}}function P(V,F){E=!1,w&&(w=!1,v(b),b=-1),y=!0;var K=p;try{for(S(F),h=n(l);h!==null&&(!(h.expirationTime>F)||V&&!k());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var pe=ee(h.expirationTime<=F);F=t.unstable_now(),typeof pe=="function"?h.callback=pe:h===n(l)&&r(l),S(F)}else r(l);h=n(l)}if(h!==null)var Qe=!0;else{var Ne=n(c);Ne!==null&&J(A,Ne.startTime-F),Qe=!1}return Qe}finally{h=null,p=K,y=!1}}var O=!1,C=null,b=-1,I=5,N=-1;function k(){return!(t.unstable_now()-N<I)}function M(){if(C!==null){var V=t.unstable_now();N=V;var F=!0;try{F=C(!0,V)}finally{F?D():(O=!1,C=null)}}else O=!1}var D;if(typeof _=="function")D=function(){_(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=M,D=function(){ne.postMessage(null)}}else D=function(){x(M,0)};function X(V){C=V,O||(O=!0,D())}function J(V,F){b=x(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,X(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var K=p;p=F;try{return V()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=p;p=V;try{return F()}finally{p=K}},t.unstable_scheduleCallback=function(V,F,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=K+pe,V={id:d++,callback:F,priorityLevel:V,startTime:K,expirationTime:pe,sortIndex:-1},K>ee?(V.sortIndex=K,e(c,V),n(l)===null&&V===n(c)&&(w?(v(b),b=-1):w=!0,J(A,K-ee))):(V.sortIndex=pe,e(l,V),E||y||(E=!0,X(P))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var F=p;return function(){var K=p;p=F;try{return V.apply(this,arguments)}finally{p=K}}}})(XC);YC.exports=XC;var sj=YC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij=m,xn=sj;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JC=new Set,kc={};function _o(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(kc[t]=e,t=0;t<e.length;t++)JC.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,oj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SE={},bE={};function aj(t){return $g.call(bE,t)?!0:$g.call(SE,t)?!1:oj.test(t)?bE[t]=!0:(SE[t]=!0,!1)}function lj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cj(t,e,n,r){if(e===null||typeof e>"u"||lj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ew=/[\-:]([a-z])/g;function tw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ew,tw);Rt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ew,tw);Rt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ew,tw);Rt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nw(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cj(e,n,s,r)&&(n=null),r||s===null?aj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=ij.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),rw=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),eA=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),tA=Symbol.for("react.offscreen"),CE=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Rm;function Ql(t){if(Rm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rm=e&&e[1]||""}return`
`+Rm+t}var Nm=!1;function km(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ql(t):""}function uj(t){switch(t.tag){case 5:return Ql(t.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case qo:return"Portal";case zg:return"Profiler";case rw:return"StrictMode";case Hg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eA:return(t.displayName||"Context")+".Consumer";case ZC:return(t._context.displayName||"Context")+".Provider";case sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iw:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}function dj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===rw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hj(t){var e=nA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gd(t){t._valueTracker||(t._valueTracker=hj(t))}function rA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gg(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function AE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sA(t,e){e=e.checked,e!=null&&nw(t,"checked",e,!1)}function Kg(t,e){sA(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qg(t,e,n){(e!=="number"||Rh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yl=Array.isArray;function da(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Yl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function iA(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yd,aA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yd=yd||document.createElement("div"),yd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fj=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){fj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function lA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function cA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pj=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(t,e){if(e){if(pj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Zg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function ow(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,ha=null,fa=null;function NE(t){if(t=Tu(t)){if(typeof ty!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Qf(e),ty(t.stateNode,t.type,e))}}function uA(t){ha?fa?fa.push(t):fa=[t]:ha=t}function dA(){if(ha){var t=ha,e=fa;if(fa=ha=null,NE(t),e)for(t=0;t<e.length;t++)NE(e[t])}}function hA(t,e){return t(e)}function fA(){}var Dm=!1;function pA(t,e,n){if(Dm)return t(e,n);Dm=!0;try{return hA(t,e,n)}finally{Dm=!1,(ha!==null||fa!==null)&&(fA(),dA())}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Qf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var ny=!1;if(es)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){ny=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{ny=!1}function mj(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var uc=!1,Nh=null,kh=!1,ry=null,gj={onError:function(t){uc=!0,Nh=t}};function yj(t,e,n,r,s,i,o,a,l){uc=!1,Nh=null,mj.apply(gj,arguments)}function vj(t,e,n,r,s,i,o,a,l){if(yj.apply(this,arguments),uc){if(uc){var c=Nh;uc=!1,Nh=null}else throw Error(H(198));kh||(kh=!0,ry=c)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kE(t){if(xo(t)!==t)throw Error(H(188))}function wj(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kE(s),t;if(i===r)return kE(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function gA(t){return t=wj(t),t!==null?yA(t):null}function yA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yA(t);if(e!==null)return e;t=t.sibling}return null}var vA=xn.unstable_scheduleCallback,DE=xn.unstable_cancelCallback,_j=xn.unstable_shouldYield,xj=xn.unstable_requestPaint,ot=xn.unstable_now,Ej=xn.unstable_getCurrentPriorityLevel,aw=xn.unstable_ImmediatePriority,wA=xn.unstable_UserBlockingPriority,Dh=xn.unstable_NormalPriority,Tj=xn.unstable_LowPriority,_A=xn.unstable_IdlePriority,Wf=null,vr=null;function Sj(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Wf,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Aj,bj=Math.log,Cj=Math.LN2;function Aj(t){return t>>>=0,t===0?32:31-(bj(t)/Cj|0)|0}var vd=64,wd=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xl(a):(i&=o,i!==0&&(r=Xl(i)))}else o=n&~s,o!==0?r=Xl(o):i!==0&&(r=Xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),s=1<<n,r|=t[n],e&=~s;return r}function Ij(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ij(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xA(){var t=vd;return vd<<=1,!(vd&4194240)&&(vd=64),t}function Mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function Rj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function EA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TA,cw,SA,bA,CA,iy=!1,_d=[],Gs=null,Ks=null,Qs=null,Oc=new Map,Lc=new Map,ks=[],Nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ME(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tu(e),e!==null&&cw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kj(t,e,n,r,s){switch(e){case"focusin":return Gs=Fl(Gs,t,e,n,r,s),!0;case"dragenter":return Ks=Fl(Ks,t,e,n,r,s),!0;case"mouseover":return Qs=Fl(Qs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oc.set(i,Fl(Oc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lc.set(i,Fl(Lc.get(i)||null,t,e,n,r,s)),!0}return!1}function AA(t){var e=Ui(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=mA(n),e!==null){t.blockedOn=e,CA(t.priority,function(){SA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ey=r,n.target.dispatchEvent(r),ey=null}else return e=Tu(n),e!==null&&cw(e),t.blockedOn=n,!1;e.shift()}return!0}function OE(t,e,n){eh(t)&&n.delete(e)}function Dj(){iy=!1,Gs!==null&&eh(Gs)&&(Gs=null),Ks!==null&&eh(Ks)&&(Ks=null),Qs!==null&&eh(Qs)&&(Qs=null),Oc.forEach(OE),Lc.forEach(OE)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,iy||(iy=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,Dj)))}function Vc(t){function e(s){return Ul(s,t)}if(0<_d.length){Ul(_d[0],t);for(var n=1;n<_d.length;n++){var r=_d[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gs!==null&&Ul(Gs,t),Ks!==null&&Ul(Ks,t),Qs!==null&&Ul(Qs,t),Oc.forEach(e),Lc.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)AA(n),n.blockedOn===null&&ks.shift()}var pa=ps.ReactCurrentBatchConfig,Oh=!0;function Mj(t,e,n,r){var s=Re,i=pa.transition;pa.transition=null;try{Re=1,uw(t,e,n,r)}finally{Re=s,pa.transition=i}}function Oj(t,e,n,r){var s=Re,i=pa.transition;pa.transition=null;try{Re=4,uw(t,e,n,r)}finally{Re=s,pa.transition=i}}function uw(t,e,n,r){if(Oh){var s=oy(t,e,n,r);if(s===null)Hm(t,e,r,Lh,n),ME(t,r);else if(kj(s,t,e,n,r))r.stopPropagation();else if(ME(t,r),e&4&&-1<Nj.indexOf(t)){for(;s!==null;){var i=Tu(s);if(i!==null&&TA(i),i=oy(t,e,n,r),i===null&&Hm(t,e,r,Lh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hm(t,e,r,null,n)}}var Lh=null;function oy(t,e,n,r){if(Lh=null,t=ow(r),t=Ui(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lh=t,null}function IA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ej()){case aw:return 1;case wA:return 4;case Dh:case Tj:return 16;case _A:return 536870912;default:return 16}default:return 16}}var Hs=null,dw=null,th=null;function PA(){if(th)return th;var t,e=dw,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return th=s.slice(t,1<r?1-r:void 0)}function nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xd(){return!0}function LE(){return!1}function Sn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xd:LE,this.isPropagationStopped=LE,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=Sn(rl),Eu=qe({},rl,{view:0,detail:0}),Lj=Sn(Eu),Om,Lm,Bl,qf=qe({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(Om=t.screenX-Bl.screenX,Lm=t.screenY-Bl.screenY):Lm=Om=0,Bl=t),Om)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),VE=Sn(qf),Vj=qe({},qf,{dataTransfer:0}),jj=Sn(Vj),Fj=qe({},Eu,{relatedTarget:0}),Vm=Sn(Fj),Uj=qe({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Bj=Sn(Uj),$j=qe({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zj=Sn($j),Hj=qe({},rl,{data:0}),jE=Sn(Hj),Wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gj[t])?!!e[t]:!1}function fw(){return Kj}var Qj=qe({},Eu,{key:function(t){if(t.key){var e=Wj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fw,charCode:function(t){return t.type==="keypress"?nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yj=Sn(Qj),Xj=qe({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FE=Sn(Xj),Jj=qe({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fw}),Zj=Sn(Jj),e4=qe({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t4=Sn(e4),n4=qe({},qf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r4=Sn(n4),s4=[9,13,27,32],pw=es&&"CompositionEvent"in window,dc=null;es&&"documentMode"in document&&(dc=document.documentMode);var i4=es&&"TextEvent"in window&&!dc,RA=es&&(!pw||dc&&8<dc&&11>=dc),UE=" ",BE=!1;function NA(t,e){switch(t){case"keyup":return s4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function o4(t,e){switch(t){case"compositionend":return kA(e);case"keypress":return e.which!==32?null:(BE=!0,UE);case"textInput":return t=e.data,t===UE&&BE?null:t;default:return null}}function a4(t,e){if(Ko)return t==="compositionend"||!pw&&NA(t,e)?(t=PA(),th=dw=Hs=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RA&&e.locale!=="ko"?null:e.data;default:return null}}var l4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l4[t.type]:e==="textarea"}function DA(t,e,n,r){uA(r),e=Vh(e,"onChange"),0<e.length&&(n=new hw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,jc=null;function c4(t){HA(t,0)}function Gf(t){var e=Xo(t);if(rA(e))return t}function u4(t,e){if(t==="change")return e}var MA=!1;if(es){var jm;if(es){var Fm="oninput"in document;if(!Fm){var zE=document.createElement("div");zE.setAttribute("oninput","return;"),Fm=typeof zE.oninput=="function"}jm=Fm}else jm=!1;MA=jm&&(!document.documentMode||9<document.documentMode)}function HE(){hc&&(hc.detachEvent("onpropertychange",OA),jc=hc=null)}function OA(t){if(t.propertyName==="value"&&Gf(jc)){var e=[];DA(e,jc,t,ow(t)),pA(c4,e)}}function d4(t,e,n){t==="focusin"?(HE(),hc=e,jc=n,hc.attachEvent("onpropertychange",OA)):t==="focusout"&&HE()}function h4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gf(jc)}function f4(t,e){if(t==="click")return Gf(e)}function p4(t,e){if(t==="input"||t==="change")return Gf(e)}function m4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:m4;function Fc(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$g.call(e,s)||!Jn(t[s],e[s]))return!1}return!0}function WE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qE(t,e){var n=WE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WE(n)}}function LA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VA(){for(var t=window,e=Rh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rh(t.document)}return e}function mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g4(t){var e=VA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LA(n.ownerDocument.documentElement,n)){if(r!==null&&mw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qE(n,i);var o=qE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y4=es&&"documentMode"in document&&11>=document.documentMode,Qo=null,ay=null,fc=null,ly=!1;function GE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ly||Qo==null||Qo!==Rh(r)||(r=Qo,"selectionStart"in r&&mw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&Fc(fc,r)||(fc=r,r=Vh(ay,"onSelect"),0<r.length&&(e=new hw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function Ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yo={animationend:Ed("Animation","AnimationEnd"),animationiteration:Ed("Animation","AnimationIteration"),animationstart:Ed("Animation","AnimationStart"),transitionend:Ed("Transition","TransitionEnd")},Um={},jA={};es&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Kf(t){if(Um[t])return Um[t];if(!Yo[t])return t;var e=Yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jA)return Um[t]=e[n];return t}var FA=Kf("animationend"),UA=Kf("animationiteration"),BA=Kf("animationstart"),$A=Kf("transitionend"),zA=new Map,KE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){zA.set(t,e),_o(e,[t])}for(var Bm=0;Bm<KE.length;Bm++){var $m=KE[Bm],v4=$m.toLowerCase(),w4=$m[0].toUpperCase()+$m.slice(1);wi(v4,"on"+w4)}wi(FA,"onAnimationEnd");wi(UA,"onAnimationIteration");wi(BA,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi($A,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function QE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vj(r,e,void 0,t),t.currentTarget=null}function HA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;QE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;QE(s,a,c),i=l}}}if(kh)throw t=ry,kh=!1,ry=null,t}function je(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(WA(e,t,2,!1),n.add(r))}function zm(t,e,n){var r=0;e&&(r|=4),WA(n,t,r,e)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Uc(t){if(!t[Td]){t[Td]=!0,JC.forEach(function(n){n!=="selectionchange"&&(_4.has(n)||zm(n,!1,t),zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Td]||(e[Td]=!0,zm("selectionchange",!1,e))}}function WA(t,e,n,r){switch(IA(e)){case 1:var s=Mj;break;case 4:s=Oj;break;default:s=uw}n=s.bind(null,e,n,t),s=void 0,!ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}pA(function(){var c=i,d=ow(n),h=[];e:{var p=zA.get(t);if(p!==void 0){var y=hw,E=t;switch(t){case"keypress":if(nh(n)===0)break e;case"keydown":case"keyup":y=Yj;break;case"focusin":E="focus",y=Vm;break;case"focusout":E="blur",y=Vm;break;case"beforeblur":case"afterblur":y=Vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=VE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zj;break;case FA:case UA:case BA:y=Bj;break;case $A:y=t4;break;case"scroll":y=Lj;break;case"wheel":y=r4;break;case"copy":case"cut":case"paste":y=zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=FE}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var _=c,S;_!==null;){S=_;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,v!==null&&(A=Mc(_,v),A!=null&&w.push(Bc(_,A,S)))),x)break;_=_.return}0<w.length&&(p=new y(p,E,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==ey&&(E=n.relatedTarget||n.fromElement)&&(Ui(E)||E[ts]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?Ui(E):null,E!==null&&(x=xo(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(w=VE,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=FE,A="onPointerLeave",v="onPointerEnter",_="pointer"),x=y==null?p:Xo(y),S=E==null?p:Xo(E),p=new w(A,_+"leave",y,n,d),p.target=x,p.relatedTarget=S,A=null,Ui(d)===c&&(w=new w(v,_+"enter",E,n,d),w.target=S,w.relatedTarget=x,A=w),x=A,y&&E)t:{for(w=y,v=E,_=0,S=w;S;S=Lo(S))_++;for(S=0,A=v;A;A=Lo(A))S++;for(;0<_-S;)w=Lo(w),_--;for(;0<S-_;)v=Lo(v),S--;for(;_--;){if(w===v||v!==null&&w===v.alternate)break t;w=Lo(w),v=Lo(v)}w=null}else w=null;y!==null&&YE(h,p,y,w,!1),E!==null&&x!==null&&YE(h,x,E,w,!0)}}e:{if(p=c?Xo(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var P=u4;else if($E(p))if(MA)P=p4;else{P=h4;var O=d4}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=f4);if(P&&(P=P(t,c))){DA(h,P,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Qg(p,"number",p.value)}switch(O=c?Xo(c):window,t){case"focusin":($E(O)||O.contentEditable==="true")&&(Qo=O,ay=c,fc=null);break;case"focusout":fc=ay=Qo=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,GE(h,n,d);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":GE(h,n,d)}var C;if(pw)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ko?NA(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(RA&&n.locale!=="ko"&&(Ko||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ko&&(C=PA()):(Hs=d,dw="value"in Hs?Hs.value:Hs.textContent,Ko=!0)),O=Vh(c,b),0<O.length&&(b=new jE(b,t,null,n,d),h.push({event:b,listeners:O}),C?b.data=C:(C=kA(n),C!==null&&(b.data=C)))),(C=i4?o4(t,n):a4(t,n))&&(c=Vh(c,"onBeforeInput"),0<c.length&&(d=new jE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}HA(h,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mc(t,n),i!=null&&r.unshift(Bc(t,i,s)),i=Mc(t,e),i!=null&&r.push(Bc(t,i,s))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Mc(n,i),l!=null&&o.unshift(Bc(n,l,a))):s||(l=Mc(n,i),l!=null&&o.push(Bc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var x4=/\r\n?/g,E4=/\u0000|\uFFFD/g;function XE(t){return(typeof t=="string"?t:""+t).replace(x4,`
`).replace(E4,"")}function Sd(t,e,n){if(e=XE(e),XE(t)!==e&&n)throw Error(H(425))}function jh(){}var cy=null,uy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,T4=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(t){return JE.resolve(null).then(t).catch(b4)}:hy;function b4(t){setTimeout(function(){throw t})}function Wm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vc(e)}function Ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),fr="__reactFiber$"+sl,$c="__reactProps$"+sl,ts="__reactContainer$"+sl,fy="__reactEvents$"+sl,C4="__reactListeners$"+sl,A4="__reactHandles$"+sl;function Ui(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ts]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZE(t);t!==null;){if(n=t[fr])return n;t=ZE(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[fr]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Qf(t){return t[$c]||null}var py=[],Jo=-1;function _i(t){return{current:t}}function Ue(t){0>Jo||(t.current=py[Jo],py[Jo]=null,Jo--)}function Me(t,e){Jo++,py[Jo]=t.current,t.current=e}var ai={},Ut=_i(ai),on=_i(!1),ro=ai;function Ma(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Fh(){Ue(on),Ue(Ut)}function eT(t,e,n){if(Ut.current!==ai)throw Error(H(168));Me(Ut,e),Me(on,n)}function qA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,dj(t)||"Unknown",s));return qe({},n,r)}function Uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,ro=Ut.current,Me(Ut,t),Me(on,on.current),!0}function tT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=qA(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,Ue(on),Ue(Ut),Me(Ut,t)):Ue(on),Me(on,n)}var zr=null,Yf=!1,qm=!1;function GA(t){zr===null?zr=[t]:zr.push(t)}function I4(t){Yf=!0,GA(t)}function xi(){if(!qm&&zr!==null){qm=!0;var t=0,e=Re;try{var n=zr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,Yf=!1}catch(s){throw zr!==null&&(zr=zr.slice(t+1)),vA(aw,xi),s}finally{Re=e,qm=!1}}return null}var Zo=[],ea=0,Bh=null,$h=0,Pn=[],Rn=0,so=null,qr=1,Gr="";function Oi(t,e){Zo[ea++]=$h,Zo[ea++]=Bh,Bh=t,$h=e}function KA(t,e,n){Pn[Rn++]=qr,Pn[Rn++]=Gr,Pn[Rn++]=so,so=t;var r=qr;t=Gr;var s=32-Qn(r)-1;r&=~(1<<s),n+=1;var i=32-Qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,qr=1<<32-Qn(e)+s|n<<s|r,Gr=i+t}else qr=1<<i|n<<s|r,Gr=t}function gw(t){t.return!==null&&(Oi(t,1),KA(t,1,0))}function yw(t){for(;t===Bh;)Bh=Zo[--ea],Zo[ea]=null,$h=Zo[--ea],Zo[ea]=null;for(;t===so;)so=Pn[--Rn],Pn[Rn]=null,Gr=Pn[--Rn],Pn[Rn]=null,qr=Pn[--Rn],Pn[Rn]=null}var yn=null,pn=null,$e=!1,Gn=null;function QA(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,pn=Ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=so!==null?{id:qr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,pn=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if($e){var e=pn;if(e){var n=e;if(!nT(t,e)){if(my(t))throw Error(H(418));e=Ys(n.nextSibling);var r=yn;e&&nT(t,e)?QA(r,n):(t.flags=t.flags&-4097|2,$e=!1,yn=t)}}else{if(my(t))throw Error(H(418));t.flags=t.flags&-4097|2,$e=!1,yn=t}}}function rT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function bd(t){if(t!==yn)return!1;if(!$e)return rT(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=pn)){if(my(t))throw YA(),Error(H(418));for(;e;)QA(t,e),e=Ys(e.nextSibling)}if(rT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=yn?Ys(t.stateNode.nextSibling):null;return!0}function YA(){for(var t=pn;t;)t=Ys(t.nextSibling)}function Oa(){pn=yn=null,$e=!1}function vw(t){Gn===null?Gn=[t]:Gn.push(t)}var P4=ps.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Cd(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sT(t){var e=t._init;return e(t._payload)}function XA(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=ei(v,_),v.index=0,v.sibling=null,v}function i(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,A){return _===null||_.tag!==6?(_=Zm(S,v.mode,A),_.return=v,_):(_=s(_,S),_.return=v,_)}function l(v,_,S,A){var P=S.type;return P===Go?d(v,_,S.props.children,A,S.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Rs&&sT(P)===_.type)?(A=s(_,S.props),A.ref=$l(v,_,S),A.return=v,A):(A=ch(S.type,S.key,S.props,null,v.mode,A),A.ref=$l(v,_,S),A.return=v,A)}function c(v,_,S,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=eg(S,v.mode,A),_.return=v,_):(_=s(_,S.children||[]),_.return=v,_)}function d(v,_,S,A,P){return _===null||_.tag!==7?(_=Zi(S,v.mode,A,P),_.return=v,_):(_=s(_,S),_.return=v,_)}function h(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zm(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case md:return S=ch(_.type,_.key,_.props,null,v.mode,S),S.ref=$l(v,null,_),S.return=v,S;case qo:return _=eg(_,v.mode,S),_.return=v,_;case Rs:var A=_._init;return h(v,A(_._payload),S)}if(Yl(_)||Vl(_))return _=Zi(_,v.mode,S,null),_.return=v,_;Cd(v,_)}return null}function p(v,_,S,A){var P=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(v,_,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case md:return S.key===P?l(v,_,S,A):null;case qo:return S.key===P?c(v,_,S,A):null;case Rs:return P=S._init,p(v,_,P(S._payload),A)}if(Yl(S)||Vl(S))return P!==null?null:d(v,_,S,A,null);Cd(v,S)}return null}function y(v,_,S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(S)||null,a(_,v,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case md:return v=v.get(A.key===null?S:A.key)||null,l(_,v,A,P);case qo:return v=v.get(A.key===null?S:A.key)||null,c(_,v,A,P);case Rs:var O=A._init;return y(v,_,S,O(A._payload),P)}if(Yl(A)||Vl(A))return v=v.get(S)||null,d(_,v,A,P,null);Cd(_,A)}return null}function E(v,_,S,A){for(var P=null,O=null,C=_,b=_=0,I=null;C!==null&&b<S.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var N=p(v,C,S[b],A);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(v,C),_=i(N,_,b),O===null?P=N:O.sibling=N,O=N,C=I}if(b===S.length)return n(v,C),$e&&Oi(v,b),P;if(C===null){for(;b<S.length;b++)C=h(v,S[b],A),C!==null&&(_=i(C,_,b),O===null?P=C:O.sibling=C,O=C);return $e&&Oi(v,b),P}for(C=r(v,C);b<S.length;b++)I=y(C,v,b,S[b],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),_=i(I,_,b),O===null?P=I:O.sibling=I,O=I);return t&&C.forEach(function(k){return e(v,k)}),$e&&Oi(v,b),P}function w(v,_,S,A){var P=Vl(S);if(typeof P!="function")throw Error(H(150));if(S=P.call(S),S==null)throw Error(H(151));for(var O=P=null,C=_,b=_=0,I=null,N=S.next();C!==null&&!N.done;b++,N=S.next()){C.index>b?(I=C,C=null):I=C.sibling;var k=p(v,C,N.value,A);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(v,C),_=i(k,_,b),O===null?P=k:O.sibling=k,O=k,C=I}if(N.done)return n(v,C),$e&&Oi(v,b),P;if(C===null){for(;!N.done;b++,N=S.next())N=h(v,N.value,A),N!==null&&(_=i(N,_,b),O===null?P=N:O.sibling=N,O=N);return $e&&Oi(v,b),P}for(C=r(v,C);!N.done;b++,N=S.next())N=y(C,v,b,N.value,A),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?b:N.key),_=i(N,_,b),O===null?P=N:O.sibling=N,O=N);return t&&C.forEach(function(M){return e(v,M)}),$e&&Oi(v,b),P}function x(v,_,S,A){if(typeof S=="object"&&S!==null&&S.type===Go&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case md:e:{for(var P=S.key,O=_;O!==null;){if(O.key===P){if(P=S.type,P===Go){if(O.tag===7){n(v,O.sibling),_=s(O,S.props.children),_.return=v,v=_;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Rs&&sT(P)===O.type){n(v,O.sibling),_=s(O,S.props),_.ref=$l(v,O,S),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}S.type===Go?(_=Zi(S.props.children,v.mode,A,S.key),_.return=v,v=_):(A=ch(S.type,S.key,S.props,null,v.mode,A),A.ref=$l(v,_,S),A.return=v,v=A)}return o(v);case qo:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=s(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=eg(S,v.mode,A),_.return=v,v=_}return o(v);case Rs:return O=S._init,x(v,_,O(S._payload),A)}if(Yl(S))return E(v,_,S,A);if(Vl(S))return w(v,_,S,A);Cd(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,S),_.return=v,v=_):(n(v,_),_=Zm(S,v.mode,A),_.return=v,v=_),o(v)):n(v,_)}return x}var La=XA(!0),JA=XA(!1),zh=_i(null),Hh=null,ta=null,ww=null;function _w(){ww=ta=Hh=null}function xw(t){var e=zh.current;Ue(zh),t._currentValue=e}function yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ma(t,e){Hh=t,ww=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(ww!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Hh===null)throw Error(H(308));ta=t,Hh.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Bi=null;function Ew(t){Bi===null?Bi=[t]:Bi.push(t)}function ZA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ew(e)):(n.next=s.next,s.next=n),e.interleaved=n,ns(t,r)}function ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Tw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ns(t,n)}return s=r.interleaved,s===null?(e.next=e,Ew(r)):(e.next=s.next,s.next=e),r.interleaved=e,ns(t,n)}function rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lw(t,n)}}function iT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wh(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,w=a;switch(p=e,y=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){h=E.call(y,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,p=typeof E=="function"?E.call(y,h,p):E,p==null)break e;h=qe({},h,p);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=h}}function oT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Su={},wr=_i(Su),zc=_i(Su),Hc=_i(Su);function $i(t){if(t===Su)throw Error(H(174));return t}function Sw(t,e){switch(Me(Hc,e),Me(zc,t),Me(wr,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}Ue(wr),Me(wr,e)}function Va(){Ue(wr),Ue(zc),Ue(Hc)}function tI(t){$i(Hc.current);var e=$i(wr.current),n=Xg(e,t.type);e!==n&&(Me(zc,t),Me(wr,n))}function bw(t){zc.current===t&&(Ue(wr),Ue(zc))}var ze=_i(0);function qh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gm=[];function Cw(){for(var t=0;t<Gm.length;t++)Gm[t]._workInProgressVersionPrimary=null;Gm.length=0}var sh=ps.ReactCurrentDispatcher,Km=ps.ReactCurrentBatchConfig,io=0,We=null,pt=null,_t=null,Gh=!1,pc=!1,Wc=0,R4=0;function Dt(){throw Error(H(321))}function Aw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function Iw(t,e,n,r,s,i){if(io=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sh.current=t===null||t.memoizedState===null?M4:O4,t=n(r,s),pc){i=0;do{if(pc=!1,Wc=0,25<=i)throw Error(H(301));i+=1,_t=pt=null,e.updateQueue=null,sh.current=L4,t=n(r,s)}while(pc)}if(sh.current=Kh,e=pt!==null&&pt.next!==null,io=0,_t=pt=We=null,Gh=!1,e)throw Error(H(300));return t}function Pw(){var t=Wc!==0;return Wc=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?We.memoizedState=_t=t:_t=_t.next=t,_t}function Ln(){if(pt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=_t===null?We.memoizedState:_t.next;if(e!==null)_t=e,pt=t;else{if(t===null)throw Error(H(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?We.memoizedState=_t=t:_t=_t.next=t}return _t}function qc(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=Ln(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((io&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,We.lanes|=d,oo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,oo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ym(t){var e=Ln(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Jn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nI(){}function rI(t,e){var n=We,r=Ln(),s=e(),i=!Jn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,Rw(oI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Gc(9,iI.bind(null,n,r,s,e),void 0,null),Et===null)throw Error(H(349));io&30||sI(n,e,s)}return s}function sI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iI(t,e,n,r){e.value=n,e.getSnapshot=r,aI(e)&&lI(t)}function oI(t,e,n){return n(function(){aI(e)&&lI(t)})}function aI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function lI(t){var e=ns(t,1);e!==null&&Yn(e,t,1,-1)}function aT(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:t},e.queue=t,t=t.dispatch=D4.bind(null,We,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cI(){return Ln().memoizedState}function ih(t,e,n,r){var s=ar();We.flags|=t,s.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Xf(t,e,n,r){var s=Ln();r=r===void 0?null:r;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,r!==null&&Aw(r,o.deps)){s.memoizedState=Gc(e,n,i,r);return}}We.flags|=t,s.memoizedState=Gc(1|e,n,i,r)}function lT(t,e){return ih(8390656,8,t,e)}function Rw(t,e){return Xf(2048,8,t,e)}function uI(t,e){return Xf(4,2,t,e)}function dI(t,e){return Xf(4,4,t,e)}function hI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fI(t,e,n){return n=n!=null?n.concat([t]):null,Xf(4,4,hI.bind(null,e,t),n)}function Nw(){}function pI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gI(t,e,n){return io&21?(Jn(n,e)||(n=xA(),We.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function N4(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Km.transition;Km.transition={};try{t(!1),e()}finally{Re=n,Km.transition=r}}function yI(){return Ln().memoizedState}function k4(t,e,n){var r=Zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vI(t))wI(e,n);else if(n=ZA(t,e,n,r),n!==null){var s=Xt();Yn(n,t,r,s),_I(n,e,r)}}function D4(t,e,n){var r=Zs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vI(t))wI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ew(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ZA(t,e,s,r),n!==null&&(s=Xt(),Yn(n,t,r,s),_I(n,e,r))}}function vI(t){var e=t.alternate;return t===We||e!==null&&e===We}function wI(t,e){pc=Gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _I(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lw(t,n)}}var Kh={readContext:On,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},M4={readContext:On,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:lT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,hI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=k4.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:aT,useDebugValue:Nw,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=aT(!1),e=t[0];return t=N4.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=ar();if($e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Et===null)throw Error(H(349));io&30||sI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lT(oI.bind(null,r,i,t),[t]),r.flags|=2048,Gc(9,iI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ar(),e=Et.identifierPrefix;if($e){var n=Gr,r=qr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O4={readContext:On,useCallback:pI,useContext:On,useEffect:Rw,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:Qm,useRef:cI,useState:function(){return Qm(qc)},useDebugValue:Nw,useDeferredValue:function(t){var e=Ln();return gI(e,pt.memoizedState,t)},useTransition:function(){var t=Qm(qc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1},L4={readContext:On,useCallback:pI,useContext:On,useEffect:Rw,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:Ym,useRef:cI,useState:function(){return Ym(qc)},useDebugValue:Nw,useDeferredValue:function(t){var e=Ln();return pt===null?e.memoizedState=t:gI(e,pt.memoizedState,t)},useTransition:function(){var t=Ym(qc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jf={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Zs(t),i=Xr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Xs(t,i,s),e!==null&&(Yn(e,t,s,r),rh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Zs(t),i=Xr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xs(t,i,s),e!==null&&(Yn(e,t,s,r),rh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Zs(t),s=Xr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Xs(t,s,r),e!==null&&(Yn(e,t,r,n),rh(e,t,r))}};function cT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(s,i):!0}function xI(t,e,n){var r=!1,s=ai,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=an(e)?ro:Ut.current,r=e.contextTypes,i=(r=r!=null)?Ma(t,s):ai),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jf.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Tw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=an(e)?ro:Ut.current,s.context=Ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jf.enqueueReplaceState(s,s.state,null),Wh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e){try{var n="",r=e;do n+=uj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V4=typeof WeakMap=="function"?WeakMap:Map;function EI(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yh||(Yh=!0,Ry=r),_y(t,e)},n}function TI(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_y(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_y(t,e),typeof r!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=X4.bind(null,t,e,n),e.then(t,t))}function hT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Xs(n,e,1))),n.lanes|=1),t)}var j4=ps.ReactCurrentOwner,sn=!1;function qt(t,e,n,r){e.child=t===null?JA(e,null,n,r):La(e,t.child,n,r)}function pT(t,e,n,r,s){n=n.render;var i=e.ref;return ma(e,s),r=Iw(t,e,n,r,i,s),n=Pw(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rs(t,e,s)):($e&&n&&gw(e),e.flags|=1,qt(t,e,r,s),e.child)}function mT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SI(t,e,i,r,s)):(t=ch(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(o,r)&&t.ref===e.ref)return rs(t,e,s)}return e.flags|=1,t=ei(i,r),t.ref=e.ref,t.return=e,e.child=t}function SI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fc(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,rs(t,e,s)}return xy(t,e,n,r,s)}function bI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ra,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(ra,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(ra,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(ra,dn),dn|=r;return qt(t,e,s,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xy(t,e,n,r,s){var i=an(n)?ro:Ut.current;return i=Ma(e,i),ma(e,s),n=Iw(t,e,n,r,i,s),r=Pw(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rs(t,e,s)):($e&&r&&gw(e),e.flags|=1,qt(t,e,n,s),e.child)}function gT(t,e,n,r,s){if(an(n)){var i=!0;Uh(e)}else i=!1;if(ma(e,s),e.stateNode===null)oh(t,e),xI(e,n,r),wy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=an(n)?ro:Ut.current,c=Ma(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uT(e,o,r,c),Ns=!1;var p=e.memoizedState;o.state=p,Wh(e,r,o,s),l=e.memoizedState,a!==r||p!==l||on.current||Ns?(typeof d=="function"&&(vy(e,n,d,r),l=e.memoizedState),(a=Ns||cT(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$n(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=an(n)?ro:Ut.current,l=Ma(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&uT(e,o,r,l),Ns=!1,p=e.memoizedState,o.state=p,Wh(e,r,o,s);var E=e.memoizedState;a!==h||p!==E||on.current||Ns?(typeof y=="function"&&(vy(e,n,y,r),E=e.memoizedState),(c=Ns||cT(e,n,c,r,p,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ey(t,e,n,r,i,s)}function Ey(t,e,n,r,s,i){CI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tT(e,n,!1),rs(t,e,i);r=e.stateNode,j4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=La(e,t.child,null,i),e.child=La(e,null,a,i)):qt(t,e,a,i),e.memoizedState=r.state,s&&tT(e,n,!0),e.child}function AI(t){var e=t.stateNode;e.pendingContext?eT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eT(t,e.context,!1),Sw(t,e.containerInfo)}function yT(t,e,n,r,s){return Oa(),vw(s),e.flags|=256,qt(t,e,n,r),e.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function II(t,e,n){var r=e.pendingProps,s=ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(ze,s&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tp(o,r,0,null),t=Zi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Sy(n),e.memoizedState=Ty,t):kw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return F4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ei(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ei(a,i):(i=Zi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Sy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ty,r}return i=t.child,t=i.sibling,r=ei(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kw(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,r){return r!==null&&vw(r),La(e,t.child,null,n),t=kw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xm(Error(H(422))),Ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tp({mode:"visible",children:r.children},s,0,null),i=Zi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&La(e,t.child,null,o),e.child.memoizedState=Sy(o),e.memoizedState=Ty,i);if(!(e.mode&1))return Ad(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Xm(i,r,void 0),Ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(t,s),Yn(r,t,s,-1))}return jw(),r=Xm(Error(H(421))),Ad(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=J4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=Ys(s.nextSibling),yn=e,$e=!0,Gn=null,t!==null&&(Pn[Rn++]=qr,Pn[Rn++]=Gr,Pn[Rn++]=so,qr=t.id,Gr=t.overflow,so=e),e=kw(e,r.children),e.flags|=4096,e)}function vT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yy(t.return,e,n)}function Jm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(qt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vT(t,n,e);else if(t.tag===19)vT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jm(e,!0,n,null,i);break;case"together":Jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U4(t,e,n){switch(e.tag){case 3:AI(e),Oa();break;case 5:tI(e);break;case 1:an(e.type)&&Uh(e);break;case 4:Sw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(zh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?II(t,e,n):(Me(ze,ze.current&1),t=rs(t,e,n),t!==null?t.sibling:null);Me(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,bI(t,e,n)}return rs(t,e,n)}var RI,by,NI,kI;RI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};by=function(){};NI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$i(wr.current);var i=null;switch(n){case"input":s=Gg(t,s),r=Gg(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=Yg(t,s),r=Yg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}Jg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kI=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B4(t,e,n){var r=e.pendingProps;switch(yw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return an(e.type)&&Fh(),Mt(e),null;case 3:return r=e.stateNode,Va(),Ue(on),Ue(Ut),Cw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Dy(Gn),Gn=null))),by(t,e),Mt(e),null;case 5:bw(e);var s=$i(Hc.current);if(n=e.type,t!==null&&e.stateNode!=null)NI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Mt(e),null}if(t=$i(wr.current),bd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fr]=e,r[$c]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<Jl.length;s++)je(Jl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":AE(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":PE(r,i),je("invalid",r)}Jg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sd(r.textContent,a,t),s=["children",""+a]):kc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":gd(r),IE(r,i,!0);break;case"textarea":gd(r),RE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[$c]=r,RI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zg(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<Jl.length;s++)je(Jl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":AE(t,r),s=Gg(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),je("invalid",t);break;case"textarea":PE(t,r),s=Yg(t,r),je("invalid",t);break;default:s=r}Jg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dc(t,l):typeof l=="number"&&Dc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&nw(t,i,l,o))}switch(n){case"input":gd(t),IE(t,r,!1);break;case"textarea":gd(t),RE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?da(t,!!r.multiple,i,!1):r.defaultValue!=null&&da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)kI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=$i(Hc.current),$i(wr.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(i=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Sd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ue(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&pn!==null&&e.mode&1&&!(e.flags&128))YA(),Oa(),e.flags|=98560,i=!1;else if(i=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[fr]=e}else Oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Gn!==null&&(Dy(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?mt===0&&(mt=3):jw())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Va(),by(t,e),t===null&&Uc(e.stateNode.containerInfo),Mt(e),null;case 10:return xw(e.type._context),Mt(e),null;case 17:return an(e.type)&&Fh(),Mt(e),null;case 19:if(Ue(ze),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zl(i,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qh(t),o!==null){for(e.flags|=128,zl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(ze,ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>Fa&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=qh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Mt(e),null}else 2*ot()-i.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=ze.current,Me(ze,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return Vw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function $4(t,e){switch(yw(e),e.tag){case 1:return an(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(),Ue(on),Ue(Ut),Cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(Ue(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(ze),null;case 4:return Va(),null;case 10:return xw(e.type._context),null;case 22:case 23:return Vw(),null;case 24:return null;default:return null}}var Id=!1,jt=!1,z4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Cy(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var wT=!1;function H4(t,e){if(cy=Oh,t=VA(),mw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uy={focusedElem:t,selectionRange:n},Oh=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,x=E.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:$n(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(A){Ze(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return E=wT,wT=!1,E}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cy(e,n,i)}s=s.next}while(s!==r)}}function Zf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DI(t){var e=t.alternate;e!==null&&(t.alternate=null,DI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[$c],delete e[fy],delete e[C4],delete e[A4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MI(t){return t.tag===5||t.tag===3||t.tag===4}function _T(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(Iy(t,e,n),t=t.sibling;t!==null;)Iy(t,e,n),t=t.sibling}function Py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Py(t,e,n),t=t.sibling;t!==null;)Py(t,e,n),t=t.sibling}var bt=null,qn=!1;function Es(t,e,n){for(n=n.child;n!==null;)OI(t,e,n),n=n.sibling}function OI(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Wf,n)}catch{}switch(n.tag){case 5:jt||na(n,e);case 6:var r=bt,s=qn;bt=null,Es(t,e,n),bt=r,qn=s,bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?Wm(t.parentNode,n):t.nodeType===1&&Wm(t,n),Vc(t)):Wm(bt,n.stateNode));break;case 4:r=bt,s=qn,bt=n.stateNode.containerInfo,qn=!0,Es(t,e,n),bt=r,qn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cy(n,e,o),s=s.next}while(s!==r)}Es(t,e,n);break;case 1:if(!jt&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Es(t,e,n),jt=r):Es(t,e,n);break;default:Es(t,e,n)}}function xT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z4),e.forEach(function(r){var s=Z4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,qn=!1;break e;case 3:bt=a.stateNode.containerInfo,qn=!0;break e;case 4:bt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(bt===null)throw Error(H(160));OI(i,o,s),bt=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LI(e,t),e=e.sibling}function LI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),or(t),r&4){try{mc(3,t,t.return),Zf(3,t)}catch(w){Ze(t,t.return,w)}try{mc(5,t,t.return)}catch(w){Ze(t,t.return,w)}}break;case 1:jn(e,t),or(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(jn(e,t),or(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var s=t.stateNode;try{Dc(s,"")}catch(w){Ze(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sA(s,i),Zg(a,o);var c=Zg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?cA(s,h):d==="dangerouslySetInnerHTML"?aA(s,h):d==="children"?Dc(s,h):nw(s,d,h,c)}switch(a){case"input":Kg(s,i);break;case"textarea":iA(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?da(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?da(s,!!i.multiple,i.defaultValue,!0):da(s,!!i.multiple,i.multiple?[]:"",!1))}s[$c]=i}catch(w){Ze(t,t.return,w)}}break;case 6:if(jn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ze(t,t.return,w)}}break;case 3:if(jn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(w){Ze(t,t.return,w)}break;case 4:jn(e,t),or(t);break;case 13:jn(e,t),or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ow=ot())),r&4&&xT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(c=jt)||d,jn(e,t),jt=c):jn(e,t),or(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,y=p.child,p.tag){case 0:case 11:case 14:case 15:mc(4,p,p.return);break;case 1:na(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){Ze(r,n,w)}}break;case 5:na(p,p.return);break;case 22:if(p.memoizedState!==null){TT(h);continue}}y!==null?(y.return=p,Y=y):TT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lA("display",o))}catch(w){Ze(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ze(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(e,t),or(t),r&4&&xT(t);break;case 21:break;default:jn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MI(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dc(s,""),r.flags&=-33);var i=_T(t);Py(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_T(t);Iy(t,a,o);break;default:throw Error(H(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W4(t,e,n){Y=t,VI(t)}function VI(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Id;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Id;var c=jt;if(Id=o,(jt=l)&&!c)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?ST(s):l!==null?(l.return=o,Y=l):ST(s);for(;i!==null;)Y=i,VI(i),i=i.sibling;Y=s,Id=a,jt=c}ET(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):ET(t)}}function ET(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Zf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&oT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}jt||e.flags&512&&Ay(e)}catch(p){Ze(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function TT(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function ST(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zf(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{Ay(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{Ay(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var q4=Math.ceil,Qh=ps.ReactCurrentDispatcher,Dw=ps.ReactCurrentOwner,Dn=ps.ReactCurrentBatchConfig,Se=0,Et=null,ut=null,Pt=0,dn=0,ra=_i(0),mt=0,Kc=null,oo=0,ep=0,Mw=0,gc=null,rn=null,Ow=0,Fa=1/0,$r=null,Yh=!1,Ry=null,Js=null,Pd=!1,Ws=null,Xh=0,yc=0,Ny=null,ah=-1,lh=0;function Xt(){return Se&6?ot():ah!==-1?ah:ah=ot()}function Zs(t){return t.mode&1?Se&2&&Pt!==0?Pt&-Pt:P4.transition!==null?(lh===0&&(lh=xA()),lh):(t=Re,t!==0||(t=window.event,t=t===void 0?16:IA(t.type)),t):1}function Yn(t,e,n,r){if(50<yc)throw yc=0,Ny=null,Error(H(185));xu(t,n,r),(!(Se&2)||t!==Et)&&(t===Et&&(!(Se&2)&&(ep|=n),mt===4&&Ds(t,Pt)),ln(t,r),n===1&&Se===0&&!(e.mode&1)&&(Fa=ot()+500,Yf&&xi()))}function ln(t,e){var n=t.callbackNode;Pj(t,e);var r=Mh(t,t===Et?Pt:0);if(r===0)n!==null&&DE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DE(n),e===1)t.tag===0?I4(bT.bind(null,t)):GA(bT.bind(null,t)),S4(function(){!(Se&6)&&xi()}),n=null;else{switch(EA(r)){case 1:n=aw;break;case 4:n=wA;break;case 16:n=Dh;break;case 536870912:n=_A;break;default:n=Dh}n=WI(n,jI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jI(t,e){if(ah=-1,lh=0,Se&6)throw Error(H(327));var n=t.callbackNode;if(ga()&&t.callbackNode!==n)return null;var r=Mh(t,t===Et?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jh(t,r);else{e=r;var s=Se;Se|=2;var i=UI();(Et!==t||Pt!==e)&&($r=null,Fa=ot()+500,Ji(t,e));do try{Q4();break}catch(a){FI(t,a)}while(!0);_w(),Qh.current=i,Se=s,ut!==null?e=0:(Et=null,Pt=0,e=mt)}if(e!==0){if(e===2&&(s=sy(t),s!==0&&(r=s,e=ky(t,s))),e===1)throw n=Kc,Ji(t,0),Ds(t,r),ln(t,ot()),n;if(e===6)Ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!G4(s)&&(e=Jh(t,r),e===2&&(i=sy(t),i!==0&&(r=i,e=ky(t,i))),e===1))throw n=Kc,Ji(t,0),Ds(t,r),ln(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Li(t,rn,$r);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=Ow+500-ot(),10<e)){if(Mh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hy(Li.bind(null,t,rn,$r),e);break}Li(t,rn,$r);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q4(r/1960))-r,10<r){t.timeoutHandle=hy(Li.bind(null,t,rn,$r),r);break}Li(t,rn,$r);break;case 5:Li(t,rn,$r);break;default:throw Error(H(329))}}}return ln(t,ot()),t.callbackNode===n?jI.bind(null,t):null}function ky(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=Jh(t,e),t!==2&&(e=rn,rn=n,e!==null&&Dy(e)),t}function Dy(t){rn===null?rn=t:rn.push.apply(rn,t)}function G4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~Mw,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function bT(t){if(Se&6)throw Error(H(327));ga();var e=Mh(t,0);if(!(e&1))return ln(t,ot()),null;var n=Jh(t,e);if(t.tag!==0&&n===2){var r=sy(t);r!==0&&(e=r,n=ky(t,r))}if(n===1)throw n=Kc,Ji(t,0),Ds(t,e),ln(t,ot()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,rn,$r),ln(t,ot()),null}function Lw(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Fa=ot()+500,Yf&&xi())}}function ao(t){Ws!==null&&Ws.tag===0&&!(Se&6)&&ga();var e=Se;Se|=1;var n=Dn.transition,r=Re;try{if(Dn.transition=null,Re=1,t)return t()}finally{Re=r,Dn.transition=n,Se=e,!(Se&6)&&xi()}}function Vw(){dn=ra.current,Ue(ra)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T4(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(yw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:Va(),Ue(on),Ue(Ut),Cw();break;case 5:bw(r);break;case 4:Va();break;case 13:Ue(ze);break;case 19:Ue(ze);break;case 10:xw(r.type._context);break;case 22:case 23:Vw()}n=n.return}if(Et=t,ut=t=ei(t.current,null),Pt=dn=e,mt=0,Kc=null,Mw=ep=oo=0,rn=gc=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bi=null}return t}function FI(t,e){do{var n=ut;try{if(_w(),sh.current=Kh,Gh){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gh=!1}if(io=0,_t=pt=We=null,pc=!1,Wc=0,Dw.current=null,n===null||n.return===null){mt=1,Kc=e,ut=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=hT(o);if(y!==null){y.flags&=-257,fT(y,o,a,i,e),y.mode&1&&dT(i,c,e),e=y,l=c;var E=e.updateQueue;if(E===null){var w=new Set;w.add(l),e.updateQueue=w}else E.add(l);break e}else{if(!(e&1)){dT(i,c,e),jw();break e}l=Error(H(426))}}else if($e&&a.mode&1){var x=hT(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fT(x,o,a,i,e),vw(ja(l,a));break e}}i=l=ja(l,a),mt!==4&&(mt=2),gc===null?gc=[i]:gc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=EI(i,l,e);iT(i,v);break e;case 1:a=l;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Js===null||!Js.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=TI(i,a,e);iT(i,A);break e}}i=i.return}while(i!==null)}$I(n)}catch(P){e=P,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function UI(){var t=Qh.current;return Qh.current=Kh,t===null?Kh:t}function jw(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(oo&268435455)&&!(ep&268435455)||Ds(Et,Pt)}function Jh(t,e){var n=Se;Se|=2;var r=UI();(Et!==t||Pt!==e)&&($r=null,Ji(t,e));do try{K4();break}catch(s){FI(t,s)}while(!0);if(_w(),Se=n,Qh.current=r,ut!==null)throw Error(H(261));return Et=null,Pt=0,mt}function K4(){for(;ut!==null;)BI(ut)}function Q4(){for(;ut!==null&&!_j();)BI(ut)}function BI(t){var e=HI(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?$I(t):ut=e,Dw.current=null}function $I(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$4(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(n=B4(n,e,dn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);mt===0&&(mt=5)}function Li(t,e,n){var r=Re,s=Dn.transition;try{Dn.transition=null,Re=1,Y4(t,e,n,r)}finally{Dn.transition=s,Re=r}return null}function Y4(t,e,n,r){do ga();while(Ws!==null);if(Se&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rj(t,i),t===Et&&(ut=Et=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pd||(Pd=!0,WI(Dh,function(){return ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Re;Re=1;var a=Se;Se|=4,Dw.current=null,H4(t,n),LI(n,t),g4(uy),Oh=!!cy,uy=cy=null,t.current=n,W4(n),xj(),Se=a,Re=o,Dn.transition=i}else t.current=n;if(Pd&&(Pd=!1,Ws=t,Xh=s),i=t.pendingLanes,i===0&&(Js=null),Sj(n.stateNode),ln(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yh)throw Yh=!1,t=Ry,Ry=null,t;return Xh&1&&t.tag!==0&&ga(),i=t.pendingLanes,i&1?t===Ny?yc++:(yc=0,Ny=t):yc=0,xi(),null}function ga(){if(Ws!==null){var t=EA(Xh),e=Dn.transition,n=Re;try{if(Dn.transition=null,Re=16>t?16:t,Ws===null)var r=!1;else{if(t=Ws,Ws=null,Xh=0,Se&6)throw Error(H(331));var s=Se;for(Se|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:mc(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,y=d.return;if(DI(d),d===c){Y=null;break}if(p!==null){p.return=y,Y=p;break}Y=y}}}var E=i.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Y=S;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zf(9,a)}}catch(P){Ze(a,a.return,P)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(Se=s,xi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Wf,t)}catch{}r=!0}return r}finally{Re=n,Dn.transition=e}}return!1}function CT(t,e,n){e=ja(n,e),e=EI(t,e,1),t=Xs(t,e,1),e=Xt(),t!==null&&(xu(t,1,e),ln(t,e))}function Ze(t,e,n){if(t.tag===3)CT(t,t,n);else for(;e!==null;){if(e.tag===3){CT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){t=ja(n,t),t=TI(e,t,1),e=Xs(e,t,1),t=Xt(),e!==null&&(xu(e,1,t),ln(e,t));break}}e=e.return}}function X4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Pt&n)===n&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>ot()-Ow?Ji(t,0):Mw|=n),ln(t,e)}function zI(t,e){e===0&&(t.mode&1?(e=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):e=1);var n=Xt();t=ns(t,e),t!==null&&(xu(t,e,n),ln(t,n))}function J4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zI(t,n)}function Z4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),zI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,U4(t,e,n);sn=!!(t.flags&131072)}else sn=!1,$e&&e.flags&1048576&&KA(e,$h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;oh(t,e),t=e.pendingProps;var s=Ma(e,Ut.current);ma(e,n),s=Iw(null,e,r,t,s,n);var i=Pw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Uh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tw(e),s.updater=Jf,e.stateNode=s,s._reactInternals=e,wy(e,r,t,n),e=Ey(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&gw(e),qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(oh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tF(r),t=$n(r,t),s){case 0:e=xy(null,e,r,t,n);break e;case 1:e=gT(null,e,r,t,n);break e;case 11:e=pT(null,e,r,t,n);break e;case 14:e=mT(null,e,r,$n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),xy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),gT(t,e,r,s,n);case 3:e:{if(AI(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eI(t,e),Wh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ja(Error(H(423)),e),e=yT(t,e,r,n,s);break e}else if(r!==s){s=ja(Error(H(424)),e),e=yT(t,e,r,n,s);break e}else for(pn=Ys(e.stateNode.containerInfo.firstChild),yn=e,$e=!0,Gn=null,n=JA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===s){e=rs(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return tI(e),t===null&&gy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dy(r,s)?o=null:i!==null&&dy(r,i)&&(e.flags|=32),CI(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&gy(e),null;case 13:return II(t,e,n);case 4:return Sw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=La(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),pT(t,e,r,s,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(zh,r._currentValue),r._currentValue=o,i!==null)if(Jn(i.value,o)){if(i.children===s.children&&!on.current){e=rs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ma(e,n),s=On(s),r=r(s),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),mT(t,e,r,s,n);case 15:return SI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),oh(t,e),e.tag=1,an(r)?(t=!0,Uh(e)):t=!1,ma(e,n),xI(e,r,s),wy(e,r,s,n),Ey(null,e,r,!0,t,n);case 19:return PI(t,e,n);case 22:return bI(t,e,n)}throw Error(H(156,e.tag))};function WI(t,e){return vA(t,e)}function eF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new eF(t,e,n,r)}function Fw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tF(t){if(typeof t=="function")return Fw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sw)return 11;if(t===iw)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ch(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return Zi(n.children,s,i,e);case rw:o=8,s|=8;break;case zg:return t=kn(12,n,e,s|2),t.elementType=zg,t.lanes=i,t;case Hg:return t=kn(13,n,e,s),t.elementType=Hg,t.lanes=i,t;case Wg:return t=kn(19,n,e,s),t.elementType=Wg,t.lanes=i,t;case tA:return tp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZC:o=10;break e;case eA:o=9;break e;case sw:o=11;break e;case iw:o=14;break e;case Rs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zi(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function tp(t,e,n,r){return t=kn(22,t,r,e),t.elementType=tA,t.lanes=n,t.stateNode={isHidden:!1},t}function Zm(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function eg(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uw(t,e,n,r,s,i,o,a,l){return t=new nF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tw(i),t}function rF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qI(t){if(!t)return ai;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(an(n))return qA(t,n,e)}return e}function GI(t,e,n,r,s,i,o,a,l){return t=Uw(n,r,!0,t,s,i,o,a,l),t.context=qI(null),n=t.current,r=Xt(),s=Zs(n),i=Xr(r,s),i.callback=e??null,Xs(n,i,s),t.current.lanes=s,xu(t,s,r),ln(t,r),t}function np(t,e,n,r){var s=e.current,i=Xt(),o=Zs(s);return n=qI(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xs(s,e,o),t!==null&&(Yn(t,s,o,i),rh(t,s,o)),o}function Zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bw(t,e){AT(t,e),(t=t.alternate)&&AT(t,e)}function sF(){return null}var KI=typeof reportError=="function"?reportError:function(t){console.error(t)};function $w(t){this._internalRoot=t}rp.prototype.render=$w.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));np(t,e,null,null)};rp.prototype.unmount=$w.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){np(null,t,null,null)}),e[ts]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=bA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&AA(t)}};function zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IT(){}function iF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zh(o);i.call(c)}}var o=GI(e,r,t,0,null,!1,!1,"",IT);return t._reactRootContainer=o,t[ts]=o.current,Uc(t.nodeType===8?t.parentNode:t),ao(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Zh(l);a.call(c)}}var l=Uw(t,0,!1,null,null,!1,!1,"",IT);return t._reactRootContainer=l,t[ts]=l.current,Uc(t.nodeType===8?t.parentNode:t),ao(function(){np(e,l,n,r)}),l}function ip(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zh(o);a.call(l)}}np(e,o,t,s)}else o=iF(n,e,t,s,r);return Zh(o)}TA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(lw(e,n|1),ln(e,ot()),!(Se&6)&&(Fa=ot()+500,xi()))}break;case 13:ao(function(){var r=ns(t,1);if(r!==null){var s=Xt();Yn(r,t,1,s)}}),Bw(t,1)}};cw=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var n=Xt();Yn(e,t,134217728,n)}Bw(t,134217728)}};SA=function(t){if(t.tag===13){var e=Zs(t),n=ns(t,e);if(n!==null){var r=Xt();Yn(n,t,e,r)}Bw(t,e)}};bA=function(){return Re};CA=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};ty=function(t,e,n){switch(e){case"input":if(Kg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qf(r);if(!s)throw Error(H(90));rA(r),Kg(r,s)}}}break;case"textarea":iA(t,n);break;case"select":e=n.value,e!=null&&da(t,!!n.multiple,e,!1)}};hA=Lw;fA=ao;var oF={usingClientEntryPoint:!1,Events:[Tu,Xo,Qf,uA,dA,Lw]},Hl={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aF={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gA(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||sF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Wf=Rd.inject(aF),vr=Rd}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oF;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(e))throw Error(H(200));return rF(t,e,null,n)};Tn.createRoot=function(t,e){if(!zw(t))throw Error(H(299));var n=!1,r="",s=KI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Uw(t,1,!1,null,null,n,!1,r,s),t[ts]=e.current,Uc(t.nodeType===8?t.parentNode:t),new $w(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=gA(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return ao(t)};Tn.hydrate=function(t,e,n){if(!sp(e))throw Error(H(200));return ip(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!zw(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=KI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GI(e,null,t,1,n??null,s,!1,i,o),t[ts]=e.current,Uc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rp(e)};Tn.render=function(t,e,n){if(!sp(e))throw Error(H(200));return ip(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!sp(t))throw Error(H(40));return t._reactRootContainer?(ao(function(){ip(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};Tn.unstable_batchedUpdates=Lw;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sp(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ip(t,e,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(t){console.error(t)}}QI(),QC.exports=Tn;var Eo=QC.exports;const lF=VC(Eo);var YI,PT=Eo;YI=PT.createRoot,PT.hydrateRoot;function cF(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var XI={exports:{}},JI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=m;function uF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dF=typeof Object.is=="function"?Object.is:uF,hF=Ua.useState,fF=Ua.useEffect,pF=Ua.useLayoutEffect,mF=Ua.useDebugValue;function gF(t,e){var n=e(),r=hF({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return pF(function(){s.value=n,s.getSnapshot=e,tg(s)&&i({inst:s})},[t,n,e]),fF(function(){return tg(s)&&i({inst:s}),t(function(){tg(s)&&i({inst:s})})},[t]),mF(n),n}function tg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dF(t,n)}catch{return!0}}function yF(t,e){return e()}var vF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yF:gF;JI.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:vF;XI.exports=JI;var ZI=XI.exports;const wF=Hf.useInsertionEffect,_F=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xF=_F?m.useLayoutEffect:m.useEffect,EF=wF||xF,eP=t=>{const e=m.useRef([t,(...n)=>e[0](...n)]).current;return EF(()=>{e[0]=t}),e[1]},TF="popstate",Hw="pushState",Ww="replaceState",SF="hashchange",RT=[TF,Hw,Ww,SF],bF=t=>{for(const e of RT)addEventListener(e,t);return()=>{for(const e of RT)removeEventListener(e,t)}},tP=(t,e)=>ZI.useSyncExternalStore(bF,t,e),NT=()=>location.search,CF=({ssrSearch:t}={})=>tP(NT,t!=null?()=>t:NT),kT=()=>location.pathname,AF=({ssrPath:t}={})=>tP(kT,t!=null?()=>t:kT),IF=(t,{replace:e=!1,state:n=null}={})=>history[e?Ww:Hw](n,"",t),PF=(t={})=>[AF(t),IF],DT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[DT]>"u"){for(const t of[Hw,Ww]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,DT,{value:!0})}const RF=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nP=(t="")=>t==="/"?"":t,NF=(t,e)=>t[0]==="~"?t.slice(1):nP(e)+t,kF=(t="",e)=>RF(MT(nP(t)),MT(e)),MT=t=>{try{return decodeURI(t)}catch{return t}},rP={hook:PF,searchHook:CF,parser:cF,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},sP=m.createContext(rP),bu=()=>m.useContext(sP),iP={},oP=m.createContext(iP),DF=()=>m.useContext(oP),op=t=>{const[e,n]=t.hook(t);return[kF(t.base,e),eP((r,s)=>n(NF(r,t.base),s))]},aP=()=>op(bu()),lP=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},MF=({children:t,...e})=>{var d,h,p;const n=bu(),r=e.hook?rP:n;let s=r;const[i,o=e.ssrSearch??""]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];i&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((p=e.hook)==null?void 0:p.searchHook);let a=m.useRef({}),l=a.current,c=l;for(let y in r){const E=y==="base"?r[y]+(e[y]??""):e[y]??r[y];l===c&&E!==c[y]&&(a.current=c={...c}),c[y]=E,(E!==r[y]||E!==s[y])&&(s=c)}return m.createElement(sP.Provider,{value:s,children:t})},OT=({children:t,component:e},n)=>e?m.createElement(e,{params:n}):typeof t=="function"?t(n):t,OF=t=>{let e=m.useRef(iP);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Vo=({path:t,nest:e,match:n,...r})=>{const s=bu(),[i]=op(s),[o,a,l]=n??lP(s.parser,t,i,e),c=OF({...DF(),...a});if(!o)return null;const d=l?m.createElement(MF,{base:l},OT(r,c)):OT(r,c);return m.createElement(oP.Provider,{value:c,children:d})},Nd=m.forwardRef((t,e)=>{const n=bu(),[r,s]=op(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:h,state:p,...y}=t,E=eP(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&m.isValidElement(c)?m.cloneElement(c,{onClick:E,href:w}):m.createElement("a",{...y,onClick:E,href:w,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),cP=t=>Array.isArray(t)?t.flatMap(e=>cP(e&&e.type===m.Fragment?e.props.children:e)):[t],LF=({children:t,location:e})=>{const n=bu(),[r]=op(n);for(const s of cP(t)){let i=0;if(m.isValidElement(s)&&(i=lP(n.parser,s.props.path,e||r,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null};var ap=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},js,Qv,IC,jF=(IC=class{constructor(){xe(this,js,VF);xe(this,Qv,!1)}setTimeoutProvider(t){ce(this,js,t)}setTimeout(t,e){return U(this,js).setTimeout(t,e)}clearTimeout(t){U(this,js).clearTimeout(t)}setInterval(t,e){return U(this,js).setInterval(t,e)}clearInterval(t){U(this,js).clearInterval(t)}},js=new WeakMap,Qv=new WeakMap,IC),My=new jF;function FF(t){setTimeout(t,0)}var lp=typeof window>"u"||"Deno"in globalThis;function zn(){}function UF(t,e){return typeof t=="function"?t(e):t}function BF(t){return typeof t=="number"&&t>=0&&t!==1/0}function $F(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Oy(t,e){return typeof t=="function"?t(e):t}function zF(t,e){return typeof t=="function"?t(e):t}function LT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qw(o,e.options))return!1}else if(!Yc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(i))return!1}else if(!Yc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>Ly(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yc(t[n],e[n])):!1}var HF=Object.prototype.hasOwnProperty;function uP(t,e){if(t===e)return t;const n=jT(t)&&jT(e);if(!n&&!(Ly(t)&&Ly(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],h=t[d],p=e[d];if(h===p){a[d]=h,(n?c<s:HF.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[d]=p;continue}const y=uP(h,p);a[d]=y,y===h&&l++}return s===o&&l===s?t:a}function jT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ly(t){if(!FT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FT(t){return Object.prototype.toString.call(t)==="[object Object]"}function WF(t){return new Promise(e=>{My.setTimeout(e,t)})}function qF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uP(t,e):e}function GF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function KF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gw=Symbol();function dP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qi,Fs,ba,PC,QF=(PC=class extends ap{constructor(){super();xe(this,qi);xe(this,Fs);xe(this,ba);ce(this,ba,e=>{if(!lp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Fs)||this.setEventListener(U(this,ba))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Fs))==null||e.call(this),ce(this,Fs,void 0))}setEventListener(e){var n;ce(this,ba,e),(n=U(this,Fs))==null||n.call(this),ce(this,Fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,qi)!==e&&(ce(this,qi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,qi)=="boolean"?U(this,qi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qi=new WeakMap,Fs=new WeakMap,ba=new WeakMap,PC),hP=new QF;function YF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var XF=FF;function JF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=XF;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Kt=JF(),Ca,Us,Aa,RC,ZF=(RC=class extends ap{constructor(){super();xe(this,Ca,!0);xe(this,Us);xe(this,Aa);ce(this,Aa,e=>{if(!lp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Us)||this.setEventListener(U(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Us))==null||e.call(this),ce(this,Us,void 0))}setEventListener(e){var n;ce(this,Aa,e),(n=U(this,Us))==null||n.call(this),ce(this,Us,e(this.setOnline.bind(this)))}setOnline(e){U(this,Ca)!==e&&(ce(this,Ca,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Ca)}},Ca=new WeakMap,Us=new WeakMap,Aa=new WeakMap,RC),ef=new ZF;function e3(t){return Math.min(1e3*2**t,3e4)}function fP(t){return(t??"online")==="online"?ef.isOnline():!0}var Vy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pP(t){let e=!1,n=0,r;const s=YF(),i=()=>s.status!=="pending",o=w=>{var x;if(!i()){const v=new Vy(w);p(v),(x=t.onCancel)==null||x.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>hP.isFocused()&&(t.networkMode==="always"||ef.isOnline())&&t.canRun(),d=()=>fP(t.networkMode)&&t.canRun(),h=w=>{i()||(r==null||r(),s.resolve(w))},p=w=>{i()||(r==null||r(),s.reject(w))},y=()=>new Promise(w=>{var x;r=v=>{(i()||c())&&w(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;r=void 0,i()||(w=t.onContinue)==null||w.call(t)}),E=()=>{if(i())return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(h).catch(v=>{var O;if(i())return;const _=t.retry??(lp?0:3),S=t.retryDelay??e3,A=typeof S=="function"?S(n,v):S,P=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!P){p(v);return}n++,(O=t.onFail)==null||O.call(t,n,v),WF(A).then(()=>c()?void 0:y()).then(()=>{e?p(v):E()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():y().then(E),s)}}var Gi,NC,mP=(NC=class{constructor(){xe(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BF(this.gcTime)&&ce(this,Gi,My.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lp?1/0:5*60*1e3))}clearGcTimeout(){U(this,Gi)&&(My.clearTimeout(U(this,Gi)),ce(this,Gi,void 0))}},Gi=new WeakMap,NC),Ki,Ia,In,Qi,vt,yu,Yi,Hn,Br,kC,t3=(kC=class extends mP{constructor(n){super();xe(this,Hn);xe(this,Ki);xe(this,Ia);xe(this,In);xe(this,Qi);xe(this,vt);xe(this,yu);xe(this,Yi);ce(this,Yi,!1),ce(this,yu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,Qi,n.client),ce(this,In,U(this,Qi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,Ki,BT(this.options)),this.state=n.state??U(this,Ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,vt))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,yu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=BT(this.options);r.data!==void 0&&(this.setState(UT(r.data,r.dataUpdatedAt)),ce(this,Ki,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,In).remove(this)}setData(n,r){const s=qF(this.state.data,n,this.options);return kt(this,Hn,Br).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){kt(this,Hn,Br).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,vt))==null?void 0:s.promise;return(i=U(this,vt))==null||i.cancel(n),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ki))}isActive(){return this.observers.some(n=>zF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Oy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!$F(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,In).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,vt)&&(U(this,Yi)?U(this,vt).cancel({revert:!0}):U(this,vt).cancelRetry()),this.scheduleGc()),U(this,In).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kt(this,Hn,Br).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,h,p,y,E,w,x,v,_,S,A;if(this.state.fetchStatus!=="idle"&&((c=U(this,vt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,vt))return U(this,vt).continueRetry(),U(this,vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const P=this.observers.find(O=>O.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ce(this,Yi,!0),s.signal)})},o=()=>{const P=dP(this.options,r),C=(()=>{const b={client:U(this,Qi),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ce(this,Yi,!1),this.options.persister?this.options.persister(P,C,this):P(C)},l=(()=>{const P={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Qi),state:this.state,fetchFn:o};return i(P),P})();(d=this.options.behavior)==null||d.onFetch(l,this),ce(this,Ia,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&kt(this,Hn,Br).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),ce(this,vt,pP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof Vy&&P.revert&&this.setState({...U(this,Ia),fetchStatus:"idle"}),s.abort()},onFail:(P,O)=>{kt(this,Hn,Br).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{kt(this,Hn,Br).call(this,{type:"pause"})},onContinue:()=>{kt(this,Hn,Br).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await U(this,vt).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(E=(y=U(this,In).config).onSuccess)==null||E.call(y,P,this),(x=(w=U(this,In).config).onSettled)==null||x.call(w,P,this.state.error,this),P}catch(P){if(P instanceof Vy){if(P.silent)return U(this,vt).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw kt(this,Hn,Br).call(this,{type:"error",error:P}),(_=(v=U(this,In).config).onError)==null||_.call(v,P,this),(A=(S=U(this,In).config).onSettled)==null||A.call(S,this.state.data,P,this),P}finally{this.scheduleGc()}}},Ki=new WeakMap,Ia=new WeakMap,In=new WeakMap,Qi=new WeakMap,vt=new WeakMap,yu=new WeakMap,Yi=new WeakMap,Hn=new WeakSet,Br=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...n3(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...UT(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Ia,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,In).notify({query:this,type:"updated",action:n})})},kC);function n3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function BT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function $T(t){return{onFetch:(e,n)=>{var d,h,p,y,E;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},v=dP(e.options,e.fetchOptions),_=async(S,A,P)=>{if(w)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};return x(k),k})(),b=await v(C),{maxPages:I}=e.options,N=P?KF:GF;return{pages:N(S.pages,b,I),pageParams:N(S.pageParams,A,I)}};if(s&&i.length){const S=s==="backward",A=S?r3:zT,P={pages:i,pageParams:o},O=A(r,P);a=await _(P,O,S)}else{const S=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:zT(r,a);if(l>0&&A==null)break;a=await _(a,A),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function zT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function r3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vu,ur,Wt,Xi,dr,Cs,DC,s3=(DC=class extends mP{constructor(n){super();xe(this,dr);xe(this,vu);xe(this,ur);xe(this,Wt);xe(this,Xi);ce(this,vu,n.client),this.mutationId=n.mutationId,ce(this,Wt,n.mutationCache),ce(this,ur,[]),this.state=n.state||i3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,ur).includes(n)||(U(this,ur).push(n),this.clearGcTimeout(),U(this,Wt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,ur,U(this,ur).filter(r=>r!==n)),this.scheduleGc(),U(this,Wt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,ur).length||(this.state.status==="pending"?this.scheduleGc():U(this,Wt).remove(this))}continue(){var n;return((n=U(this,Xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,h,p,y,E,w,x,v,_,S,A,P,O,C,b,I,N;const r=()=>{kt(this,dr,Cs).call(this,{type:"continue"})},s={client:U(this,vu),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Xi,pP({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,M)=>{kt(this,dr,Cs).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{kt(this,dr,Cs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Wt).canRun(this)}));const i=this.state.status==="pending",o=!U(this,Xi).canStart();try{if(i)r();else{kt(this,dr,Cs).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=U(this,Wt).config).onMutate)==null?void 0:l.call(a,n,this,s));const M=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));M!==this.state.context&&kt(this,dr,Cs).call(this,{type:"pending",context:M,variables:n,isPaused:o})}const k=await U(this,Xi).start();return await((p=(h=U(this,Wt).config).onSuccess)==null?void 0:p.call(h,k,n,this.state.context,this,s)),await((E=(y=this.options).onSuccess)==null?void 0:E.call(y,k,n,this.state.context,s)),await((x=(w=U(this,Wt).config).onSettled)==null?void 0:x.call(w,k,null,this.state.variables,this.state.context,this,s)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,k,null,n,this.state.context,s)),kt(this,dr,Cs).call(this,{type:"success",data:k}),k}catch(k){try{throw await((A=(S=U(this,Wt).config).onError)==null?void 0:A.call(S,k,n,this.state.context,this,s)),await((O=(P=this.options).onError)==null?void 0:O.call(P,k,n,this.state.context,s)),await((b=(C=U(this,Wt).config).onSettled)==null?void 0:b.call(C,void 0,k,this.state.variables,this.state.context,this,s)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,k,n,this.state.context,s)),k}finally{kt(this,dr,Cs).call(this,{type:"error",error:k})}}finally{U(this,Wt).runNext(this)}}},vu=new WeakMap,ur=new WeakMap,Wt=new WeakMap,Xi=new WeakMap,dr=new WeakSet,Cs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{U(this,ur).forEach(s=>{s.onMutationUpdate(n)}),U(this,Wt).notify({mutation:this,type:"updated",action:n})})},DC);function i3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hr,Wn,wu,MC,o3=(MC=class extends ap{constructor(e={}){super();xe(this,Hr);xe(this,Wn);xe(this,wu);this.config=e,ce(this,Hr,new Set),ce(this,Wn,new Map),ce(this,wu,0)}build(e,n,r){const s=new s3({client:e,mutationCache:this,mutationId:++fd(this,wu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Hr).add(e);const n=kd(e);if(typeof n=="string"){const r=U(this,Wn).get(n);r?r.push(e):U(this,Wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Hr).delete(e)){const n=kd(e);if(typeof n=="string"){const r=U(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kd(e);if(typeof n=="string"){const r=U(this,Wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=kd(e);if(typeof n=="string"){const s=(r=U(this,Wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{U(this,Hr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Hr).clear(),U(this,Wn).clear()})}getAll(){return Array.from(U(this,Hr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VT(n,r))}findAll(e={}){return this.getAll().filter(n=>VT(e,n))}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(zn))))}},Hr=new WeakMap,Wn=new WeakMap,wu=new WeakMap,MC);function kd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var hr,OC,a3=(OC=class extends ap{constructor(e={}){super();xe(this,hr);this.config=e,ce(this,hr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qw(s,n);let o=this.get(i);return o||(o=new t3({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,hr).has(e.queryHash)||(U(this,hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,hr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,hr).get(e)}getAll(){return[...U(this,hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>LT(e,r)):n}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hr=new WeakMap,OC),Xe,Bs,$s,Pa,Ra,zs,Na,ka,LC,l3=(LC=class{constructor(t={}){xe(this,Xe);xe(this,Bs);xe(this,$s);xe(this,Pa);xe(this,Ra);xe(this,zs);xe(this,Na);xe(this,ka);ce(this,Xe,t.queryCache||new a3),ce(this,Bs,t.mutationCache||new o3),ce(this,$s,t.defaultOptions||{}),ce(this,Pa,new Map),ce(this,Ra,new Map),ce(this,zs,0)}mount(){fd(this,zs)._++,U(this,zs)===1&&(ce(this,Na,hP.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onFocus())})),ce(this,ka,ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onOnline())})))}unmount(){var t,e;fd(this,zs)._--,U(this,zs)===0&&((t=U(this,Na))==null||t.call(this),ce(this,Na,void 0),(e=U(this,ka))==null||e.call(this),ce(this,ka,void 0))}isFetching(t){return U(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Oy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=UF(e,i);if(o!==void 0)return U(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kt.batch(()=>U(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Xe);Kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Xe);return Kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kt.batch(()=>U(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(t,e={}){return Kt.batch(()=>(U(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kt.batch(()=>U(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Xe).build(this,e);return n.isStaleByTime(Oy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zn).catch(zn)}fetchInfiniteQuery(t){return t.behavior=$T(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zn).catch(zn)}ensureInfiniteQueryData(t){return t.behavior=$T(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ef.isOnline()?U(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Xe)}getMutationCache(){return U(this,Bs)}getDefaultOptions(){return U(this,$s)}setDefaultOptions(t){ce(this,$s,t)}setQueryDefaults(t,e){U(this,Pa).set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Pa).values()],n={};return e.forEach(r=>{Yc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ra).set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ra).values()],n={};return e.forEach(r=>{Yc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,$s).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,$s).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Xe).clear(),U(this,Bs).clear()}},Xe=new WeakMap,Bs=new WeakMap,$s=new WeakMap,Pa=new WeakMap,Ra=new WeakMap,zs=new WeakMap,Na=new WeakMap,ka=new WeakMap,LC),c3=m.createContext(void 0),u3=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(c3.Provider,{value:t,children:e}));async function d3(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const h3=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await d3(n),await n.json()},f3=new l3({defaultOptions:{queries:{queryFn:h3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),p3=1,m3=1e6;let ng=0;function g3(){return ng=(ng+1)%Number.MAX_SAFE_INTEGER,ng.toString()}const rg=new Map,HT=t=>{if(rg.has(t))return;const e=setTimeout(()=>{rg.delete(t),vc({type:"REMOVE_TOAST",toastId:t})},m3);rg.set(t,e)},y3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,p3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?HT(n):t.toasts.forEach(r=>{HT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uh=[];let dh={toasts:[]};function vc(t){dh=y3(dh,t),uh.forEach(e=>{e(dh)})}function v3({...t}){const e=g3(),n=s=>vc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vc({type:"DISMISS_TOAST",toastId:e});return vc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Cu(){const[t,e]=m.useState(dh);return m.useEffect(()=>(uh.push(e),()=>{const n=uh.indexOf(e);n>-1&&uh.splice(n,1)}),[t]),{...t,toast:v3,dismiss:n=>vc({type:"DISMISS_TOAST",toastId:n})}}function W(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function WT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ms(...t){return e=>{let n=!1;const r=t.map(s=>{const i=WT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():WT(t[s],null)}}}}function ge(...t){return m.useCallback(ms(...t),t)}function w3(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function nr(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:y,...E}=h,w=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,x=m.useMemo(()=>E,Object.values(E));return f.jsx(w.Provider,{value:x,children:y})};c.displayName=i+"Provider";function d(h,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,E=m.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_3(s,...e)]}function _3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qT(t){const e=x3(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(T3);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function x3(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=b3(s),a=S3(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E3=Symbol("radix.slottable");function T3(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E3}function S3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function b3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cp(t){const e=t+"CollectionProvider",[n,r]=nr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:v}=w,_=Gt.useRef(null),S=Gt.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:S,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=qT(a),c=Gt.forwardRef((w,x)=>{const{scope:v,children:_}=w,S=i(a,v),A=ge(x,S.collectionRef);return f.jsx(l,{ref:A,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=qT(d),y=Gt.forwardRef((w,x)=>{const{scope:v,children:_,...S}=w,A=Gt.useRef(null),P=ge(x,A),O=i(d,v);return Gt.useEffect(()=>(O.itemMap.set(A,{ref:A,...S}),()=>void O.itemMap.delete(A))),f.jsx(p,{[h]:"",ref:P,children:_})});y.displayName=d;function E(w){const x=i(t+"CollectionConsumer",w);return Gt.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((O,C)=>S.indexOf(O.ref.current)-S.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:y},E,r]}function C3(t){const e=A3(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(P3);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function A3(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=N3(s),a=R3(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var I3=Symbol("radix.slottable");function P3(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===I3}function R3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function N3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var k3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=k3.reduce((t,e)=>{const n=C3(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Kw(t,e){t&&Eo.flushSync(()=>t.dispatchEvent(e))}function et(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function D3(t,e=globalThis==null?void 0:globalThis.document){const n=et(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var M3="DismissableLayer",jy="dismissableLayer.update",O3="dismissableLayer.pointerDownOutside",L3="dismissableLayer.focusOutside",GT,gP=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),il=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(gP),[d,h]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),E=ge(e,C=>h(C)),w=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(x),_=d?w.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=_>=v,P=j3(C=>{const b=C.target,I=[...c.branches].some(N=>N.contains(b));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=F3(C=>{const b=C.target;[...c.branches].some(N=>N.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return D3(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(GT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),KT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=GT)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),KT())},[d,c]),m.useEffect(()=>{const C=()=>y({});return document.addEventListener(jy,C),()=>document.removeEventListener(jy,C)},[]),f.jsx(ie.div,{...l,ref:E,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:W(t.onFocusCapture,O.onFocusCapture),onBlurCapture:W(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:W(t.onPointerDownCapture,P.onPointerDownCapture)})});il.displayName=M3;var V3="DismissableLayerBranch",yP=m.forwardRef((t,e)=>{const n=m.useContext(gP),r=m.useRef(null),s=ge(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(ie.div,{...t,ref:s})});yP.displayName=V3;function j3(t,e=globalThis==null?void 0:globalThis.document){const n=et(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){vP(O3,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function F3(t,e=globalThis==null?void 0:globalThis.document){const n=et(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&vP(L3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KT(){const t=new CustomEvent(jy);document.dispatchEvent(t)}function vP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Kw(s,i):s.dispatchEvent(i)}var U3=il,B3=yP,lt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$3="Portal",Au=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);lt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lF.createPortal(f.jsx(ie.div,{...r,ref:e}),o):null});Au.displayName=$3;function z3(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var en=t=>{const{present:e,children:n}=t,r=H3(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ge(r.ref,W3(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};en.displayName="Presence";function H3(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=z3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Dd(r.current);i.current=a==="mounted"?c:"none"},[a]),lt(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,y=Dd(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),lt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=y=>{const w=Dd(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=y=>{y.target===e&&(i.current=Dd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Dd(t){return(t==null?void 0:t.animationName)||"none"}function W3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var q3=Hf[" useInsertionEffect ".trim().toString()]||lt;function lo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=G3({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=m.useCallback(d=>{var h;if(a){const p=K3(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function G3({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return q3(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function K3(t){return typeof t=="function"}var wP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q3="VisuallyHidden",up=m.forwardRef((t,e)=>f.jsx(ie.span,{...t,ref:e,style:{...wP,...t.style}}));up.displayName=Q3;var Y3=up,Qw="ToastProvider",[Yw,X3,J3]=cp("Toast"),[_P]=nr("Toast",[J3]),[Z3,dp]=_P(Qw),xP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qw}\`. Expected non-empty \`string\`.`),f.jsx(Yw.Provider,{scope:e,children:f.jsx(Z3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(y=>y+1),[]),onToastRemove:m.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};xP.displayName=Qw;var EP="ToastViewport",eU=["F8"],Fy="toast.viewportPause",Uy="toast.viewportResume",TP=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eU,label:s="Notifications ({hotkey})",...i}=t,o=dp(EP,n),a=X3(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),h=m.useRef(null),p=ge(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;m.useEffect(()=>{const x=v=>{var S;r.length!==0&&r.every(A=>v[A]||v.code===A)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,v=h.current;if(E&&x&&v){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Fy);v.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Uy);v.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!x.contains(O.relatedTarget)&&S()},P=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",_),x.addEventListener("focusout",A),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",P),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",P),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[E,o.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:x})=>{const _=a().map(S=>{const A=S.ref.current,P=[A,...fU(A)];return x==="forwards"?P:P.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return m.useEffect(()=>{const x=h.current;if(x){const v=_=>{var P,O,C;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const b=document.activeElement,I=_.shiftKey;if(_.target===x&&I){(P=c.current)==null||P.focus();return}const M=w({tabbingDirection:I?"backwards":"forwards"}),D=M.findIndex(z=>z===b);sg(M.slice(D+1))?_.preventDefault():I?(O=c.current)==null||O.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,w]),f.jsxs(B3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&f.jsx(By,{ref:c,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});sg(x)}}),f.jsx(Yw.Slot,{scope:n,children:f.jsx(ie.ol,{tabIndex:-1,...i,ref:p})}),E&&f.jsx(By,{ref:d,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});sg(x)}})]})});TP.displayName=EP;var SP="ToastFocusProxy",By=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=dp(SP,n);return f.jsx(up,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});By.displayName=SP;var Iu="Toast",tU="toast.swipeStart",nU="toast.swipeMove",rU="toast.swipeCancel",sU="toast.swipeEnd",bP=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=lo({prop:r,defaultProp:s??!0,onChange:i,caller:Iu});return f.jsx(en,{present:n||a,children:f.jsx(aU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:et(t.onPause),onResume:et(t.onResume),onSwipeStart:W(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:W(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:W(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:W(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});bP.displayName=Iu;var[iU,oU]=_P(Iu,{onClose(){}}),aU=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...E}=t,w=dp(Iu,n),[x,v]=m.useState(null),_=ge(e,z=>v(z)),S=m.useRef(null),A=m.useRef(null),P=s||w.duration,O=m.useRef(0),C=m.useRef(P),b=m.useRef(0),{onToastAdd:I,onToastRemove:N}=w,k=et(()=>{var ne;(x==null?void 0:x.contains(document.activeElement))&&((ne=w.viewport)==null||ne.focus()),o()}),M=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(k,z))},[k]);m.useEffect(()=>{const z=w.viewport;if(z){const ne=()=>{M(C.current),c==null||c()},X=()=>{const J=new Date().getTime()-O.current;C.current=C.current-J,window.clearTimeout(b.current),l==null||l()};return z.addEventListener(Fy,X),z.addEventListener(Uy,ne),()=>{z.removeEventListener(Fy,X),z.removeEventListener(Uy,ne)}}},[w.viewport,P,l,c,M]),m.useEffect(()=>{i&&!w.isClosePausedRef.current&&M(P)},[i,P,w.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>N()),[I,N]);const D=m.useMemo(()=>x?kP(x):null,[x]);return w.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(lU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),f.jsx(iU,{scope:n,onClose:k,children:Eo.createPortal(f.jsx(Yw.ItemSlot,{scope:n,children:f.jsx(U3,{asChild:!0,onEscapeKeyDown:W(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ie.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:W(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:W(t.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:W(t.onPointerMove,z=>{if(!S.current)return;const ne=z.clientX-S.current.x,X=z.clientY-S.current.y,J=!!A.current,V=["left","right"].includes(w.swipeDirection),F=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,K=V?F(0,ne):0,ee=V?0:F(0,X),pe=z.pointerType==="touch"?10:2,Qe={x:K,y:ee},Ne={originalEvent:z,delta:Qe};J?(A.current=Qe,Md(nU,h,Ne,{discrete:!1})):QT(Qe,w.swipeDirection,pe)?(A.current=Qe,Md(tU,d,Ne,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ne)>pe||Math.abs(X)>pe)&&(S.current=null)}),onPointerUp:W(t.onPointerUp,z=>{const ne=A.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),A.current=null,S.current=null,ne){const J=z.currentTarget,V={originalEvent:z,delta:ne};QT(ne,w.swipeDirection,w.swipeThreshold)?Md(sU,y,V,{discrete:!0}):Md(rU,p,V,{discrete:!0}),J.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),lU=t=>{const{__scopeToast:e,children:n,...r}=t,s=dp(Iu,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return dU(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(Au,{asChild:!0,children:f.jsx(up,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},cU="ToastTitle",CP=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(ie.div,{...r,ref:e})});CP.displayName=cU;var uU="ToastDescription",AP=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(ie.div,{...r,ref:e})});AP.displayName=uU;var IP="ToastAction",PP=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(NP,{altText:n,asChild:!0,children:f.jsx(Xw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${IP}\`. Expected non-empty \`string\`.`),null)});PP.displayName=IP;var RP="ToastClose",Xw=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=oU(RP,n);return f.jsx(NP,{asChild:!0,children:f.jsx(ie.button,{type:"button",...r,ref:e,onClick:W(t.onClick,s.onClose)})})});Xw.displayName=RP;var NP=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function kP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kP(r))}}),e}function Md(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Kw(s,i):s.dispatchEvent(i)}var QT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function dU(t=()=>{}){const e=et(t);lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hU(t){return t.nodeType===t.ELEMENT_NODE}function fU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pU=xP,DP=TP,MP=bP,OP=CP,LP=AP,VP=PP,jP=Xw;function FP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=FP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function UP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=FP(t))&&(r&&(r+=" "),r+=e);return r}const YT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,XT=UP,hp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return XT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=YT(d)||YT(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...y}=d;return Object.entries(y).every(E=>{let[w,x]=E;return Array.isArray(x)?x.includes({...i,...a}[w]):{...i,...a}[w]===x})?[...c,h,p]:c},[]);return XT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...gU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BP("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(yU,{ref:i,iconNode:e,className:BP(`lucide-${mU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=he("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=he("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=he("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=he("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=he("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=he("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=he("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=he("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zw="-",HU=t=>{const e=qU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zw);return a[0]===""&&a.length!==1&&a.shift(),XP(a,e)||WU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},XP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?XP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Zw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ZT=/^\[(.+)\]$/,WU=t=>{if(ZT.test(t)){const e=ZT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KU(Object.entries(t.classGroups),n).forEach(([i,o])=>{$y(o,r,i,e)}),r},$y=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:eS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(GU(s)){$y(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{$y(o,eS(e,i),n,r)})})},eS=(t,e)=>{let n=t;return e.split(Zw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GU=t=>t.isThemeGetter,KU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,QU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},JP="!",YU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){h=x;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),y=p.startsWith(JP),E=y?p.substring(1):p,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},XU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JU=t=>({cache:QU(t.cacheSize),parseClassName:YU(t),...HU(t)}),ZU=/\s+/,e6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ZU);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(c);let E=!!y,w=r(E?p.substring(0,y):p);if(!w){if(!E){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}E=!1}const x=XU(d).join(":"),v=h?x+JP:x,_=v+w;if(i.includes(_))continue;i.push(_);const S=s(w,E);for(let A=0;A<S.length;++A){const P=S[A];i.push(v+P)}a=c+(a.length>0?" "+a:a)}return a};function t6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ZP(e))&&(r&&(r+=" "),r+=n);return r}const ZP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ZP(t[r]))&&(n&&(n+=" "),n+=e);return n};function n6(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=JU(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=e6(l,n);return s(l,d),d}return function(){return i(t6.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eR=/^\[(?:([a-z-]+):)?(.+)\]$/i,r6=/^\d+\/\d+$/,s6=new Set(["px","full","screen"]),i6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=t=>ya(t)||s6.has(t)||r6.test(t),Ts=t=>ol(t,"length",y6),ya=t=>!!t&&!Number.isNaN(Number(t)),ig=t=>ol(t,"number",ya),Wl=t=>!!t&&Number.isInteger(Number(t)),u6=t=>t.endsWith("%")&&ya(t.slice(0,-1)),fe=t=>eR.test(t),Ss=t=>i6.test(t),d6=new Set(["length","size","percentage"]),h6=t=>ol(t,d6,tR),f6=t=>ol(t,"position",tR),p6=new Set(["image","url"]),m6=t=>ol(t,p6,w6),g6=t=>ol(t,"",v6),ql=()=>!0,ol=(t,e,n)=>{const r=eR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},y6=t=>o6.test(t)&&!a6.test(t),tR=()=>!1,v6=t=>l6.test(t),w6=t=>c6.test(t),_6=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),c=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),p=Ve("gap"),y=Ve("gradientColorStops"),E=Ve("gradientColorStopPositions"),w=Ve("inset"),x=Ve("margin"),v=Ve("opacity"),_=Ve("padding"),S=Ve("saturate"),A=Ve("scale"),P=Ve("sepia"),O=Ve("skew"),C=Ve("space"),b=Ve("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",fe,e],M=()=>[fe,e],D=()=>["",Ur,Ts],z=()=>["auto",ya,fe],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",fe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ya,fe];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[Ur,Ts],blur:["none","",Ss,fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Ss,fe],borderSpacing:M(),borderWidth:D(),contrast:ee(),grayscale:F(),hueRotate:ee(),invert:F(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[u6,Ts],inset:k(),margin:k(),opacity:ee(),padding:M(),saturate:ee(),scale:ee(),sepia:F(),skew:ee(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ss]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),fe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,fe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Wl,fe]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Wl,fe]},fe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Wl,fe]},fe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ss]},Ss]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ss,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ig]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",ya,ig]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,Ts]}],"underline-offset":[{"underline-offset":["auto",Ur,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),f6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",h6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Ur,fe]}],"outline-w":[{outline:[Ur,Ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ur,Ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ss,g6]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ss,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Wl,fe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ur,Ts,ig]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x6=n6(_6);function le(...t){return x6(UP(t))}const E6=pU,nR=m.forwardRef(({className:t,...e},n)=>f.jsx(DP,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nR.displayName=DP.displayName;const T6=hp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rR=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(MP,{ref:r,className:le(T6({variant:e}),t),...n}));rR.displayName=MP.displayName;const S6=m.forwardRef(({className:t,...e},n)=>f.jsx(VP,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));S6.displayName=VP.displayName;const sR=m.forwardRef(({className:t,...e},n)=>f.jsx(jP,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(ss,{className:"h-4 w-4"})}));sR.displayName=jP.displayName;const iR=m.forwardRef(({className:t,...e},n)=>f.jsx(OP,{ref:n,className:le("text-sm font-semibold",t),...e}));iR.displayName=OP.displayName;const oR=m.forwardRef(({className:t,...e},n)=>f.jsx(LP,{ref:n,className:le("text-sm opacity-90",t),...e}));oR.displayName=LP.displayName;function b6(){const{toasts:t}=Cu();return f.jsxs(E6,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(rR,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(iR,{children:n}),r&&f.jsx(oR,{children:r})]}),s,f.jsx(sR,{})]},e)}),f.jsx(nR,{})]})}var C6=Hf[" useId ".trim().toString()]||(()=>{}),A6=0;function _r(t){const[e,n]=m.useState(C6());return lt(()=>{n(r=>r??String(A6++))},[t]),e?`radix-${e}`:""}const I6=["top","right","bottom","left"],li=Math.min,hn=Math.max,tf=Math.round,Od=Math.floor,xr=t=>({x:t,y:t}),P6={left:"right",right:"left",bottom:"top",top:"bottom"},R6={start:"end",end:"start"};function zy(t,e,n){return hn(t,li(e,n))}function is(t,e){return typeof t=="function"?t(e):t}function os(t){return t.split("-")[0]}function al(t){return t.split("-")[1]}function e_(t){return t==="x"?"y":"x"}function t_(t){return t==="y"?"height":"width"}const N6=new Set(["top","bottom"]);function gr(t){return N6.has(os(t))?"y":"x"}function n_(t){return e_(gr(t))}function k6(t,e,n){n===void 0&&(n=!1);const r=al(t),s=n_(t),i=t_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=nf(o)),[o,nf(o)]}function D6(t){const e=nf(t);return[Hy(t),e,Hy(e)]}function Hy(t){return t.replace(/start|end/g,e=>R6[e])}const tS=["left","right"],nS=["right","left"],M6=["top","bottom"],O6=["bottom","top"];function L6(t,e,n){switch(t){case"top":case"bottom":return n?e?nS:tS:e?tS:nS;case"left":case"right":return e?M6:O6;default:return[]}}function V6(t,e,n,r){const s=al(t);let i=L6(os(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Hy)))),i}function nf(t){return t.replace(/left|right|bottom|top/g,e=>P6[e])}function j6(t){return{top:0,right:0,bottom:0,left:0,...t}}function aR(t){return typeof t!="number"?j6(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rS(t,e,n){let{reference:r,floating:s}=t;const i=gr(e),o=n_(e),a=t_(o),l=os(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(al(e)){case"start":y[o]-=p*(n&&c?-1:1);break;case"end":y[o]+=p*(n&&c?-1:1);break}return y}const F6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=rS(c,r,l),p=r,y={},E=0;for(let w=0;w<a.length;w++){const{name:x,fn:v}=a[w],{x:_,y:S,data:A,reset:P}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,h=S??h,y={...y,[x]:{...y[x],...A}},P&&E<=50&&(E++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:h}=rS(c,p,l)),w=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:y}};async function Jc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=is(e,t),E=aR(y),x=a[p?h==="floating"?"reference":"floating":h],v=rf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},P=rf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(v.top-P.top+E.top)/A.y,bottom:(P.bottom-v.bottom+E.bottom)/A.y,left:(v.left-P.left+E.left)/A.x,right:(P.right-v.right+E.right)/A.x}}const U6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=is(t,e)||{};if(c==null)return{};const h=aR(d),p={x:n,y:r},y=n_(s),E=t_(y),w=await o.getDimensions(c),x=y==="y",v=x?"top":"left",_=x?"bottom":"right",S=x?"clientHeight":"clientWidth",A=i.reference[E]+i.reference[y]-p[y]-i.floating[E],P=p[y]-i.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[E]);const b=A/2-P/2,I=C/2-w[E]/2-1,N=li(h[v],I),k=li(h[_],I),M=N,D=C-w[E]-k,z=C/2-w[E]/2+b,ne=zy(M,z,D),X=!l.arrow&&al(s)!=null&&z!==ne&&i.reference[E]/2-(z<M?N:k)-w[E]/2<0,J=X?z<M?z-M:z-D:0;return{[y]:p[y]+J,data:{[y]:ne,centerOffset:z-ne-J,...X&&{alignmentOffset:J}},reset:X}}}),B6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...x}=is(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=os(s),_=gr(a),S=os(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(S||!w?[nf(a)]:D6(a)),O=E!=="none";!p&&O&&P.push(...V6(a,w,E,A));const C=[a,...P],b=await Jc(e,x),I=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(b[v]),h){const z=k6(s,o,A);I.push(b[z[0]],b[z[1]])}if(N=[...N,{placement:s,overflows:I}],!I.every(z=>z<=0)){var k,M;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,ne=C[z];if(ne&&(!(h==="alignment"?_!==gr(ne):!1)||N.every(V=>gr(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:z,overflows:N},reset:{placement:ne}};let X=(M=N.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!X)switch(y){case"bestFit":{var D;const J=(D=N.filter(V=>{if(O){const F=gr(V.placement);return F===_||F==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((V,F)=>V[1]-F[1])[0])==null?void 0:D[0];J&&(X=J);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function sS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iS(t){return I6.some(e=>t[e]>=0)}const $6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=is(t,e);switch(r){case"referenceHidden":{const i=await Jc(e,{...s,elementContext:"reference"}),o=sS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iS(o)}}}case"escaped":{const i=await Jc(e,{...s,altBoundary:!0}),o=sS(i,n.floating);return{data:{escapedOffsets:o,escaped:iS(o)}}}default:return{}}}}},lR=new Set(["left","top"]);async function z6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=os(n),a=al(n),l=gr(n)==="y",c=lR.has(o)?-1:1,d=i&&l?-1:1,h=is(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(y=a==="end"?E*-1:E),l?{x:y*d,y:p*c}:{x:p*c,y:y*d}}const H6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await z6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},W6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:_}=x;return{x:v,y:_}}},...l}=is(t,e),c={x:n,y:r},d=await Jc(e,l),h=gr(os(s)),p=e_(h);let y=c[p],E=c[h];if(i){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=y+d[x],S=y-d[v];y=zy(_,y,S)}if(o){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=E+d[x],S=E-d[v];E=zy(_,E,S)}const w=a.fn({...e,[p]:y,[h]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},q6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=is(t,e),d={x:n,y:r},h=gr(s),p=e_(h);let y=d[p],E=d[h];const w=is(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=p==="y"?"height":"width",A=i.reference[p]-i.floating[S]+x.mainAxis,P=i.reference[p]+i.reference[S]-x.mainAxis;y<A?y=A:y>P&&(y=P)}if(c){var v,_;const S=p==="y"?"width":"height",A=lR.has(os(s)),P=i.reference[h]-i.floating[S]+(A&&((v=o.offset)==null?void 0:v[h])||0)+(A?0:x.crossAxis),O=i.reference[h]+i.reference[S]+(A?0:((_=o.offset)==null?void 0:_[h])||0)-(A?x.crossAxis:0);E<P?E=P:E>O&&(E=O)}return{[p]:y,[h]:E}}}},G6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=is(t,e),d=await Jc(e,c),h=os(s),p=al(s),y=gr(s)==="y",{width:E,height:w}=i.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,x=p==="end"?"top":"bottom");const _=w-d.top-d.bottom,S=E-d.left-d.right,A=li(w-d[x],_),P=li(E-d[v],S),O=!e.middlewareData.shift;let C=A,b=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),O&&!p){const N=hn(d.left,0),k=hn(d.right,0),M=hn(d.top,0),D=hn(d.bottom,0);y?b=E-2*(N!==0||k!==0?N+k:hn(d.left,d.right)):C=w-2*(M!==0||D!==0?M+D:hn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:C});const I=await o.getDimensions(a.floating);return E!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function fp(){return typeof window<"u"}function ll(t){return cR(t)?(t.nodeName||"").toLowerCase():"#document"}function vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Or(t){var e;return(e=(cR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cR(t){return fp()?t instanceof Node||t instanceof vn(t).Node:!1}function Zn(t){return fp()?t instanceof Element||t instanceof vn(t).Element:!1}function Nr(t){return fp()?t instanceof HTMLElement||t instanceof vn(t).HTMLElement:!1}function oS(t){return!fp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vn(t).ShadowRoot}const K6=new Set(["inline","contents"]);function Pu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!K6.has(s)}const Q6=new Set(["table","td","th"]);function Y6(t){return Q6.has(ll(t))}const X6=[":popover-open",":modal"];function pp(t){return X6.some(e=>{try{return t.matches(e)}catch{return!1}})}const J6=["transform","translate","scale","rotate","perspective"],Z6=["transform","translate","scale","rotate","perspective","filter"],e5=["paint","layout","strict","content"];function r_(t){const e=s_(),n=Zn(t)?er(t):t;return J6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Z6.some(r=>(n.willChange||"").includes(r))||e5.some(r=>(n.contain||"").includes(r))}function t5(t){let e=ci(t);for(;Nr(e)&&!Ba(e);){if(r_(e))return e;if(pp(e))return null;e=ci(e)}return null}function s_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n5=new Set(["html","body","#document"]);function Ba(t){return n5.has(ll(t))}function er(t){return vn(t).getComputedStyle(t)}function mp(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ci(t){if(ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oS(t)&&t.host||Or(t);return oS(e)?e.host:e}function uR(t){const e=ci(t);return Ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&Pu(e)?e:uR(e)}function Zc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=uR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vn(s);if(i){const a=Wy(o);return e.concat(o,o.visualViewport||[],Pu(s)?s:[],a&&n?Zc(a):[])}return e.concat(s,Zc(s,[],n))}function Wy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dR(t){const e=er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=tf(n)!==i||tf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function i_(t){return Zn(t)?t:t.contextElement}function va(t){const e=i_(t);if(!Nr(e))return xr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=dR(e);let o=(i?tf(n.width):n.width)/r,a=(i?tf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const r5=xr(0);function hR(t){const e=vn(t);return!s_()||!e.visualViewport?r5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vn(t)?!1:e}function co(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=i_(t);let o=xr(1);e&&(r?Zn(r)&&(o=va(r)):o=va(t));const a=s5(i,n,r)?hR(i):xr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=vn(i),y=r&&Zn(r)?vn(r):r;let E=p,w=Wy(E);for(;w&&r&&y!==E;){const x=va(w),v=w.getBoundingClientRect(),_=er(w),S=v.left+(w.clientLeft+parseFloat(_.paddingLeft))*x.x,A=v.top+(w.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=A,E=vn(w),w=Wy(E)}}return rf({width:d,height:h,x:l,y:c})}function gp(t,e){const n=mp(t).scrollLeft;return e?e.left+n:co(Or(t)).left+n}function fR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-gp(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function i5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Or(r),a=e?pp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=xr(1);const d=xr(0),h=Nr(r);if((h||!h&&!i)&&((ll(r)!=="body"||Pu(o))&&(l=mp(r)),Nr(r))){const y=co(r);c=va(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const p=o&&!h&&!i?fR(o,l):xr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function o5(t){return Array.from(t.getClientRects())}function a5(t){const e=Or(t),n=mp(t),r=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+gp(t);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const aS=25;function l5(t,e){const n=vn(t),r=Or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=s_();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=gp(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),y=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,E=Math.abs(r.clientWidth-h.clientWidth-y);E<=aS&&(i-=E)}else c<=aS&&(i+=c);return{width:i,height:o,x:a,y:l}}const c5=new Set(["absolute","fixed"]);function u5(t,e){const n=co(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?va(t):xr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function lS(t,e,n){let r;if(e==="viewport")r=l5(t,n);else if(e==="document")r=a5(Or(t));else if(Zn(e))r=u5(e,n);else{const s=hR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rf(r)}function pR(t,e){const n=ci(t);return n===e||!Zn(n)||Ba(n)?!1:er(n).position==="fixed"||pR(n,e)}function d5(t,e){const n=e.get(t);if(n)return n;let r=Zc(t,[],!1).filter(a=>Zn(a)&&ll(a)!=="body"),s=null;const i=er(t).position==="fixed";let o=i?ci(t):t;for(;Zn(o)&&!Ba(o);){const a=er(o),l=r_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&c5.has(s.position)||Pu(o)&&!l&&pR(t,o))?r=r.filter(d=>d!==o):s=a,o=ci(o)}return e.set(t,r),r}function h5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?pp(e)?[]:d5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=lS(e,d,s);return c.top=hn(h.top,c.top),c.right=li(h.right,c.right),c.bottom=li(h.bottom,c.bottom),c.left=hn(h.left,c.left),c},lS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f5(t){const{width:e,height:n}=dR(t);return{width:e,height:n}}function p5(t,e,n){const r=Nr(e),s=Or(e),i=n==="fixed",o=co(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=xr(0);function c(){l.x=gp(s)}if(r||!r&&!i)if((ll(e)!=="body"||Pu(s))&&(a=mp(e)),r){const y=co(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?fR(s,a):xr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function og(t){return er(t).position==="static"}function cS(t,e){if(!Nr(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Or(t)===n&&(n=n.ownerDocument.body),n}function mR(t,e){const n=vn(t);if(pp(t))return n;if(!Nr(t)){let s=ci(t);for(;s&&!Ba(s);){if(Zn(s)&&!og(s))return s;s=ci(s)}return n}let r=cS(t,e);for(;r&&Y6(r)&&og(r);)r=cS(r,e);return r&&Ba(r)&&og(r)&&!r_(r)?n:r||t5(t)||n}const m5=async function(t){const e=this.getOffsetParent||mR,n=this.getDimensions,r=await n(t.floating);return{reference:p5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g5(t){return er(t).direction==="rtl"}const y5={convertOffsetParentRelativeRectToViewportRelativeRect:i5,getDocumentElement:Or,getClippingRect:h5,getOffsetParent:mR,getElementRects:m5,getClientRects:o5,getDimensions:f5,getScale:va,isElement:Zn,isRTL:g5};function gR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v5(t,e){let n=null,r;const s=Or(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:y}=c;if(a||e(),!p||!y)return;const E=Od(h),w=Od(s.clientWidth-(d+p)),x=Od(s.clientHeight-(h+y)),v=Od(d),S={rootMargin:-E+"px "+-w+"px "+-x+"px "+-v+"px",threshold:hn(0,li(1,l))||1};let A=!0;function P(O){const C=O[0].intersectionRatio;if(C!==l){if(!A)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!gR(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(P,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,S)}n.observe(t)}return o(!0),i}function w5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=i_(t),d=s||i?[...c?Zc(c):[],...Zc(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?v5(c,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),c&&!l&&y.observe(c),y.observe(e));let E,w=l?co(t):null;l&&x();function x(){const v=co(t);w&&!gR(w,v)&&n(),w=v,E=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=y)==null||v.disconnect(),y=null,l&&cancelAnimationFrame(E)}}const _5=H6,x5=W6,E5=B6,T5=G6,S5=$6,uS=U6,b5=q6,C5=(t,e,n)=>{const r=new Map,s={platform:y5,...n},i={...s.platform,_c:r};return F6(t,e,{...s,platform:i})};var A5=typeof document<"u",I5=function(){},hh=A5?m.useLayoutEffect:I5;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dS(t,e){const n=yR(t);return Math.round(e*n)/n}function ag(t){const e=m.useRef(t);return hh(()=>{e.current=t}),e}function P5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=m.useState(r);sf(p,r)||y(r);const[E,w]=m.useState(null),[x,v]=m.useState(null),_=m.useCallback(V=>{V!==O.current&&(O.current=V,w(V))},[]),S=m.useCallback(V=>{V!==C.current&&(C.current=V,v(V))},[]),A=i||E,P=o||x,O=m.useRef(null),C=m.useRef(null),b=m.useRef(d),I=l!=null,N=ag(l),k=ag(s),M=ag(c),D=m.useCallback(()=>{if(!O.current||!C.current)return;const V={placement:e,strategy:n,middleware:p};k.current&&(V.platform=k.current),C5(O.current,C.current,V).then(F=>{const K={...F,isPositioned:M.current!==!1};z.current&&!sf(b.current,K)&&(b.current=K,Eo.flushSync(()=>{h(K)}))})},[p,e,n,k,M]);hh(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[c]);const z=m.useRef(!1);hh(()=>(z.current=!0,()=>{z.current=!1}),[]),hh(()=>{if(A&&(O.current=A),P&&(C.current=P),A&&P){if(N.current)return N.current(A,P,D);D()}},[A,P,D,N,I]);const ne=m.useMemo(()=>({reference:O,floating:C,setReference:_,setFloating:S}),[_,S]),X=m.useMemo(()=>({reference:A,floating:P}),[A,P]),J=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const F=dS(X.floating,d.x),K=dS(X.floating,d.y);return a?{...V,transform:"translate("+F+"px, "+K+"px)",...yR(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,X.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:D,refs:ne,elements:X,floatingStyles:J}),[d,D,ne,X,J])}const R5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uS({element:r.current,padding:s}).fn(n):{}:r?uS({element:r,padding:s}).fn(n):{}}}},N5=(t,e)=>({..._5(t),options:[t,e]}),k5=(t,e)=>({...x5(t),options:[t,e]}),D5=(t,e)=>({...b5(t),options:[t,e]}),M5=(t,e)=>({...E5(t),options:[t,e]}),O5=(t,e)=>({...T5(t),options:[t,e]}),L5=(t,e)=>({...S5(t),options:[t,e]}),V5=(t,e)=>({...R5(t),options:[t,e]});var j5="Arrow",vR=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});vR.displayName=j5;var F5=vR;function U5(t){const[e,n]=m.useState(void 0);return lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var o_="Popper",[wR,cl]=nr(o_),[B5,_R]=wR(o_),xR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return f.jsx(B5,{scope:e,anchor:r,onAnchorChange:s,children:n})};xR.displayName=o_;var ER="PopperAnchor",TR=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=_R(ER,n),o=m.useRef(null),a=ge(e,o),l=m.useRef(null);return m.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:f.jsx(ie.div,{...s,ref:a})});TR.displayName=ER;var a_="PopperContent",[$5,z5]=wR(a_),SR=m.forwardRef((t,e)=>{var Z,be,Pe,Ce,Ie,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:E,...w}=t,x=_R(a_,n),[v,_]=m.useState(null),S=ge(e,St=>_(St)),[A,P]=m.useState(null),O=U5(A),C=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],M=k.length>0,D={padding:N,boundary:k.filter(W5),altBoundary:M},{refs:z,floatingStyles:ne,placement:X,isPositioned:J,middlewareData:V}=P5({strategy:"fixed",placement:I,whileElementsMounted:(...St)=>w5(...St,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[N5({mainAxis:s+b,alignmentAxis:o}),l&&k5({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?D5():void 0,...D}),l&&M5({...D}),O5({...D,apply:({elements:St,rects:cn,availableWidth:Ii,availableHeight:jr})=>{const{width:Fr,height:ed}=cn.reference,rt=St.floating.style;rt.setProperty("--radix-popper-available-width",`${Ii}px`),rt.setProperty("--radix-popper-available-height",`${jr}px`),rt.setProperty("--radix-popper-anchor-width",`${Fr}px`),rt.setProperty("--radix-popper-anchor-height",`${ed}px`)}}),A&&V5({element:A,padding:a}),q5({arrowWidth:C,arrowHeight:b}),p&&L5({strategy:"referenceHidden",...D})]}),[F,K]=AR(X),ee=et(E);lt(()=>{J&&(ee==null||ee())},[J,ee]);const pe=(Z=V.arrow)==null?void 0:Z.x,Qe=(be=V.arrow)==null?void 0:be.y,Ne=((Pe=V.arrow)==null?void 0:Pe.centerOffset)!==0,[Tt,Oe]=m.useState();return lt(()=>{v&&Oe(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:J?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Tt,"--radix-popper-transform-origin":[(Ce=V.transformOrigin)==null?void 0:Ce.x,(Ie=V.transformOrigin)==null?void 0:Ie.y].join(" "),...((Ae=V.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx($5,{scope:n,placedSide:F,onArrowChange:P,arrowX:pe,arrowY:Qe,shouldHideArrow:Ne,children:f.jsx(ie.div,{"data-side":F,"data-align":K,...w,ref:S,style:{...w.style,animation:J?void 0:"none"}})})})});SR.displayName=a_;var bR="PopperArrow",H5={top:"bottom",right:"left",bottom:"top",left:"right"},CR=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=z5(bR,r),o=H5[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(F5,{...s,ref:n,style:{...s.style,display:"block"}})})});CR.displayName=bR;function W5(t){return t!==null}var q5=t=>({name:"transformOrigin",options:t,fn(e){var x,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=AR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let E="",w="";return c==="bottom"?(E=o?h:`${p}px`,w=`${-l}px`):c==="top"?(E=o?h:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,w=o?h:`${y}px`):c==="left"&&(E=`${r.floating.width+l}px`,w=o?h:`${y}px`),{data:{x:E,y:w}}}});function AR(t){const[e,n="center"]=t.split("-");return[e,n]}var IR=xR,l_=TR,c_=SR,u_=CR,G5=Symbol("radix.slottable");function K5(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=G5,e}var[yp]=nr("Tooltip",[cl]),d_=cl(),PR="TooltipProvider",Q5=700,hS="tooltip.open",[Y5,RR]=yp(PR),NR=t=>{const{__scopeTooltip:e,delayDuration:n=Q5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(Y5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};NR.displayName=PR;var kR="Tooltip",[fne,vp]=yp(kR),qy="TooltipTrigger",X5=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vp(qy,n),i=RR(qy,n),o=d_(n),a=m.useRef(null),l=ge(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(l_,{asChild:!0,...o,children:f.jsx(ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:W(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:W(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:W(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:W(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:W(t.onBlur,s.onClose),onClick:W(t.onClick,s.onClose)})})});X5.displayName=qy;var J5="TooltipPortal",[pne,Z5]=yp(J5,{forceMount:void 0}),$a="TooltipContent",DR=m.forwardRef((t,e)=>{const n=Z5($a,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=vp($a,t.__scopeTooltip);return f.jsx(en,{present:r||o.open,children:o.disableHoverableContent?f.jsx(MR,{side:s,...i,ref:e}):f.jsx(e9,{side:s,...i,ref:e})})}),e9=m.forwardRef((t,e)=>{const n=vp($a,t.__scopeTooltip),r=RR($a,t.__scopeTooltip),s=m.useRef(null),i=ge(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),y=m.useCallback((E,w)=>{const x=E.currentTarget,v={x:E.clientX,y:E.clientY},_=i9(v,x.getBoundingClientRect()),S=o9(v,_),A=a9(w.getBoundingClientRect()),P=c9([...S,...A]);a(P),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const E=x=>y(x,d),w=x=>y(x,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",w)}}},[l,d,y,p]),m.useEffect(()=>{if(o){const E=w=>{const x=w.target,v={x:w.clientX,y:w.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!l9(v,o);_?p():S&&(p(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,c,p]),f.jsx(MR,{...t,ref:i})}),[t9,n9]=yp(kR,{isInside:!1}),r9=K5("TooltipContent"),MR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=vp($a,n),c=d_(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(hS,d),()=>document.removeEventListener(hS,d)),[d]),m.useEffect(()=>{if(l.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(c_,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(r9,{children:r}),f.jsx(t9,{scope:n,isInside:!0,children:f.jsx(Y3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});DR.displayName=$a;var OR="TooltipArrow",s9=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=d_(n);return n9(OR,n).isInside?null:f.jsx(u_,{...s,...r,ref:e})});s9.displayName=OR;function i9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function o9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function a9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function l9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function c9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),u9(e)}function u9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var d9=NR,LR=DR;const h9=d9,f9=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(LR,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));f9.displayName=LR.displayName;const p9=()=>{};var fS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new g9;const p=i<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y9=function(t){const e=VR(t);return jR.encodeByteArray(e,!0)},of=function(t){return y9(t).replace(/\./g,"")},FR=function(t){try{return jR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=()=>v9().__FIREBASE_DEFAULTS__,_9=()=>{if(typeof process>"u"||typeof fS>"u")return;const t=fS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FR(t[1]);return e&&JSON.parse(e)},wp=()=>{try{return p9()||w9()||_9()||x9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UR=t=>{var e,n;return(n=(e=wp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},BR=t=>{const e=UR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$R=()=>{var t;return(t=wp())==null?void 0:t.config},zR=t=>{var e;return(e=wp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(o)),""].join(".")}const _c={};function T9(){const t={prod:[],emulator:[]};for(const e of Object.keys(_c))_c[e]?t.emulator.push(e):t.prod.push(e);return t}function S9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pS=!1;function f_(t,e){if(typeof window>"u"||typeof document>"u"||!Ei(window.location.host)||_c[t]===e||_c[t]||pS)return;_c[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=T9().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{pS=!0,o()},p}function d(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=S9(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),d(x,w);const A=c();l(_,v),S.append(_,E,x,A),document.body.appendChild(S)}i?(E.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function C9(){var e;const t=(e=wp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R9(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N9(){return!C9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k9(){try{return typeof indexedDB=="object"}catch{return!1}}function D9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M9,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?O9(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Lr(s,a,r)}}function O9(t,e){return t.replace(L9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L9=/\{\$([^}]+)}/g;function V9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function as(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mS(i)&&mS(o)){if(!as(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function j9(t,e){const n=new F9(t,e);return n.subscribe.bind(n)}class F9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lg),s.error===void 0&&(s.error=lg),s.complete===void 0&&(s.complete=lg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $9(t){return t===Vi?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const W9={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},q9=ve.INFO,G9={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},K9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=G9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p_{constructor(e){this.name=e,this._logLevel=q9,this._logHandler=K9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const Q9=(t,e)=>e.some(n=>t instanceof n);let gS,yS;function Y9(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X9(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,Gy=new WeakMap,qR=new WeakMap,cg=new WeakMap,m_=new WeakMap;function J9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ti(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WR.set(n,t)}).catch(()=>{}),m_.set(e,t),e}function Z9(t){if(Gy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gy.set(t,e)}let Ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eB(t){Ky=t(Ky)}function tB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ug(this),e,...n);return qR.set(r,e.sort?e.sort():[e]),ti(r)}:X9().includes(t)?function(...e){return t.apply(ug(this),e),ti(WR.get(this))}:function(...e){return ti(t.apply(ug(this),e))}}function nB(t){return typeof t=="function"?tB(t):(t instanceof IDBTransaction&&Z9(t),Q9(t,Y9())?new Proxy(t,Ky):t)}function ti(t){if(t instanceof IDBRequest)return J9(t);if(cg.has(t))return cg.get(t);const e=nB(t);return e!==t&&(cg.set(t,e),m_.set(e,t)),e}const ug=t=>m_.get(t);function rB(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ti(o.result),l.oldVersion,l.newVersion,ti(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sB=["get","getKey","getAll","getAllKeys","count"],iB=["put","add","delete","clear"],dg=new Map;function vS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return dg.set(e,i),i}eB(t=>({...t,get:(e,n,r)=>vS(e,n)||t.get(e,n,r),has:(e,n)=>!!vS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qy="@firebase/app",wS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new p_("@firebase/app"),lB="@firebase/app-compat",cB="@firebase/analytics-compat",uB="@firebase/analytics",dB="@firebase/app-check-compat",hB="@firebase/app-check",fB="@firebase/auth",pB="@firebase/auth-compat",mB="@firebase/database",gB="@firebase/data-connect",yB="@firebase/database-compat",vB="@firebase/functions",wB="@firebase/functions-compat",_B="@firebase/installations",xB="@firebase/installations-compat",EB="@firebase/messaging",TB="@firebase/messaging-compat",SB="@firebase/performance",bB="@firebase/performance-compat",CB="@firebase/remote-config",AB="@firebase/remote-config-compat",IB="@firebase/storage",PB="@firebase/storage-compat",RB="@firebase/firestore",NB="@firebase/ai",kB="@firebase/firestore-compat",DB="firebase",MB="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",OB={[Qy]:"fire-core",[lB]:"fire-core-compat",[uB]:"fire-analytics",[cB]:"fire-analytics-compat",[hB]:"fire-app-check",[dB]:"fire-app-check-compat",[fB]:"fire-auth",[pB]:"fire-auth-compat",[mB]:"fire-rtdb",[gB]:"fire-data-connect",[yB]:"fire-rtdb-compat",[vB]:"fire-fn",[wB]:"fire-fn-compat",[_B]:"fire-iid",[xB]:"fire-iid-compat",[EB]:"fire-fcm",[TB]:"fire-fcm-compat",[SB]:"fire-perf",[bB]:"fire-perf-compat",[CB]:"fire-rc",[AB]:"fire-rc-compat",[IB]:"fire-gcs",[PB]:"fire-gcs-compat",[RB]:"fire-fst",[kB]:"fire-fst-compat",[NB]:"fire-vertex","fire-js":"fire-js",[DB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,LB=new Map,Xy=new Map;function _S(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Xy.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,t);for(const n of af.values())_S(n,t);for(const n of LB.values())_S(n,t);return!0}function _p(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Ru("app","Firebase",VB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=MB;function GR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ni.create("bad-app-name",{appName:String(s)});if(n||(n=$R()),!n)throw ni.create("no-options");const i=af.get(s);if(i){if(as(n,i.options)&&as(r,i.config))return i;throw ni.create("duplicate-app",{appName:s})}const o=new H9(s);for(const l of Xy.values())o.addComponent(l);const a=new jB(n,r,o);return af.set(s,a),a}function g_(t=Yy){const e=af.get(t);if(!e&&t===Yy&&$R())return GR();if(!e)throw ni.create("no-app",{appName:t});return e}function Er(t,e,n){let r=OB[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(o.join(" "));return}uo(new ui(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="firebase-heartbeat-database",UB=1,eu="firebase-heartbeat-store";let hg=null;function KR(){return hg||(hg=rB(FB,UB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),hg}async function BB(t){try{const n=(await KR()).transaction(eu),r=await n.objectStore(eu).get(QR(t));return await n.done,r}catch(e){if(e instanceof Lr)ls.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function xS(t,e){try{const r=(await KR()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,QR(t)),await r.done}catch(n){if(n instanceof Lr)ls.warn(n.message);else{const r=ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function QR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=1024,zB=30;class HB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ES();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zB){const o=GB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ES(),{heartbeatsToSend:r,unsentEntries:s}=WB(this._heartbeatsCache.heartbeats),i=of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ls.warn(n),""}}}function ES(){return new Date().toISOString().substring(0,10)}function WB(t,e=$B){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),TS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k9()?D9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TS(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function GB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){uo(new ui("platform-logger",e=>new oB(e),"PRIVATE")),uo(new ui("heartbeat",e=>new HB(e),"PRIVATE")),Er(Qy,wS,t),Er(Qy,wS,"esm2020"),Er("fire-js","")}KB("");var QB="firebase",YB="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(QB,YB,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebasestorage.googleapis.com",XR="storageBucket",XB=2*60*1e3,JB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Lr{constructor(e,n,r=0){super(fg(e),`Firebase Storage: ${n} (${fg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tt||(tt={}));function fg(t){return"storage/"+t}function y_(){const t="An unknown error occurred, please check the error payload for server response.";return new nt(tt.UNKNOWN,t)}function ZB(t){return new nt(tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function e$(t){return new nt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(tt.UNAUTHENTICATED,t)}function n$(){return new nt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r$(t){return new nt(tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function s$(){return new nt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i$(){return new nt(tt.CANCELED,"User canceled the upload/download.")}function o$(t){return new nt(tt.INVALID_URL,"Invalid URL '"+t+"'.")}function a$(t){return new nt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function l$(){return new nt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XR+"' property when initializing the app?")}function c$(){return new nt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u$(){return new nt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d$(t){return new nt(tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jy(t){return new nt(tt.INVALID_ARGUMENT,t)}function JR(){return new nt(tt.APP_DELETED,"The Firebase app was deleted.")}function h$(t){return new nt(tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xc(t,e){return new nt(tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gl(t){throw new nt(tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(r.path==="")return r;throw a$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),E={bucket:1,path:3},w=n===YR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",v=new RegExp(`^https?://${w}/${s}/${x}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:y,indices:E,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<S.length;A++){const P=S[A],O=P.regex.exec(e);if(O){const C=O[P.indices.bucket];let b=O[P.indices.path];b||(b=""),r=new mn(C,b),P.postModify(r);break}}if(r==null)throw o$(e);return r}}class f${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(y,l())},x)}function p(){i&&clearTimeout(i)}function y(x,...v){if(c){p();return}if(x){p(),d.call(null,x,...v);return}if(l()||o){p(),d.call(null,x,...v);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let E=!1;function w(x){E||(E=!0,p(),!c&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function m$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){return t!==void 0}function y$(t){return typeof t=="object"&&!Array.isArray(t)}function v_(t){return typeof t=="string"||t instanceof String}function SS(t){return w_()&&t instanceof Blob}function w_(){return typeof Blob<"u"}function bS(t,e,n,r){if(r<e)throw Jy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ZR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var eo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eo||(eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ld(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===eo.NO_ERROR,l=i.getStatus();if(!a||v$(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===eo.ABORT;r(!1,new Ld(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ld(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());g$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=y_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?JR():i$();o(l)}else{const l=s$();o(l)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=p$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S$(t,e,n,r,s,i,o=!0,a=!1){const l=ZR(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return E$(d,e),_$(d,n),x$(d,i),T$(d,r),new w$(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C$(...t){const e=b$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(w_())return new Blob(t);throw new nt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){if(typeof atob>"u")throw d$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pg{constructor(e,n){this.data=e,this.contentType=n||null}}function P$(t,e){switch(t){case yr.RAW:return new pg(eN(e));case yr.BASE64:case yr.BASE64URL:return new pg(tN(t,e));case yr.DATA_URL:return new pg(N$(e),k$(e))}throw y_()}function eN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function R$(t){let e;try{e=decodeURIComponent(t)}catch{throw xc(yr.DATA_URL,"Malformed data URL.")}return eN(e)}function tN(t,e){switch(t){case yr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw xc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw xc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=I$(e)}catch(s){throw s.message.includes("polyfill")?s:xc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class nN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xc(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=D$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N$(t){const e=new nN(t);return e.base64?tN(yr.BASE64,e.rest):R$(e.rest)}function k$(t){return new nN(t).contentType}function D$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){let r=0,s="";SS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(SS(this.data_)){const r=this.data_,s=A$(r,e,n);return s===null?null:new Ms(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ms(r,!0)}}static getBlob(...e){if(w_()){const n=e.map(r=>r instanceof Ms?r.data_:r);return new Ms(C$.apply(null,n))}else{const n=e.map(o=>v_(o)?P$(yr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ms(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){let e;try{e=JSON.parse(t)}catch{return null}return y$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t,e){return e}class Ht{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||L$}}let Vd=null;function V$(t){return!v_(t)||t.length<2?t:sN(t)}function iN(){if(Vd)return Vd;const t=[];t.push(new Ht("bucket")),t.push(new Ht("generation")),t.push(new Ht("metageneration")),t.push(new Ht("name","fullPath",!0));function e(i,o){return V$(o)}const n=new Ht("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ht("size");return s.xform=r,t.push(s),t.push(new Ht("timeCreated")),t.push(new Ht("updated")),t.push(new Ht("md5Hash",null,!0)),t.push(new Ht("cacheControl",null,!0)),t.push(new Ht("contentDisposition",null,!0)),t.push(new Ht("contentEncoding",null,!0)),t.push(new Ht("contentLanguage",null,!0)),t.push(new Ht("contentType",null,!0)),t.push(new Ht("metadata","customMetadata",!0)),Vd=t,Vd}function j$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new mn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function F$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return j$(r,t),r}function oN(t,e,n){const r=rN(e);return r===null?null:F$(t,r,n)}function U$(t,e,n,r){const s=rN(e);if(s===null||!v_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),y=__(p,n,r),E=ZR({alt:"media",token:c});return y+E})[0]}function B$(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class aN{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){if(!t)throw y_()}function $$(t,e){function n(r,s){const i=oN(t,s,e);return lN(i!==null),i}return n}function z$(t,e){function n(r,s){const i=oN(t,s,e);return lN(i!==null),U$(i,s,t.host,t._protocol)}return n}function cN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=n$():s=t$():n.getStatus()===402?s=e$(t.bucket):n.getStatus()===403?s=r$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function H$(t){const e=cN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=ZB(t.path)),i.serverResponse=s.serverResponse,i}return n}function W$(t,e,n){const r=e.fullServerUrl(),s=__(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new aN(s,i,z$(t,n),o);return a.errorHandler=H$(e),a}function q$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=q$(null,e)),r}function K$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=G$(e,r,s),d=B$(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",y=Ms.getBlob(h,r,p);if(y===null)throw c$();const E={name:c.fullPath},w=__(i,t.host,t._protocol),x="POST",v=t.maxUploadRetryTime,_=new aN(w,x,$$(t,n),v);return _.urlParams=E,_.headers=o,_.body=y.uploadData(),_.errorHandler=cN(e),_}class Q${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Gl("cannot .send() more than once");if(Ei(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y$ extends Q${initXhr(){this.xhr_.responseType="text"}}function uN(){return new Y$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this._service=e,n instanceof mn?this._location=n:this._location=mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ho(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sN(this._location.path)}get storage(){return this._service}get parent(){const e=M$(this._location.path);if(e===null)return null;const n=new mn(this._location.bucket,e);return new ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h$(e)}}function X$(t,e,n){t._throwIfRoot("uploadBytes");const r=K$(t.storage,t._location,iN(),new Ms(e,!0),n);return t.storage.makeRequestWithTokens(r,uN).then(s=>({metadata:s,ref:t}))}function J$(t){t._throwIfRoot("getDownloadURL");const e=W$(t.storage,t._location,iN());return t.storage.makeRequestWithTokens(e,uN).then(n=>{if(n===null)throw u$();return n})}function Z$(t,e){const n=O$(t._location.path,e),r=new mn(t._location.bucket,n);return new ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){return/^[A-Za-z]+:\/\//.test(t)}function tz(t,e){return new ho(t,e)}function dN(t,e){if(t instanceof x_){const n=t;if(n._bucket==null)throw l$();const r=new ho(n,n._bucket);return e!=null?dN(r,e):r}else return e!==void 0?Z$(t,e):t}function nz(t,e){if(e&&ez(e)){if(t instanceof x_)return tz(t,e);throw Jy("To use ref(service, url), the first argument must be a Storage instance.")}else return dN(t,e)}function CS(t,e){const n=e==null?void 0:e[XR];return n==null?null:mn.makeFromBucketSpec(n,t)}function rz(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ei(e);s&&(h_(`https://${t.host}/b`),f_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:HR(i,t.app.options.projectId))}class x_{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=YR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XB,this._maxUploadRetryTime=JB,this._requests=new Set,s!=null?this._bucket=mn.makeFromBucketSpec(s,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new f$(JR());{const o=S$(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const AS="@firebase/storage",IS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="storage";function sz(t,e,n){return t=Ge(t),X$(t,e,n)}function iz(t){return t=Ge(t),J$(t)}function oz(t,e){return t=Ge(t),nz(t,e)}function az(t=g_(),e){t=Ge(t);const r=_p(t,hN).getImmediate({identifier:e}),s=BR("storage");return s&&lz(r,...s),r}function lz(t,e,n,r={}){rz(t,e,n,r)}function cz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new x_(n,r,s,e,To)}function uz(){uo(new ui(hN,cz,"PUBLIC").setMultipleInstances(!0)),Er(AS,IS,""),Er(AS,IS,"esm2020")}uz();function fN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dz=fN,pN=new Ru("auth","Firebase",fN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new p_("@firebase/auth");function hz(t,...e){lf.logLevel<=ve.WARN&&lf.warn(`Auth (${To}): ${t}`,...e)}function fh(t,...e){lf.logLevel<=ve.ERROR&&lf.error(`Auth (${To}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw T_(t,...e)}function Xn(t,...e){return T_(t,...e)}function E_(t,e,n){const r={...dz(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function to(t){return E_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),E_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pN.create(t,...e)}function ae(t,e,...n){if(!t)throw T_(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function cs(t,e){t||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function pz(){return PS()==="http:"||PS()==="https:"}function PS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pz()||I9()||"connection"in navigator)?navigator.onLine:!0}function gz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=b9()||P9()}get(){return mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wz=new ku(3e4,6e4);function b_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,r,s={}){return gN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Nu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return A9()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ei(t.emulatorConfig.host)&&(c.credentials="include"),mN.fetch()(await yN(t,t.config.apiHost,n,a),c)})}async function gN(t,e,n){t._canInitEmulator=!1;const r={...yz,...e};try{const s=new xz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw E_(t,d,c);kr(t,d)}}catch(s){if(s instanceof Lr)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function _z(t,e,n,r,s={}){const i=await ul(t,e,n,r,s);return"mfaPendingCredential"in i&&kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?S_(t.config,s):`${t.config.apiScheme}://${s}`;return vz.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class xz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),wz.get())})}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Xn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tz(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),s=C_(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ec(mg(s.auth_time)),issuedAtTime:Ec(mg(s.iat)),expirationTime:Ec(mg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function C_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=FR(n);return s?JSON.parse(s):(fh("Failed to decode base64 JWT payload"),null)}catch(s){return fh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RS(t){const e=C_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&Sz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var h;const e=t.auth,n=await t.getIdToken(),r=await tu(t,cf(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?vN(s.providerUserInfo):[],o=Az(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Cz(t){const e=Ge(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Az(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e){const n=await gN(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ei(t.emulatorConfig.host)&&(l.credentials="include"),mN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pz(t,e){return ul(t,"POST","/v2/accounts:revokeToken",b_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=RS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Iz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wa;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tz(this,e)}reload(){return Cz(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await tu(this,Ez(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:y,providerData:E,stsTokenManager:w}=n;ae(h&&w,e,"internal-error");const x=wa.fromJSON(this.name,w);ae(typeof h=="string",e,"internal-error"),bs(r,e.name),bs(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof y=="boolean",e,"internal-error"),bs(i,e.name),bs(o,e.name),bs(a,e.name),bs(l,e.name),bs(c,e.name),bs(d,e.name);const v=new Kn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return E&&Array.isArray(E)&&(v.providerData=E.map(_=>({..._}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const i=new Kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new wa;a.updateFromIdToken(r);const l=new Kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;function Qr(t){cs(t instanceof Function,"Expected a class definition");let e=NS.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wN.type="NONE";const kS=wN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class _a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ph(this.userKey,s.apiKey,i),this.fullPersistenceKey=ph("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _a(Qr(kS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Qr(kS);const o=ph(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await cf(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Kn._fromGetAccountInfoResponse(e,p,d)}else h=Kn._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new _a(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new _a(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_N(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bN(e))return"Blackberry";if(CN(e))return"Webos";if(xN(e))return"Safari";if((e.includes("chrome/")||EN(e))&&!e.includes("edge/"))return"Chrome";if(SN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _N(t=Bt()){return/firefox\//i.test(t)}function xN(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EN(t=Bt()){return/crios\//i.test(t)}function TN(t=Bt()){return/iemobile/i.test(t)}function SN(t=Bt()){return/android/i.test(t)}function bN(t=Bt()){return/blackberry/i.test(t)}function CN(t=Bt()){return/webos/i.test(t)}function A_(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rz(t=Bt()){var e;return A_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Nz(){return R9()&&document.documentMode===10}function AN(t=Bt()){return A_(t)||SN(t)||CN(t)||bN(t)||/windows phone/i.test(t)||TN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e=[]){let n;switch(t){case"Browser":n=DS(Bt());break;case"Worker":n=`${DS(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e={}){return ul(t,"GET","/v2/passwordPolicy",b_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=6;class Oz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MS(this),this.idTokenSubscription=new MS(this),this.beforeStateQueue=new kz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(to(this));const n=e?Ge(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dz(this),n=new Oz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xp(t){return Ge(t)}class MS{constructor(e){this.auth=e,this.observer=null,this.addObserver=j9(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vz(t){I_=t}function jz(t){return I_.loadJS(t)}function Fz(){return I_.gapiScript}function Uz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){const n=_p(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(as(i,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function $z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zz(t,e,n){const r=xp(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=PN(e),{host:o,port:a}=Hz(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(as(c,r.config.emulator)&&as(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ei(o)?(h_(`${i}//${o}${l}`),f_("Auth",!0)):Wz()}function PN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hz(t){const e=PN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:OS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:OS(o)}}}function OS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return _z(t,"POST","/v1/accounts:signInWithIdp",b_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="http://localhost";class fo extends RN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new fo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:qz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends P_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Du{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Du{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Du{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Kn._fromIdTokenResponse(e,r,s),o=LS(r);return new za({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=LS(r);return new za({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function LS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Lr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new df(e,n,r,s)}}function NN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,i,e,r):i})}async function Gz(t,e,n=!1){const r=await tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(to(r));const s="reauthenticate";try{const i=await tu(t,NN(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=C_(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),za._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e,n=!1){if(Nn(t.app))return Promise.reject(to(t));const r="signIn",s=await NN(t,r,e),i=await za._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Yz(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function Xz(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function Jz(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function Zz(t){return Ge(t).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=1e3,t8=10;class DN extends kN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Nz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,t8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DN.type="LOCAL";const n8=DN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN extends kN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MN.type="SESSION";const ON=MN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ep(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await r8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=R_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function i8(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function o8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l8(){return LN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebaseLocalStorageDb",c8=1,ff="firebaseLocalStorage",jN="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tp(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function u8(){const t=indexedDB.deleteDatabase(VN);return new Mu(t).toPromise()}function tv(){const t=indexedDB.open(VN,c8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ff,{keyPath:jN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),await u8(),e(await tv()))})})}async function VS(t,e,n){const r=Tp(t,!0).put({[jN]:e,value:n});return new Mu(r).toPromise()}async function d8(t,e){const n=Tp(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function jS(t,e){const n=Tp(t,!0).delete(e);return new Mu(n).toPromise()}const h8=800,f8=3;class FN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ep._getInstance(l8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await o8(),!this.activeServiceWorker)return;this.sender=new s8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await VS(e,hf,"1"),await jS(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Tp(s,!1).getAll();return new Mu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FN.type="LOCAL";const p8=FN;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e){return e?Qr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends RN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m8(t){return Qz(t.auth,new N_(t),t.bypassAuthState)}function g8(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Kz(n,new N_(t),t.bypassAuthState)}async function y8(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Gz(n,new N_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m8;case"linkViaPopup":case"linkViaRedirect":return y8;case"reauthViaPopup":case"reauthViaRedirect":return g8;default:kr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new ku(2e3,1e4);async function w8(t,e,n){if(Nn(t.app))return Promise.reject(Xn(t,"operation-not-supported-in-this-environment"));const r=xp(t);fz(t,e,P_);const s=UN(r,n);return new zi(r,"signInViaPopup",e,s).executeNotNull()}class zi extends BN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zi.currentPopupAction&&zi.currentPopupAction.cancel(),zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v8.get())};e()}}zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="pendingRedirect",mh=new Map;class x8 extends BN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await E8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E8(t,e){const n=b8(e),r=S8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T8(t,e){mh.set(t._key(),e)}function S8(t){return Qr(t._redirectPersistence)}function b8(t){return ph(_8,t.config.apiKey,t.name)}async function C8(t,e,n=!1){if(Nn(t.app))return Promise.reject(to(t));const r=xp(t),s=UN(r,e),o=await new x8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=10*60*1e3;class I8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$N(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A8&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(e))}saveEventToCache(e){this.cachedEventUids.add(FS(e)),this.lastProcessedEventTime=Date.now()}}function FS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $N({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $N(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k8=/^https?/;async function D8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R8(t);for(const n of e)try{if(M8(n))return}catch{}kr(t,"unauthorized-domain")}function M8(t){const e=Zy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!k8.test(n))return!1;if(N8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new ku(3e4,6e4);function US(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L8(t){return new Promise((e,n)=>{var s,i,o;function r(){US(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{US(),n(Xn(t,"network-request-failed"))},timeout:O8.get()})}if((i=(s=Tr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Tr().gapi)!=null&&o.load)r();else{const a=Uz("iframefcb");return Tr()[a]=()=>{gapi.load?r():n(Xn(t,"network-request-failed"))},jz(`${Fz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gh=null,e})}let gh=null;function V8(t){return gh=gh||L8(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new ku(5e3,15e3),F8="__/auth/iframe",U8="emulator/auth/iframe",B8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z8(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S_(e,U8):`https://${t.config.authDomain}/${F8}`,r={apiKey:e.apiKey,appName:t.name,v:To},s=$8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nu(r).slice(1)}`}async function H8(t){const e=await V8(t),n=Tr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:z8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=Tr().setTimeout(()=>{i(o)},j8.get());function l(){Tr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q8=500,G8=600,K8="_blank",Q8="http://localhost";class BS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y8(t,e,n,r=q8,s=G8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...W8,width:r.toString(),height:s.toString(),top:i,left:o},c=Bt().toLowerCase();n&&(a=EN(c)?K8:n),_N(c)&&(e=e||Q8,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,E])=>`${p}${y}=${E},`,"");if(Rz(c)&&a!=="_self")return X8(e||"",a),new BS(null);const h=window.open(e||"",a,d);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new BS(h)}function X8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="__/auth/handler",Z8="emulator/auth/handler",e7=encodeURIComponent("fac");async function $S(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:s};if(e instanceof P_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",V9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Du){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${e7}=${encodeURIComponent(l)}`:"";return`${t7(t)}?${Nu(a).slice(1)}${c}`}function t7({config:t}){return t.emulator?S_(t,Z8):`https://${t.authDomain}/${J8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class n7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ON,this._completeRedirectFn=C8,this._overrideRedirectResult=T8}async _openPopup(e,n,r,s){var o;cs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await $S(e,n,r,Zy(),s);return Y8(e,i,R_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $S(e,n,r,Zy(),s);return i8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(cs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H8(e),r=new I8(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[gg];i!==void 0&&n(!!i),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AN()||xN()||A_()}}const r7=n7;var zS="@firebase/auth",HS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o7(t){uo(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IN(t)},c=new Lz(r,s,i,l);return $z(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new ui("auth-internal",e=>{const n=xp(e.getProvider("auth").getImmediate());return(r=>new s7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(zS,HS,i7(t)),Er(zS,HS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=5*60,l7=zR("authIdTokenMaxAge")||a7;let WS=null;const c7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l7)return;const s=n==null?void 0:n.token;WS!==s&&(WS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function u7(t=g_()){const e=_p(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bz(t,{popupRedirectResolver:r7,persistence:[p8,n8,ON]}),r=zR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=c7(i.toString());Xz(n,o,()=>o(n.currentUser)),Yz(n,a=>o(a))}}const s=UR("auth");return s&&zz(n,`http://${s}`),n}function d7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Vz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Xn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",d7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o7("Browser");var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,zN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(N,k,M){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return b.prototype[k].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,I){I||(I=0);const N=Array(16);if(typeof b=="string")for(var k=0;k<16;++k)N[k]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(k=0;k<16;++k)N[k]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],k=C.g[2];let M=C.g[3],D;D=b+(M^I&(k^M))+N[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(k^b&(I^k))+N[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=k+(I^M&(b^I))+N[2]+606105819&4294967295,k=M+(D<<17&4294967295|D>>>15),D=I+(b^k&(M^b))+N[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=b+(M^I&(k^M))+N[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(k^b&(I^k))+N[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=k+(I^M&(b^I))+N[6]+2821735955&4294967295,k=M+(D<<17&4294967295|D>>>15),D=I+(b^k&(M^b))+N[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=b+(M^I&(k^M))+N[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(k^b&(I^k))+N[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=k+(I^M&(b^I))+N[10]+4294925233&4294967295,k=M+(D<<17&4294967295|D>>>15),D=I+(b^k&(M^b))+N[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=b+(M^I&(k^M))+N[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(k^b&(I^k))+N[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=k+(I^M&(b^I))+N[14]+2792965006&4294967295,k=M+(D<<17&4294967295|D>>>15),D=I+(b^k&(M^b))+N[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=b+(k^M&(I^k))+N[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^k&(b^I))+N[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=k+(b^I&(M^b))+N[11]+643717713&4294967295,k=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(k^M))+N[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=b+(k^M&(I^k))+N[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^k&(b^I))+N[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=k+(b^I&(M^b))+N[15]+3634488961&4294967295,k=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(k^M))+N[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=b+(k^M&(I^k))+N[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^k&(b^I))+N[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=k+(b^I&(M^b))+N[3]+4107603335&4294967295,k=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(k^M))+N[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=b+(k^M&(I^k))+N[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^k&(b^I))+N[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=k+(b^I&(M^b))+N[7]+1735328473&4294967295,k=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(k^M))+N[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=b+(I^k^M)+N[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^k)+N[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=k+(M^b^I)+N[11]+1839030562&4294967295,k=M+(D<<16&4294967295|D>>>16),D=I+(k^M^b)+N[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=b+(I^k^M)+N[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^k)+N[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=k+(M^b^I)+N[7]+4139469664&4294967295,k=M+(D<<16&4294967295|D>>>16),D=I+(k^M^b)+N[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=b+(I^k^M)+N[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^k)+N[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=k+(M^b^I)+N[3]+3572445317&4294967295,k=M+(D<<16&4294967295|D>>>16),D=I+(k^M^b)+N[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=b+(I^k^M)+N[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^k)+N[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=k+(M^b^I)+N[15]+530742520&4294967295,k=M+(D<<16&4294967295|D>>>16),D=I+(k^M^b)+N[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=b+(k^(I|~M))+N[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~k))+N[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=k+(b^(M|~I))+N[14]+2878612391&4294967295,k=M+(D<<15&4294967295|D>>>17),D=I+(M^(k|~b))+N[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=b+(k^(I|~M))+N[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~k))+N[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=k+(b^(M|~I))+N[10]+4293915773&4294967295,k=M+(D<<15&4294967295|D>>>17),D=I+(M^(k|~b))+N[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=b+(k^(I|~M))+N[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~k))+N[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=k+(b^(M|~I))+N[6]+2734768916&4294967295,k=M+(D<<15&4294967295|D>>>17),D=I+(M^(k|~b))+N[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=b+(k^(I|~M))+N[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~k))+N[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=k+(b^(M|~I))+N[2]+718787259&4294967295,k=M+(D<<15&4294967295|D>>>17),D=I+(M^(k|~b))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,N=this.C;let k=this.h,M=0;for(;M<b;){if(k==0)for(;M<=I;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<b;)if(N[k++]=C.charCodeAt(M++),k==this.blockSize){s(this,N),k=0;break}}else for(;M<b;)if(N[k++]=C[M++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)C[b++]=this.g[I]>>>N&255;return C};function i(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;const I=[];let N=!0;for(let k=C.length-1;k>=0;k--){const M=C[k]|0;N&&M==b||(I[k]=M,N=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(b){return new o([b|0],b<0?-1:0)}):new o([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return x(c(-C));const b=[];let I=1;for(let N=0;C>=I;N++)b[N]=C/I|0,I*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return x(d(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(b,8));let N=h;for(let M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M);const D=parseInt(C.substring(M,M+k),b);k<8?(k=c(Math.pow(b,k)),N=N.j(k).add(c(D))):(N=N.j(I),N=N.add(c(D)))}return N}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);C+=(N>=0?N:4294967296+N)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(w(this))return"-"+x(this).toString(C);const b=c(Math.pow(C,6));var I=this;let N="";for(;;){const k=A(I,b).g;I=v(I,k.j(b));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,E(I))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=v(this,C),w(C)?-1:E(C)?0:1};function x(C){const b=C.g.length,I=[];for(let N=0;N<b;N++)I[N]=~C.g[N];return new o(I,~C.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let N=0;for(let k=0;k<=b;k++){let M=N+(this.i(k)&65535)+(C.i(k)&65535),D=(M>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);N=D>>>16,M&=65535,D&=65535,I[k]=D<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(C,b){return C.add(x(b))}t.j=function(C){if(E(this)||E(C))return h;if(w(this))return w(C)?x(this).j(x(C)):x(x(this).j(C));if(w(C))return x(this.j(x(C)));if(this.l(y)<0&&C.l(y)<0)return c(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var N=0;N<2*b;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<C.g.length;k++){const M=this.i(N)>>>16,D=this.i(N)&65535,z=C.i(k)>>>16,ne=C.i(k)&65535;I[2*N+2*k]+=D*ne,_(I,2*N+2*k),I[2*N+2*k+1]+=M*ne,_(I,2*N+2*k+1),I[2*N+2*k+1]+=D*z,_(I,2*N+2*k+1),I[2*N+2*k+2]+=M*z,_(I,2*N+2*k+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new o(I,0)};function _(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function S(C,b){this.g=C,this.h=b}function A(C,b){if(E(b))throw Error("division by zero");if(E(C))return new S(h,h);if(w(C))return b=A(x(C),b),new S(x(b.g),x(b.h));if(w(b))return b=A(C,x(b)),new S(x(b.g),b.h);if(C.g.length>30){if(w(C)||w(b))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=b;N.l(C)<=0;)I=P(I),N=P(N);var k=O(I,1),M=O(N,1);for(N=O(N,2),I=O(I,2);!E(N);){var D=M.add(N);D.l(C)<=0&&(k=k.add(I),M=D),N=O(N,1),I=O(I,1)}return b=v(C,k.j(b)),new S(k,b)}for(k=h;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=c(I),D=M.j(b);w(D)||D.l(C)>0;)I-=N,M=c(I),D=M.j(b);E(M)&&(M=p),k=k.add(M),C=v(C,D)}return new S(k,C)}t.B=function(C){return A(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<b;N++)I[N]=this.i(N)&C.i(N);return new o(I,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<b;N++)I[N]=this.i(N)|C.i(N);return new o(I,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<b;N++)I[N]=this.i(N)^C.i(N);return new o(I,this.h^C.h)};function P(C){const b=C.g.length+1,I=[];for(let N=0;N<b;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(I,C.h)}function O(C,b){const I=b>>5;b%=32;const N=C.g.length-I,k=[];for(let M=0;M<N;M++)k[M]=b>0?C.i(M+I)>>>b|C.i(M+I+1)<<32-b:C.i(M+I);return new o(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ri=o}).apply(typeof qS<"u"?qS:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HN,Zl,WN,yh,nv,qN,GN,KN;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var g=0;g<u.length;++g){var T=u[g];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var T=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var L=u[R];if(!(L in T))break e;T=T[L]}u=u[u.length-1],R=T[u],g=g(R),g!=R&&g!=null&&e(T,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var T=[],R;for(R in g)Object.prototype.hasOwnProperty.call(g,R)&&T.push([R,g[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,T){return u.call.apply(u.bind,arguments)}function c(u,g,T){return c=l,c.apply(null,arguments)}function d(u,g){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function h(u,g){function T(){}T.prototype=g.prototype,u.Z=g.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(R,L,j){for(var q=Array(arguments.length-2),me=2;me<arguments.length;me++)q[me-2]=arguments[me];return g.prototype[L].apply(R,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const g=u.length;if(g>0){const T=Array(g);for(let R=0;R<g;R++)T[R]=u[R];return T}return[]}function E(u,g){for(let R=1;R<arguments.length;R++){const L=arguments[R];var T=typeof L;if(T=T!="object"?T:L?Array.isArray(L)?"array":T:"null",T=="array"||T=="object"&&typeof L.length=="number"){T=u.length||0;const j=L.length||0;u.length=T+j;for(let q=0;q<j;q++)u[T+q]=L[q]}else u.push(L)}}class w{constructor(g,T){this.i=g,this.j=T,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){o.setTimeout(()=>{throw u},0)}function v(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class _{constructor(){this.h=this.g=null}add(g,T){const R=S.get();R.set(g,T),this.h?this.h.next=R:this.g=R,this.h=R}}var S=new w(()=>new A,u=>u.reset());class A{constructor(){this.next=this.g=this.h=null}set(g,T){this.h=g,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,C=new _,b=()=>{const u=Promise.resolve(void 0);P=()=>{u.then(I)}};function I(){for(var u;u=v();){try{u.h.call(u.g)}catch(T){x(T)}var g=S;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}O=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};o.addEventListener("test",T,g),o.removeEventListener("test",T,g)}catch{}return u}();function D(u){return/^[\s\xa0]*$/.test(u)}function z(u,g){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}h(z,k),z.prototype.init=function(u,g){const T=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(T=="mouseover"?g=u.fromElement:T=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),X=0;function J(u,g,T,R,L){this.listener=u,this.proxy=null,this.src=g,this.type=T,this.capture=!!R,this.ha=L,this.key=++X,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function F(u,g,T){for(const R in u)g.call(T,u[R],R,u)}function K(u,g){for(const T in u)g.call(void 0,u[T],T,u)}function ee(u){const g={};for(const T in u)g[T]=u[T];return g}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(u,g){let T,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(T in R)u[T]=R[T];for(let j=0;j<pe.length;j++)T=pe[j],Object.prototype.hasOwnProperty.call(R,T)&&(u[T]=R[T])}}function Ne(u){this.src=u,this.g={},this.h=0}Ne.prototype.add=function(u,g,T,R,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const q=Oe(u,g,R,L);return q>-1?(g=u[q],T||(g.fa=!1)):(g=new J(g,this.src,j,!!R,L),g.fa=T,u.push(g)),g};function Tt(u,g){const T=g.type;if(T in u.g){var R=u.g[T],L=Array.prototype.indexOf.call(R,g,void 0),j;(j=L>=0)&&Array.prototype.splice.call(R,L,1),j&&(V(g),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Oe(u,g,T,R){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==g&&j.capture==!!T&&j.ha==R)return L}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),be={};function Pe(u,g,T,R,L){if(Array.isArray(g)){for(let j=0;j<g.length;j++)Pe(u,g[j],T,R,L);return null}return T=ed(T),u&&u[ne]?u.J(g,T,a(R)?!!R.capture:!1,L):Ce(u,g,T,!1,R,L)}function Ce(u,g,T,R,L,j){if(!g)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let me=jr(u);if(me||(u[Z]=me=new Ne(u)),T=me.add(g,T,R,q,j),T.proxy)return T;if(R=Ie(),T.proxy=R,R.src=u,R.listener=T,u.addEventListener)M||(L=q),L===void 0&&(L=!1),u.addEventListener(g.toString(),R,L);else if(u.attachEvent)u.attachEvent(cn(g.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ie(){function u(T){return g.call(u.src,u.listener,T)}const g=Ii;return u}function Ae(u,g,T,R,L){if(Array.isArray(g))for(var j=0;j<g.length;j++)Ae(u,g[j],T,R,L);else R=a(R)?!!R.capture:!!R,T=ed(T),u&&u[ne]?(u=u.i,j=String(g).toString(),j in u.g&&(g=u.g[j],T=Oe(g,T,R,L),T>-1&&(V(g[T]),Array.prototype.splice.call(g,T,1),g.length==0&&(delete u.g[j],u.h--)))):u&&(u=jr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Oe(g,T,R,L)),(T=u>-1?g[u]:null)&&St(T))}function St(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ne])Tt(g.i,u);else{var T=u.type,R=u.proxy;g.removeEventListener?g.removeEventListener(T,R,u.capture):g.detachEvent?g.detachEvent(cn(T),R):g.addListener&&g.removeListener&&g.removeListener(R),(T=jr(g))?(Tt(T,u),T.h==0&&(T.src=null,g[Z]=null)):V(u)}}}function cn(u){return u in be?be[u]:be[u]="on"+u}function Ii(u,g){if(u.da)u=!0;else{g=new z(g,this);const T=u.listener,R=u.ha||u.src;u.fa&&St(u),u=T.call(R,g)}return u}function jr(u){return u=u[Z],u instanceof Ne?u:null}var Fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ed(u){return typeof u=="function"?u:(u[Fr]||(u[Fr]=function(g){return u.handleEvent(g)}),u[Fr])}function rt(){N.call(this),this.i=new Ne(this),this.M=this,this.G=null}h(rt,N),rt.prototype[ne]=!0,rt.prototype.removeEventListener=function(u,g,T,R){Ae(this,u,g,T,R)};function $t(u,g){var T,R=u.G;if(R)for(T=[];R;R=R.G)T.push(R);if(u=u.M,R=g.type||g,typeof g=="string")g=new k(g,u);else if(g instanceof k)g.target=g.target||u;else{var L=g;g=new k(R,u),Qe(g,L)}L=!0;let j,q;if(T)for(q=T.length-1;q>=0;q--)j=g.g=T[q],L=td(j,R,!0,g)&&L;if(j=g.g=u,L=td(j,R,!0,g)&&L,L=td(j,R,!1,g)&&L,T)for(q=0;q<T.length;q++)j=g.g=T[q],L=td(j,R,!1,g)&&L}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const T=u.g[g];for(let R=0;R<T.length;R++)V(T[R]);delete u.g[g],u.h--}}this.G=null},rt.prototype.J=function(u,g,T,R){return this.i.add(String(u),g,!1,T,R)},rt.prototype.K=function(u,g,T,R){return this.i.add(String(u),g,!0,T,R)};function td(u,g,T,R){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let j=0;j<g.length;++j){const q=g[j];if(q&&!q.da&&q.capture==T){const me=q.listener,ft=q.ha||q.src;q.fa&&Tt(u.i,q),L=me.call(ft,R)!==!1&&L}}return L&&!R.defaultPrevented}function uV(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function Cx(u){u.g=uV(()=>{u.g=null,u.i&&(u.i=!1,Cx(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class dV extends N{constructor(g,T){super(),this.m=g,this.l=T,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Cx(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xl(u){N.call(this),this.h=u,this.g={}}h(xl,N);var Ax=[];function Ix(u){F(u.g,function(g,T){this.g.hasOwnProperty(T)&&St(g)},u),u.g={}}xl.prototype.N=function(){xl.Z.N.call(this),Ix(this)},xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dm=o.JSON.stringify,hV=o.JSON.parse,fV=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Px(){}function Rx(){}var El={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hm(){k.call(this,"d")}h(hm,k);function fm(){k.call(this,"c")}h(fm,k);var Pi={},Nx=null;function nd(){return Nx=Nx||new rt}Pi.Ia="serverreachability";function kx(u){k.call(this,Pi.Ia,u)}h(kx,k);function Tl(u){const g=nd();$t(g,new kx(g))}Pi.STAT_EVENT="statevent";function Dx(u,g){k.call(this,Pi.STAT_EVENT,u),this.stat=g}h(Dx,k);function zt(u){const g=nd();$t(g,new Dx(g,u))}Pi.Ja="timingevent";function Mx(u,g){k.call(this,Pi.Ja,u),this.size=g}h(Mx,k);function Sl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function bl(){this.g=!0}bl.prototype.ua=function(){this.g=!1};function pV(u,g,T,R,L,j){u.info(function(){if(u.g)if(j){var q="",me=j.split("&");for(let De=0;De<me.length;De++){var ft=me[De].split("=");if(ft.length>1){const yt=ft[0];ft=ft[1];const ir=yt.split("_");q=ir.length>=2&&ir[1]=="type"?q+(yt+"="+ft+"&"):q+(yt+"=redacted&")}}}else q=null;else q=j;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+g+`
`+T+`
`+q})}function mV(u,g,T,R,L,j,q){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+g+`
`+T+`
`+j+" "+q})}function Do(u,g,T,R){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+yV(u,T)+(R?" "+R:"")})}function gV(u,g){u.info(function(){return"TIMEOUT: "+g})}bl.prototype.info=function(){};function yV(u,g){if(!u.g)return g;if(!g)return null;try{const j=JSON.parse(g);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var T=j[u];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<R.length;q++)R[q]=""}}}}return dm(j)}catch{return g}}var rd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ox={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lx;function pm(){}h(pm,Px),pm.prototype.g=function(){return new XMLHttpRequest},Lx=new pm;function Cl(u){return encodeURIComponent(String(u))}function vV(u){var g=1;u=u.split(":");const T=[];for(;g>0&&u.length;)T.push(u.shift()),g--;return u.length&&T.push(u.join(":")),T}function gs(u,g,T,R){this.j=u,this.i=g,this.l=T,this.S=R||1,this.V=new xl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vx}function Vx(){this.i=null,this.g="",this.h=!1}var jx={},mm={};function gm(u,g,T){u.M=1,u.A=id(sr(g)),u.u=T,u.R=!0,Fx(u,null)}function Fx(u,g){u.F=Date.now(),sd(u),u.B=sr(u.A);var T=u.B,R=u.S;Array.isArray(R)||(R=[String(R)]),Jx(T.i,"t",R),u.C=0,T=u.j.L,u.h=new Vx,u.g=gE(u.j,T?g:null,!u.u),u.P>0&&(u.O=new dV(c(u.Y,u,u.g),u.P)),g=u.V,T=u.g,R=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ax[0]=L.toString()),L=Ax);for(let j=0;j<L.length;j++){const q=Pe(T,L[j],R||g.handleEvent,!1,g.h||g);if(!q)break;g.g[q.key]=q}g=u.J?ee(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Tl(),pV(u.i,u.v,u.B,u.l,u.S,u.u)}gs.prototype.ba=function(u){u=u.target;const g=this.O;g&&ws(u)==3?g.j():this.Y(u)},gs.prototype.Y=function(u){try{if(u==this.g)e:{const me=ws(this.g),ft=this.g.ya(),De=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||iE(this.g)))){this.K||me!=4||ft==7||(ft==8||De<=0?Tl(3):Tl(2)),ym(this);var g=this.g.ca();this.X=g;var T=wV(this);if(this.o=g==200,mV(this.i,this.v,this.B,this.l,this.S,me,g),this.o){if(this.U&&!this.L){t:{if(this.g){var R,L=this.g;if((R=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var j=R;break t}}j=null}if(u=j)Do(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vm(this,u);else{this.o=!1,this.m=3,zt(12),Ri(this),Al(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<T.length;)if(yt=_V(this,T),yt==mm){me==4&&(this.m=4,zt(14),u=!1),Do(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==jx){this.m=4,zt(15),Do(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Do(this.i,this.l,yt,null),vm(this,yt);if(Ux(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||T.length!=0||this.h.h||(this.m=1,zt(16),u=!1),this.o=this.o&&u,!u)Do(this.i,this.l,T,"[Invalid Chunked Response]"),Ri(this),Al(this);else if(T.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Cm(q),q.P=!0,zt(11))}}else Do(this.i,this.l,T,null),vm(this,T);me==4&&Ri(this),this.o&&!this.K&&(me==4?hE(this.j,this):(this.o=!1,sd(this)))}else MV(this.g),g==400&&T.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Ri(this),Al(this)}}}catch{}finally{}};function wV(u){if(!Ux(u))return u.g.la();const g=iE(u.g);if(g==="")return"";let T="";const R=g.length,L=ws(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ri(u),Al(u),"";u.h.i=new o.TextDecoder}for(let j=0;j<R;j++)u.h.h=!0,T+=u.h.i.decode(g[j],{stream:!(L&&j==R-1)});return g.length=0,u.h.g+=T,u.C=0,u.h.g}function Ux(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _V(u,g){var T=u.C,R=g.indexOf(`
`,T);return R==-1?mm:(T=Number(g.substring(T,R)),isNaN(T)?jx:(R+=1,R+T>g.length?mm:(g=g.slice(R,R+T),u.C=R+T,g)))}gs.prototype.cancel=function(){this.K=!0,Ri(this)};function sd(u){u.T=Date.now()+u.H,Bx(u,u.H)}function Bx(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sl(c(u.aa,u),g)}function ym(u){u.D&&(o.clearTimeout(u.D),u.D=null)}gs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gV(this.i,this.B),this.M!=2&&(Tl(),zt(17)),Ri(this),this.m=2,Al(this)):Bx(this,this.T-u)};function Al(u){u.j.I==0||u.K||hE(u.j,u)}function Ri(u){ym(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Ix(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function vm(u,g){try{var T=u.j;if(T.I!=0&&(T.g==u||wm(T.h,u))){if(!u.L&&wm(T.h,u)&&T.I==3){try{var R=T.Ba.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)ud(T),ld(T);else break e;bm(T),zt(18)}}else T.xa=L[1],0<T.xa-T.K&&L[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Sl(c(T.Va,T),6e3));Hx(T.h)<=1&&T.ta&&(T.ta=void 0)}else ki(T,11)}else if((u.L||T.g==u)&&ud(T),!D(g))for(L=T.Ba.g.parse(g),g=0;g<L.length;g++){let De=L[g];const yt=De[0];if(!(yt<=T.K))if(T.K=yt,De=De[1],T.I==2)if(De[0]=="c"){T.M=De[1],T.ba=De[2];const ir=De[3];ir!=null&&(T.ka=ir,T.j.info("VER="+T.ka));const Di=De[4];Di!=null&&(T.za=Di,T.j.info("SVER="+T.za));const _s=De[5];_s!=null&&typeof _s=="number"&&_s>0&&(R=1.5*_s,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const xs=u.g;if(xs){const hd=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hd){var j=R.h;j.g||hd.indexOf("spdy")==-1&&hd.indexOf("quic")==-1&&hd.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(_m(j,j.h),j.h=null))}if(R.G){const Am=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(R.wa=Am,Le(R.J,R.G,Am))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var q=u;if(R.na=mE(R,R.L?R.ba:null,R.W),q.L){Wx(R.h,q);var me=q,ft=R.O;ft&&(me.H=ft),me.D&&(ym(me),sd(me)),R.g=q}else uE(R);T.i.length>0&&cd(T)}else De[0]!="stop"&&De[0]!="close"||ki(T,7);else T.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ki(T,7):Sm(T):De[0]!="noop"&&T.l&&T.l.qa(De),T.A=0)}}Tl(4)}catch{}}var xV=class{constructor(u,g){this.g=u,this.map=g}};function $x(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hx(u){return u.h?1:u.g?u.g.size:0}function wm(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function _m(u,g){u.g?u.g.add(g):u.h=g}function Wx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}$x.prototype.cancel=function(){if(this.i=qx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qx(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const T of u.g.values())g=g.concat(T.G);return g}return y(u.i)}var Gx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EV(u,g){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const R=u[T].indexOf("=");let L,j=null;R>=0?(L=u[T].substring(0,R),j=u[T].substring(R+1)):L=u[T],g(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ys(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof ys?(this.l=u.l,Il(this,u.j),this.o=u.o,this.g=u.g,Pl(this,u.u),this.h=u.h,xm(this,Zx(u.i)),this.m=u.m):u&&(g=String(u).match(Gx))?(this.l=!1,Il(this,g[1]||"",!0),this.o=Rl(g[2]||""),this.g=Rl(g[3]||"",!0),Pl(this,g[4]),this.h=Rl(g[5]||"",!0),xm(this,g[6]||"",!0),this.m=Rl(g[7]||"")):(this.l=!1,this.i=new kl(null,this.l))}ys.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Nl(g,Kx,!0),":");var T=this.g;return(T||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Nl(g,Kx,!0),"@"),u.push(Cl(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Nl(T,T.charAt(0)=="/"?bV:SV,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Nl(T,AV)),u.join("")},ys.prototype.resolve=function(u){const g=sr(this);let T=!!u.j;T?Il(g,u.j):T=!!u.o,T?g.o=u.o:T=!!u.g,T?g.g=u.g:T=u.u!=null;var R=u.h;if(T)Pl(g,u.u);else if(T=!!u.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var L=g.h.lastIndexOf("/");L!=-1&&(R=g.h.slice(0,L+1)+R)}if(L=R,L==".."||L==".")R="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){R=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let q=0;q<L.length;){const me=L[q++];me=="."?R&&q==L.length&&j.push(""):me==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),R&&q==L.length&&j.push("")):(j.push(me),R=!0)}R=j.join("/")}else R=L}return T?g.h=R:T=u.i.toString()!=="",T?xm(g,Zx(u.i)):T=!!u.m,T&&(g.m=u.m),g};function sr(u){return new ys(u)}function Il(u,g,T){u.j=T?Rl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Pl(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function xm(u,g,T){g instanceof kl?(u.i=g,IV(u.i,u.l)):(T||(g=Nl(g,CV)),u.i=new kl(g,u.l))}function Le(u,g,T){u.i.set(g,T)}function id(u){return Le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Rl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nl(u,g,T){return typeof u=="string"?(u=encodeURI(u).replace(g,TV),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function TV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kx=/[#\/\?@]/g,SV=/[#\?:]/g,bV=/[#\?]/g,CV=/[#\?@]/g,AV=/#/g;function kl(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ni(u){u.g||(u.g=new Map,u.h=0,u.i&&EV(u.i,function(g,T){u.add(decodeURIComponent(g.replace(/\+/g," ")),T)}))}t=kl.prototype,t.add=function(u,g){Ni(this),this.i=null,u=Mo(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(g),this.h+=1,this};function Qx(u,g){Ni(u),g=Mo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yx(u,g){return Ni(u),g=Mo(u,g),u.g.has(g)}t.forEach=function(u,g){Ni(this),this.g.forEach(function(T,R){T.forEach(function(L){u.call(g,L,R,this)},this)},this)};function Xx(u,g){Ni(u);let T=[];if(typeof g=="string")Yx(u,g)&&(T=T.concat(u.g.get(Mo(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)T=T.concat(u[g]);return T}t.set=function(u,g){return Ni(this),this.i=null,u=Mo(this,u),Yx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=Xx(this,u),u.length>0?String(u[0]):g):g};function Jx(u,g,T){Qx(u,g),T.length>0&&(u.i=null,u.g.set(Mo(u,g),y(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let R=0;R<g.length;R++){var T=g[R];const L=Cl(T);T=Xx(this,T);for(let j=0;j<T.length;j++){let q=L;T[j]!==""&&(q+="="+Cl(T[j])),u.push(q)}}return this.i=u.join("&")};function Zx(u){const g=new kl;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Mo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function IV(u,g){g&&!u.j&&(Ni(u),u.i=null,u.g.forEach(function(T,R){const L=R.toLowerCase();R!=L&&(Qx(this,R),Jx(this,L,T))},u)),u.j=g}function PV(u,g){const T=new bl;if(o.Image){const R=new Image;R.onload=d(vs,T,"TestLoadImage: loaded",!0,g,R),R.onerror=d(vs,T,"TestLoadImage: error",!1,g,R),R.onabort=d(vs,T,"TestLoadImage: abort",!1,g,R),R.ontimeout=d(vs,T,"TestLoadImage: timeout",!1,g,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else g(!1)}function RV(u,g){const T=new bl,R=new AbortController,L=setTimeout(()=>{R.abort(),vs(T,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:R.signal}).then(j=>{clearTimeout(L),j.ok?vs(T,"TestPingServer: ok",!0,g):vs(T,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),vs(T,"TestPingServer: error",!1,g)})}function vs(u,g,T,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(T)}catch{}}function NV(){this.g=new fV}function Em(u){this.i=u.Sb||null,this.h=u.ab||!1}h(Em,Px),Em.prototype.g=function(){return new od(this.i,this.h)};function od(u,g){rt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(od,rt),t=od.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Ml(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eE(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function eE(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Dl(this):Ml(this),this.readyState==3&&eE(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Dl(this))},t.Na=function(u){this.g&&(this.response=u,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ml(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var T=g.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=g.next();return u.join(`\r
`)};function Ml(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tE(u){let g="";return F(u,function(T,R){g+=R,g+=":",g+=T,g+=`\r
`}),g}function Tm(u,g,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=tE(T),typeof u=="string"?T!=null&&Cl(T):Le(u,g,T))}function Ye(u){rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ye,rt);var kV=/^https?$/i,DV=["POST","PUT"];t=Ye.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lx.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(j){nE(this,j);return}if(u=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)T.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())T.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(DV,g,void 0)>=0)||R||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of T)this.g.setRequestHeader(j,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){nE(this,j)}};function nE(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,rE(u),ad(u)}function rE(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,$t(this,"complete"),$t(this,"abort"),ad(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ad(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sE(this):this.Xa())},t.Xa=function(){sE(this)};function sE(u){if(u.h&&typeof i<"u"){if(u.v&&ws(u)==4)setTimeout(u.Ca.bind(u),0);else if($t(u,"readystatechange"),ws(u)==4){u.h=!1;try{const j=u.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var R;if(R=j===0){let q=String(u.D).match(Gx)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),R=!kV.test(q?q.toLowerCase():"")}T=R}if(T)$t(u,"complete"),$t(u,"success");else{u.o=6;try{var L=ws(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",rE(u)}}finally{ad(u)}}}}function ad(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,g||$t(u,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),hV(g)}};function iE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function MV(u){const g={};u=(u.g&&ws(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(D(u[R]))continue;var T=vV(u[R]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const j=g[L]||[];g[L]=j,j.push(T)}K(g,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(u,g,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||g}function oE(u){this.za=0,this.i=[],this.j=new bl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ol("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ol("baseRetryDelayMs",5e3,u),this.Za=Ol("retryDelaySeedMs",1e4,u),this.Ta=Ol("forwardChannelMaxRetries",2,u),this.va=Ol("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $x(u&&u.concurrentRequestLimit),this.Ba=new NV,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=oE.prototype,t.ka=8,t.I=1,t.connect=function(u,g,T,R){zt(0),this.W=u,this.H=g||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=mE(this,null,this.W),cd(this)};function Sm(u){if(aE(u),u.I==3){var g=u.V++,T=sr(u.J);if(Le(T,"SID",u.M),Le(T,"RID",g),Le(T,"TYPE","terminate"),Ll(u,T),g=new gs(u,u.j,g),g.M=2,g.A=id(sr(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!T&&o.Image&&(new Image().src=g.A,T=!0),T||(g.g=gE(g.j,null),g.g.ea(g.A)),g.F=Date.now(),sd(g)}pE(u)}function ld(u){u.g&&(Cm(u),u.g.cancel(),u.g=null)}function aE(u){ld(u),u.v&&(o.clearTimeout(u.v),u.v=null),ud(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function cd(u){if(!zx(u.h)&&!u.m){u.m=!0;var g=u.Ea;P||b(),O||(P(),O=!0),C.add(g,u),u.D=0}}function OV(u,g){return Hx(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sl(c(u.Ea,u,g),fE(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new gs(this,this.j,u);let j=this.o;if(this.U&&(j?(j=ee(j),Qe(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var g=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,g>4096){g=T;break e}if(g===4096||T===this.i.length-1){g=T+1;break e}}g=1e3}else g=1e3;g=cE(this,L,g),T=sr(this.J),Le(T,"RID",u),Le(T,"CVER",22),this.G&&Le(T,"X-HTTP-Session-Id",this.G),Ll(this,T),j&&(this.R?g="headers="+Cl(tE(j))+"&"+g:this.u&&Tm(T,this.u,j)),_m(this.h,L),this.Ra&&Le(T,"TYPE","init"),this.S?(Le(T,"$req",g),Le(T,"SID","null"),L.U=!0,gm(L,T,null)):gm(L,T,g),this.I=2}}else this.I==3&&(u?lE(this,u):this.i.length==0||zx(this.h)||lE(this))};function lE(u,g){var T;g?T=g.l:T=u.V++;const R=sr(u.J);Le(R,"SID",u.M),Le(R,"RID",T),Le(R,"AID",u.K),Ll(u,R),u.u&&u.o&&Tm(R,u.u,u.o),T=new gs(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),g&&(u.i=g.G.concat(u.i)),g=cE(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_m(u.h,T),gm(T,R,g)}function Ll(u,g){u.H&&F(u.H,function(T,R){Le(g,R,T)}),u.l&&F({},function(T,R){Le(g,R,T)})}function cE(u,g,T){T=Math.min(u.i.length,T);const R=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let me=-1;for(;;){const ft=["count="+T];me==-1?T>0?(me=L[0].g,ft.push("ofs="+me)):me=0:ft.push("ofs="+me);let De=!0;for(let yt=0;yt<T;yt++){var j=L[yt].g;const ir=L[yt].map;if(j-=me,j<0)me=Math.max(0,L[yt].g-100),De=!1;else try{j="req"+j+"_"||"";try{var q=ir instanceof Map?ir:Object.entries(ir);for(const[Di,_s]of q){let xs=_s;a(_s)&&(xs=dm(_s)),ft.push(j+Di+"="+encodeURIComponent(xs))}}catch(Di){throw ft.push(j+"type="+encodeURIComponent("_badmap")),Di}}catch{R&&R(ir)}}if(De){q=ft.join("&");break e}}q=void 0}return u=u.i.splice(0,T),g.G=u,q}function uE(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;P||b(),O||(P(),O=!0),C.add(g,u),u.A=0}}function bm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sl(c(u.Da,u),fE(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,dE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sl(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),ld(this),dE(this))};function Cm(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function dE(u){u.g=new gs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=sr(u.na);Le(g,"RID","rpc"),Le(g,"SID",u.M),Le(g,"AID",u.K),Le(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Le(g,"TO",u.ia),Le(g,"TYPE","xmlhttp"),Ll(u,g),u.u&&u.o&&Tm(g,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=id(sr(g)),T.u=null,T.R=!0,Fx(T,u)}t.Va=function(){this.C!=null&&(this.C=null,ld(this),bm(this),zt(19))};function ud(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function hE(u,g){var T=null;if(u.g==g){ud(u),Cm(u),u.g=null;var R=2}else if(wm(u.h,g))T=g.G,Wx(u.h,g),R=1;else return;if(u.I!=0){if(g.o)if(R==1){T=g.u?g.u.length:0,g=Date.now()-g.F;var L=u.D;R=nd(),$t(R,new Mx(R,T)),cd(u)}else uE(u);else if(L=g.m,L==3||L==0&&g.X>0||!(R==1&&OV(u,g)||R==2&&bm(u)))switch(T&&T.length>0&&(g=u.h,g.i=g.i.concat(T)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function fE(u,g){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*g}function ki(u,g){if(u.j.info("Error code "+g),g==2){var T=c(u.bb,u),R=u.Ua;const L=!R;R=new ys(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Il(R,"https"),id(R),L?PV(R.toString(),T):RV(R.toString(),T)}else zt(2);u.I=0,u.l&&u.l.pa(g),pE(u),aE(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function pE(u){if(u.I=0,u.ja=[],u.l){const g=qx(u.h);(g.length!=0||u.i.length!=0)&&(E(u.ja,g),E(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function mE(u,g,T){var R=T instanceof ys?sr(T):new ys(T);if(R.g!="")g&&(R.g=g+"."+R.g),Pl(R,R.u);else{var L=o.location;R=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const j=new ys(null);R&&Il(j,R),g&&(j.g=g),L&&Pl(j,L),T&&(j.h=T),R=j}return T=u.G,g=u.wa,T&&g&&Le(R,T,g),Le(R,"VER",u.ka),Ll(u,R),R}function gE(u,g,T){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Ye(new Em({ab:T})):new Ye(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yE(){}t=yE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dd(){}dd.prototype.g=function(u,g){return new un(u,g)};function un(u,g){rt.call(this),this.g=new oE(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!D(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Oo(this)}h(un,rt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Sm(this.g)},un.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=dm(u),u=T);g.i.push(new xV(g.Ya++,u)),g.I==3&&cd(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Sm(this.g),delete this.g,un.Z.N.call(this)};function vE(u){hm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const T in g){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}h(vE,hm);function wE(){fm.call(this),this.status=1}h(wE,fm);function Oo(u){this.g=u}h(Oo,yE),Oo.prototype.ra=function(){$t(this.g,"a")},Oo.prototype.qa=function(u){$t(this.g,new vE(u))},Oo.prototype.pa=function(u){$t(this.g,new wE)},Oo.prototype.oa=function(){$t(this.g,"b")},dd.prototype.createWebChannel=dd.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,KN=function(){return new dd},GN=function(){return nd()},qN=Pi,nv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rd.NO_ERROR=0,rd.TIMEOUT=8,rd.HTTP_ERROR=6,yh=rd,Ox.COMPLETE="complete",WN=Ox,Rx.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Zl=Rx,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,HN=Ye}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const GS="@firebase/firestore",KS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new p_("@firebase/firestore");function Bo(){return po.logLevel}function Q(t,...e){if(po.logLevel<=ve.DEBUG){const n=e.map(k_);po.debug(`Firestore (${dl}): ${t}`,...n)}}function us(t,...e){if(po.logLevel<=ve.ERROR){const n=e.map(k_);po.error(`Firestore (${dl}): ${t}`,...n)}}function Ha(t,...e){if(po.logLevel<=ve.WARN){const n=e.map(k_);po.warn(`Firestore (${dl}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QN(t,r,n)}function QN(t,e,n){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||QN(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class f7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p7{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Sr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new YN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class m7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new m7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=v7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function rv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return yg(s)===yg(i)?we(s,i):yg(s)?1:-1}return we(t.length,e.length)}const w7=55296,_7=57343;function yg(t){const e=t.charCodeAt(0);return e>=w7&&e<=_7}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__name__";class lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=lr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=lr.isNumericId(e),s=lr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?lr.extractNumericId(e).compare(lr.extractNumericId(n)):rv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}}class ke extends lr{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const x7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends lr{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return x7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YS}static keyField(){return new It([YS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ke.fromString(e))}static fromName(e){return new te(ke.fromString(e).popFirst(5))}static empty(){return new te(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e,n){if(!n)throw new G(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E7(t,e,n,r){if(e===!0&&r===!0)throw new G(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XS(t){if(!te.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(te.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new G(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!JN(t))throw new G(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new G(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=-62135596800,eb=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eb);return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ZS)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:ht("string",Fe._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Fe(0,0))}static max(){return new oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function T7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new di(s,te.empty(),e)}function S7(t){return new di(t.readTime,t.key,nu)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(oe.min(),te.empty(),nu)}static max(){return new di(oe.max(),te.empty(),nu)}}function b7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==C7)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function I7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-1;function Lu(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function P7(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="";function R7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tb(e)),e=N7(t.get(n),e);return tb(e)}function N7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case ZN:n+="";break;default:n+=i}}return n}function tb(t){return t+ZN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=s??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new At(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new gn([])}unionWith(e){let n=new gt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tk("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const k7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=k7.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="server_timestamp",rk="__type__",sk="__previous_value__",ik="__local_write_time__";function O_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rk])==null?void 0:r.stringValue)===nk}function Cp(t){const e=t.mapValue.fields[sk];return O_(e)?Cp(e):e}function ru(t){const e=hi(t.mapValue.fields[ik].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const mf="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="__type__",M7="__max__",Bd={mapValue:{}},ak="__vector__",gf="value";function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O_(t)?4:L7(t)?9007199254740991:O7(t)?10:11:re(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hi(s.timestampValue),a=hi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return fi(s.bytesValue).isEqual(fi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return it(s.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(s.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return it(s.integerValue)===it(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=it(s.doubleValue),a=it(i.doubleValue);return o===a?pf(o)===pf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(nb(o)!==nb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dr(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function iu(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=pi(t),r=pi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=it(i.integerValue||i.doubleValue),l=it(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sb(t.timestampValue,e.timestampValue);case 4:return sb(ru(t),ru(e));case 5:return rv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=fi(i),l=fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=we(a[c],l[c]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(it(i.latitude),it(o.latitude));return a!==0?a:we(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ib(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,E,w;const a=i.fields||{},l=o.fields||{},c=(p=a[gf])==null?void 0:p.arrayValue,d=(y=l[gf])==null?void 0:y.arrayValue,h=we(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return h!==0?h:ib(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bd.mapValue&&o===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(o===Bd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=rv(l[h],d[h]);if(p!==0)return p;const y=qa(a[l[h]],c[d[h]]);if(y!==0)return y}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=hi(t),r=hi(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function ib(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=qa(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function Ga(t){return sv(t)}function sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${sv(n.fields[o])}`;return s+"}"}(t.mapValue):re(61005,{value:t})}function vh(t){switch(pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cp(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+vh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ti(r.fields,(i,o)=>{s+=i.length+vh(o)}),s}(t.mapValue);default:throw re(13486,{value:t})}}function ob(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iv(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function ab(t){return!!t&&"nullValue"in t}function lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function O7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ok])==null?void 0:r.stringValue)===ak}function Tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return{...t}}function L7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qt(Tc(this.value))}}function lk(t){const e=[];return Ti(t.fields,(n,r)=>{const s=new It([n]);if(wh(r)){const i=lk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,oe.min(),oe.min(),oe.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,oe.min(),oe.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,oe.min(),oe.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function cb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=qa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function V7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{}class dt extends ck{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F7(e,n,r):n==="array-contains"?new $7(e,r):n==="in"?new z7(e,r):n==="not-in"?new H7(e,r):n==="array-contains-any"?new W7(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U7(e,r):new B7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends ck{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return uk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uk(t){return t.op==="and"}function dk(t){return j7(t)&&uk(t)}function j7(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function ov(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(dk(t))return t.filters.map(e=>ov(e)).join(",");{const e=t.filters.map(n=>ov(n)).join(",");return`${t.op}(${e})`}}function hk(t,e){return t instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&hk(o,s.filters[a]),!0):!1}(t,e):void re(19439)}function fk(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(fk).join(" ,")+"}"}(t):"Filter"}class F7 extends dt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class U7 extends dt{constructor(e,n){super(e,"in",n),this.keys=pk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B7 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=pk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class $7 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return L_(n)&&iu(n.arrayValue,this.value)}}class z7 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class H7 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class W7 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function db(t,e=null,n=[],r=[],s=null,i=null,o=null){return new q7(t,e,n,r,s,i,o)}function V_(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function j_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ub(t.startAt,e.startAt)&&ub(t.endAt,e.endAt)}function av(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G7(t,e,n,r,s,i,o,a){return new pl(t,e,n,r,s,i,o,a)}function F_(t){return new pl(t)}function hb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mk(t){return t.collectionGroup!==null}function Sc(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ou(i,r))}),n.has(It.keyField().canonicalString())||e.Ie.push(new ou(It.keyField(),r))}return e.Ie}function br(t){const e=ue(t);return e.Ee||(e.Ee=K7(e,Sc(t))),e.Ee}function K7(t,e){if(t.limitType==="F")return db(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ou(s.field,i)});const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return db(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lv(t,e){const n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cv(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return j_(br(t),br(e))&&t.limitType===e.limitType}function gk(t){return`${V_(br(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fk(s)).join(", ")}]`),Lu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Ip(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=cb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Sc(r),s)||r.endAt&&!function(o,a,l){const c=cb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Sc(r),s))}(t,e)}function Q7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yk(t){return(e,n)=>{let r=!1;for(const s of Sc(t)){const i=Y7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Y7(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?qa(l,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ek(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new Ke(te.comparator);function hs(){return X7}const vk=new Ke(te.comparator);function ec(...t){let e=vk;for(const n of t)e=e.insert(n.key,n);return e}function wk(t){let e=vk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return bc()}function _k(){return bc()}function bc(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const J7=new Ke(te.comparator),Z7=new gt(te.comparator);function _e(...t){let e=Z7;for(const n of t)e=e.add(n);return e}const eH=new gt(we);function tH(){return eH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function xk(t){return{integerValue:""+t}}function nH(t,e){return P7(e)?xk(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function rH(t,e,n){return t instanceof au?function(s,i){const o={fields:{[rk]:{stringValue:nk},[ik]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&O_(i)&&(i=Cp(i)),i&&(o.fields[sk]=i),{mapValue:o}}(n,e):t instanceof Ka?Tk(t,e):t instanceof Qa?Sk(t,e):function(s,i){const o=Ek(s,i),a=fb(o)+fb(s.Ae);return iv(o)&&iv(s.Ae)?xk(a):U_(s.serializer,a)}(t,e)}function sH(t,e,n){return t instanceof Ka?Tk(t,e):t instanceof Qa?Sk(t,e):n}function Ek(t,e){return t instanceof vf?function(r){return iv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class au extends Pp{}class Ka extends Pp{constructor(e){super(),this.elements=e}}function Tk(t,e){const n=bk(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends Pp{constructor(e){super(),this.elements=e}}function Sk(t,e){let n=bk(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class vf extends Pp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fb(t){return it(t.integerValue||t.doubleValue)}function bk(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.field=e,this.transform=n}}function iH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ka&&s instanceof Ka||r instanceof Qa&&s instanceof Qa?Wa(r.elements,s.elements,Dr):r instanceof vf&&s instanceof vf?Dr(r.Ae,s.Ae):r instanceof au&&s instanceof au}(t.transform,e.transform)}class oH{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function Ck(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $_(t.key,Yt.none()):new Vu(t.key,t.data,Yt.none());{const n=t.data,r=Qt.empty();let s=new gt(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Si(t.key,r,new gn(s.toArray()),Yt.none())}}function aH(t,e,n){t instanceof Vu?function(s,i,o){const a=s.value.clone(),l=mb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(s,i,o){if(!_h(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ak(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Vu?function(i,o,a,l){if(!_h(i.precondition,o))return a;const c=i.value.clone(),d=gb(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(i,o,a,l){if(!_h(i.precondition,o))return a;const c=gb(i.fieldTransforms,l,o),d=o.data;return d.setAll(Ak(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return _h(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ek(r.transform,s||null);i!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,i))}return n||null}function pb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,o)=>iH(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Rp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Si extends Rp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ak(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mb(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,sH(o,a,n[s]))}return r}function gb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,rH(i,o,e))}return r}class $_ extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ik extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_k();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ck(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>pb(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>pb(n,r))}}class z_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return J7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new z_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ee;function Pk(t){switch(t){case B.OK:return re(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function Rk(t){if(t===void 0)return us("GRPC error has no .code"),B.UNKNOWN;switch(t){case ct.OK:return B.OK;case ct.CANCELLED:return B.CANCELLED;case ct.UNKNOWN:return B.UNKNOWN;case ct.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ct.INTERNAL:return B.INTERNAL;case ct.UNAVAILABLE:return B.UNAVAILABLE;case ct.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ct.NOT_FOUND:return B.NOT_FOUND;case ct.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ct.ABORTED:return B.ABORTED;case ct.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ct.DATA_LOSS:return B.DATA_LOSS;default:return re(39323,{code:t})}}(Ee=ct||(ct={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new ri([4294967295,4294967295],0);function yb(t){const e=hH().encode(t),n=new zN;return n.update(e),new Uint8Array(n.digest())}function vb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ri([n,r],0),new ri([s,i],0)]}class H_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ri.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ri.fromNumber(r)));return s.compare(fH)===1&&(s=new ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yb(e),[r,s]=vb(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new H_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=yb(e),[r,s]=vb(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(oe.min(),s,new Ke(we),hs(),_e())}}class ju{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ju(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Nk{constructor(e,n){this.targetId=e,this.Ce=n}}class kk{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wb{constructor(){this.ve=0,this.Fe=_b(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re(38017,{changeType:i})}}),new ju(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_b()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pH{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=$d(),this.He=$d(),this.Ye=new Ke(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(av(i))if(r===0){const o=new te(i.path);this.et(n,o,xt.newNoDocument(o,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=fi(r).toUint8Array()}catch(l){if(l instanceof tk)return Ha("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new H_(o,s,i)}catch(l){return Ha(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&av(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,xt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=_e();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Np(e,n,this.Ye,this.je,r);return this.je=hs(),this.Je=$d(),this.He=$d(),this.Ye=new Ke(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gt(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gt(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $d(){return new Ke(te.comparator)}function _b(){return new Ke(te.comparator)}const mH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yH={and:"AND",or:"OR"};class vH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uv(t,e){return t.useProto3Json||Lu(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wH(t,e){return wf(t,e.toTimestamp())}function wn(t){return Te(!!t,49232),oe.fromTimestamp(function(n){const r=hi(n);return new Fe(r.seconds,r.nanos)}(t))}function W_(t,e){return dv(t,e).canonicalString()}function dv(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Mk(t){const e=ke.fromString(t);return Te(Uk(e),10190,{key:e.toString()}),e}function _f(t,e){return W_(t.databaseId,e.path)}function Ac(t,e){const n=Mk(e);if(n.get(1)!==t.databaseId.projectId)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(Lk(n))}function Ok(t,e){return W_(t.databaseId,e)}function _H(t){const e=Mk(t);return e.length===4?ke.emptyPath():Lk(e)}function hv(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lk(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xb(t,e,n){return{name:_f(t,e),fields:n.value.mapValue.fields}}function xH(t,e){return"found"in e?function(r,s){Te(!!s.found,43571),s.found.name,s.found.updateTime;const i=Ac(r,s.found.name),o=wn(s.found.updateTime),a=s.found.createTime?wn(s.found.createTime):oe.min(),l=new Qt({mapValue:{fields:s.found.fields}});return xt.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Te(!!s.missing,3894),Te(!!s.readTime,22933);const i=Ac(r,s.missing),o=wn(s.readTime);return xt.newNoDocument(i,o)}(t,e):re(7234,{result:e})}function EH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string",58123),Nt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Nt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:Rk(c.code);return new G(d,c.message||"")}(o);n=new kk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ac(t,r.document.name),i=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):oe.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new xh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ac(t,r.document),i=r.readTime?wn(r.readTime):oe.min(),o=xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ac(t,r.document),i=r.removedTargetIds||[];n=new xh([],i,s,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new dH(s,i),a=r.targetId;n=new Nk(a,o)}}return n}function Vk(t,e){let n;if(e instanceof Vu)n={update:xb(t,e.key,e.value)};else if(e instanceof $_)n={delete:_f(t,e.key)};else if(e instanceof Si)n={update:xb(t,e.key,e.data),updateMask:NH(e.fieldMask)};else{if(!(e instanceof Ik))return re(16599,{Vt:e.type});n={verify:_f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof au)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:wH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re(27497)}(t,e.precondition)),n}function TH(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?wn(s.updateTime):wn(i);return o.isEqual(oe.min())&&(o=wn(i)),new oH(o,s.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[Ok(t,e.path)]}}function bH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ok(t,s);const i=function(c){if(c.length!==0)return Fk(tr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:zo(p.field),direction:IH(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function CH(t){let e=_H(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=jk(h);return p instanceof tr&&dk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(E){return new ou(Ho(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Lu(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new yf(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,y=h.values||[];return new yf(y,p)}(n.endAt)),G7(e,s,o,i,a,"F",l,c)}function AH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(n.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ho(n.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>jk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function IH(t){return mH[t]}function PH(t){return gH[t]}function RH(t){return yH[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return It.fromServerFormat(t.fieldPath)}function Fk(t){return t instanceof dt?function(n){if(n.op==="=="){if(lb(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lb(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:PH(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>Fk(s));return r.length===1?r[0]:{compositeFilter:{op:RH(n.op),filters:r}}}(t):re(54877,{filter:t})}function NH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.yt=e}}function DH(t){const e=CH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.Cn=new OH}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(di.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class OH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new gt(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bk=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Bk,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",LH=1048576;function Sb([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class VH{constructor(e){this.Ir=e,this.buffer=new gt(Sb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(Tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?Q(Tb,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)})}}class FH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(bp.ce);const r=new VH(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Eb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Bo()<=ve.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function UH(t,e){return new FH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cc(r.mutation,s,gn.empty(),Fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Hi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ec();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=hs();const o=bc(),a=function(){return bc()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Si)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Cc(d.mutation,c,d.mutation.getFieldMask(),Fe.now())):o.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new $H(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=bc();let s=new Ke((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||gn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||_e()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=_k();d.forEach(p=>{if(!i.has(p)){const y=Ck(n.get(p),r.get(p));y!==null&&h.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Hi());let a=nu,l=i;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,_e())).next(d=>({batchId:a,changes:wk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ec();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ec();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(h,p){return new pl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,xt.newInvalidDocument(d)))});let a=ec();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Cc(d.mutation,c,gn.empty(),Fe.now()),Ip(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wn(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:DH(s.bundledQuery),readTime:wn(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.overlays=new Ke(te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Hi(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Hi(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Hi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uH(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Qr=new gt(wt.$r),this.Ur=new gt(wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new wt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new ke([])),r=new wt(n,e),s=new wt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new ke([])),r=new wt(n,e),s=new wt(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new wt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gt(wt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cH(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new wt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?M_:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),s=new wt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(we);return n.forEach(s=>{const i=new wt(s,0),o=new wt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new wt(new te(i),0);let a=new gt(we);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new wt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.ri=e,this.docs=function(){return new Ke(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=hs();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||b7(S7(d),r)<=0||(s.has(d.key)||Ip(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QH(this)}getSize(e){return $.resolve(this.size)}}class QH extends BH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.persistence=e,this.si=new So(n=>V_(n),j_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new q_,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.ui={},this.overlays={},this.ci=new bp(0),this.li=!1,this.li=!0,this.hi=new qH,this.referenceDelegate=e(this),this.Pi=new YH(this),this.indexManager=new MH,this.remoteDocumentCache=function(s){return new KH(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kH(n),this.Ii=new HH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new XH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class XH extends A7{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Ri=new q_,this.Vi=null}static mi(e){return new G_(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.pi=new So(r=>R7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=UH(this,n)}static mi(e,n){return new xf(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new K_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return N9()?8:I7(Bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new JH;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Bo()<=ve.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Bo()<=ve.DEBUG&&Q("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Bo()<=ve.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):$.resolve())}ys(e,n){if(hb(n))return $.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cv(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,cv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return hb(n)||s.isEqual(oe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Bo()<=ve.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(n)),this.vs(e,o,n,T7(s,nu)).next(a=>a))})}Ds(e,n){let r=new gt(yk(e));return n.forEach((s,i)=>{Ip(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Bo()<=ve.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ps.getDocumentsMatchingQuery(e,n,di.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LocalStore",eW=3e8;class tW{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ke(we),this.xs=new So(i=>V_(i),j_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function nW(t,e,n,r){return new tW(t,e,n,r)}async function zk(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=_e();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function rW(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let y=$.resolve();return p.forEach(E=>{y=y.next(()=>d.getEntry(l,E)).next(w=>{const x=c.docVersions.get(E);Te(x!==null,48541),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Hk(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function sW(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(h,y),function(w,x,v){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=eW?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,d)&&a.push(n.Pi.updateTargetData(i,y))});let l=hs(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(iW(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function iW(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=hs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(Q_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function oW(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=M_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aW(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function fv(t,e,n){const r=ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fl(o))throw o;Q(Q_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function bb(t,e,n){const r=ue(t);let s=oe.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ue(l),p=h.xs.get(d);return p!==void 0?$.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,o,br(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:_e())).next(a=>(lW(r,Q7(e),a),{documents:a,Qs:i})))}function lW(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Cb{constructor(){this.activeTargetIds=tH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cW{constructor(){this.Mo=new Cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="ConnectivityMonitor";class Ib{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function pv(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",dW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=pv(),a=this.zo(e,n.toUriEncodedString());Q(vg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=Ei(c);return this.Jo(e,a,l,r,d).then(h=>(Q(vg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ha(vg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=dW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class pW extends hW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=pv();return new Promise((a,l)=>{const c=new HN;c.setWithCredentials(!0),c.listenOnce(WN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yh.NO_ERROR:const h=c.getResponseJson();Q(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case yh.TIMEOUT:Q(Ot,`RPC '${e}' ${o} timed out`),l(new G(B.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const p=c.getStatus();if(Q(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const w=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(E.status);l(new G(w,E.message))}else l(new G(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new G(B.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Q(Ot,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(Ot,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=pv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KN(),a=GN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Q(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,y=!1;const E=new fW({Yo:x=>{y?Q(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(Q(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Q(Ot,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},Zo:()=>h.close()}),w=(x,v,_)=>{x.listen(v,S=>{try{_(S)}catch(A){setTimeout(()=>{throw A},0)}})};return w(h,Zl.EventType.OPEN,()=>{y||(Q(Ot,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),w(h,Zl.EventType.CLOSE,()=>{y||(y=!0,Q(Ot,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(h))}),w(h,Zl.EventType.ERROR,x=>{y||(y=!0,Ha(Ot,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),E.a_(new G(B.UNAVAILABLE,"The operation could not be completed")))}),w(h,Zl.EventType.MESSAGE,x=>{var v;if(!y){const _=x.data[0];Te(!!_,16349);const S=_,A=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(A){Q(Ot,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let O=function(I){const N=ct[I];if(N!==void 0)return Rk(N)}(P),C=A.message;O===void 0&&(O=B.INTERNAL,C="Unknown error status: "+P+" with message "+A.message),y=!0,E.a_(new G(O,C)),h.close()}else Q(Ot,`RPC '${e}' stream ${s} received:`,_),E.u_(_)}}),w(a,qN.STAT_EVENT,x=>{x.stat===nv.PROXY?Q(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===nv.NOPROXY&&Q(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return new vH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="PersistentStream";class Wk{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(Pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(Pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mW extends Wk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EH(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?wn(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=av(l)?{documents:SH(i,l)}:{query:bH(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Dk(i,o.resumeToken);const c=uv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=wf(i,o.snapshotVersion.toTimestamp());const c=uv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=AH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hv(this.serializer),n.removeTarget=e,this.q_(n)}}class gW extends Wk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TH(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vk(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{}class vW extends yW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,dv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,dv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class _W{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{bo(this)&&(Q(mo,"Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.Ea.add(4),await Fu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Dp(c)}(this))})}),this.Ra=new wW(r,s)}}async function Dp(t){if(bo(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function qk(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e0(n)?Z_(n):ml(n).O_()&&J_(n,e))}function X_(t,e){const n=ue(t),r=ml(n);n.Ia.delete(e),r.O_()&&Gk(n,e),n.Ia.size===0&&(r.O_()?r.L_():bo(n)&&n.Ra.set("Unknown"))}function J_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).Y_(e)}function Gk(t,e){t.Va.Ue(e),ml(t).Z_(e)}function Z_(t){t.Va=new pH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.Ra.ua()}function e0(t){return bo(t)&&!ml(t).x_()&&t.Ia.size>0}function bo(t){return ue(t).Ea.size===0}function Kk(t){t.Va=void 0}async function xW(t){t.Ra.set("Online")}async function EW(t){t.Ia.forEach((e,n)=>{J_(t,e)})}async function TW(t,e){Kk(t),e0(t)?(t.Ra.ha(e),Z_(t)):t.Ra.set("Unknown")}async function SW(t,e,n){if(t.Ra.set("Online"),e instanceof kk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Q(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(t,r)}else if(e instanceof xh?t.Va.Ze(e):e instanceof Nk?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await Hk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Nt.EMPTY_BYTE_STRING,d.snapshotVersion)),Gk(i,l);const h=new qs(d.target,l,c,d.sequenceNumber);J_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(mo,"Failed to raise snapshot:",r),await Ef(t,r)}}async function Ef(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>Hk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(mo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dp(t)})}function Qk(t,e){return e().catch(n=>Ef(t,n,e))}async function Mp(t){const e=ue(t),n=mi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:M_;for(;bW(e);)try{const s=await oW(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,CW(e,s)}catch(s){await Ef(e,s)}Yk(e)&&Xk(e)}function bW(t){return bo(t)&&t.Ta.length<10}function CW(t,e){t.Ta.push(e);const n=mi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Yk(t){return bo(t)&&!mi(t).x_()&&t.Ta.length>0}function Xk(t){mi(t).start()}async function AW(t){mi(t).ra()}async function IW(t){const e=mi(t);for(const n of t.Ta)e.ea(n.mutations)}async function PW(t,e,n){const r=t.Ta.shift(),s=z_.from(r,e,n);await Qk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mp(t)}async function RW(t,e){e&&mi(t).X_&&await async function(r,s){if(function(o){return Pk(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();mi(r).B_(),await Qk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mp(r)}}(t,e),Yk(t)&&Xk(t)}async function Rb(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(mo,"RemoteStore received new credentials");const r=bo(n);n.Ea.add(3),await Fu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dp(n)}async function NW(t,e){const n=ue(t);e?(n.Ea.delete(2),await Dp(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function ml(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new mW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:xW.bind(null,t),t_:EW.bind(null,t),r_:TW.bind(null,t),H_:SW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),e0(t)?Z_(t):t.Ra.set("Unknown")):(await t.ma.stop(),Kk(t))})),t.ma}function mi(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new gW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AW.bind(null,t),r_:RW.bind(null,t),ta:IW.bind(null,t),na:PW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Mp(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(mo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new t0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(t,e){if(us("AsyncQueue",`${e}: ${t}`),fl(t))return new G(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.ga=new Ke(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,n,Ea.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class DW{constructor(){this.queries=kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=kb(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new G(B.ABORTED,"Firestore shutting down"))}}function kb(){return new So(t=>gk(t),Ap)}async function Jk(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new kW,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=n0(o,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&r0(n)}async function Zk(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MW(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&r0(n)}function OW(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function r0(t){t.Ca.forEach(e=>{e.next()})}var mv,Db;(Db=mv||(mv={})).Ma="default",Db.Cache="cache";class eD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.key=e}}class nD{constructor(e){this.key=e}}class LW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=yk(e),this.tu=new Ea(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Nb,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),y=Ip(this.query,h)?h:null,E=!!p&&this.mutatedKeys.has(p.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;p&&y?p.data.isEqual(y.data)?E!==w&&(r.track({type:3,doc:y}),x=!0):this.su(p,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.eu(y,l)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),x=!0):p&&!y&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(y?(o=o.add(y),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(y,E){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:x})}};return w(y)-w(E)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Xa(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new nD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new tD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const s0="SyncEngine";class VW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jW{constructor(e){this.key=e,this.hu=!1}}class FW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new So(a=>gk(a),Ap),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(te.comparator),this.Au=new Map,this.Ru=new q_,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UW(t,e,n=!0){const r=lD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rD(r,e,n,!0),s}async function BW(t,e){const n=lD(t);await rD(n,e,!0,!1)}async function rD(t,e,n,r){const s=await aW(t.localStore,br(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await $W(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qk(t.remoteStore,s),a}async function $W(t,e,n,r,s){t.pu=(h,p,y)=>async function(w,x,v,_){let S=x.view.ru(v);S.Cs&&(S=await bb(w.localStore,x.query,!1).then(({documents:C})=>x.view.ru(C,S)));const A=_&&_.targetChanges.get(x.targetId),P=_&&_.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(S,w.isPrimaryClient,A,P);return Ob(w,x.targetId,O.au),O.snapshot}(t,h,p,y);const i=await bb(t.localStore,e,!0),o=new LW(e,i.Qs),a=o.ru(i.documents),l=ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Ob(t,n,c.au);const d=new VW(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function zW(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ap(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&X_(r.remoteStore,s.targetId),gv(r,s.targetId)}).catch(hl)):(gv(r,s.targetId),await fv(r.localStore,s.targetId,!0))}async function HW(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),X_(n.remoteStore,r.targetId))}async function WW(t,e,n){const r=JW(t);try{const s=await function(o,a){const l=ue(o),c=Fe.now(),d=a.reduce((y,E)=>y.add(E.key),_e());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=hs(),w=_e();return l.Ns.getEntries(y,d).next(x=>{E=x,E.forEach((v,_)=>{_.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(x=>{h=x;const v=[];for(const _ of a){const S=lH(_,h.get(_.key).overlayedDocument);S!=null&&v.push(new Si(_.key,S,lk(S.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,v,a)}).next(x=>{p=x;const v=x.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(y,x.batchId,v)})}).then(()=>({batchId:p.batchId,changes:wk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ke(we)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Uu(r,s.changes),await Mp(r.remoteStore)}catch(s){const i=n0(s,"Failed to persist write");n.reject(i)}}async function sD(t,e){const n=ue(t);try{const r=await sW(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Uu(n,r,e)}catch(r){await hl(r)}}function Mb(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&r0(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qW(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ke(te.comparator);o=o.insert(i,xt.newNoDocument(i,oe.min()));const a=_e().add(i),l=new Np(oe.min(),new Map,new Ke(we),o,a);await sD(r,l),r.du=r.du.remove(i),r.Au.delete(e),i0(r)}else await fv(r.localStore,e,!1).then(()=>gv(r,e,n)).catch(hl)}async function GW(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await rW(n.localStore,e);oD(n,r,null),iD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,s)}catch(s){await hl(s)}}async function KW(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Te(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);oD(r,e,n),iD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,s)}catch(s){await hl(s)}}function iD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oD(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||aD(t,r)})}function aD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(X_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),i0(t))}function Ob(t,e,n){for(const r of n)r instanceof tD?(t.Ru.addReference(r.key,e),QW(t,r)):r instanceof nD?(Q(s0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aD(t,r.key)):re(19791,{wu:r})}function QW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(s0,"New document in limbo: "+n),t.Eu.add(r),i0(t))}function i0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new jW(n)),t.du=t.du.insert(n,r),qk(t.remoteStore,new qs(br(F_(n.path)),r,"TargetPurposeLimboResolution",bp.ce))}}async function Uu(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=K_.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,p=>$.forEach(p.Es,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>$.forEach(p.ds,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!fl(h))throw h;Q(Q_,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const y=d.Ms.get(p),E=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,i))}async function YW(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(s0,"User change. New user:",e.toKey());const r=await zk(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new G(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.Ls)}}function XW(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function lD(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qW.bind(null,e),e.Pu.H_=MW.bind(null,e.eventManager),e.Pu.yu=OW.bind(null,e.eventManager),e}function JW(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KW.bind(null,e),e}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nW(this.persistence,new ZH,e.initialUser,this.serializer)}Cu(e){return new $k(G_.mi,this.serializer)}Du(e){return new cW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class ZW extends Tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new $k(r=>xf.mi(r,n),this.serializer)}}class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YW.bind(null,this.syncEngine),await NW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DW}()}createDatastore(e){const n=kp(e.databaseInfo.databaseId),r=function(i){return new pW(i)}(e.databaseInfo);return function(i,o,a,l){return new vW(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new _W(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mb(this.syncEngine,n,0),function(){return Ib.v()?new Ib:new uW}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new FW(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(mo,"RemoteStore shutting down."),i.Ea.add(5),await Fu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new G(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=ue(s),a={documents:i.map(h=>_f(o.serializer,h))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,ke.emptyPath(),a,i.length),c=new Map;l.forEach(h=>{const p=xH(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return i.forEach(h=>{const p=c.get(h.toString());Te(!!p,55234,{key:h}),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=te.fromPath(r);this.mutations.push(new Ik(s,this.precondition(s)))}),await async function(r,s){const i=ue(r),o={writes:s.map(a=>Vk(i.serializer,a))};await i.Go("Commit",i.serializer.databaseId,ke.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re(50498,{Gu:e.constructor.name});n=oe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(oe.min())?Yt.exists(!1):Yt.updateTime(n):Yt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(oe.min()))throw new G(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(n)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new Y_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new eq(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Yu(s)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Pk(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="FirestoreClient";class nq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=D_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(gi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(gi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=n0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),Q(gi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rq(t);Q(gi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Rb(e.remoteStore,s)),t._onlineComponents=e}async function rq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(gi,"Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new Tf)}}else Q(gi,"Using default OfflineComponentProvider"),await _g(t,new ZW(void 0));return t._offlineComponents}async function o0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(gi,"Using user provided OnlineComponentProvider"),await Lb(t,t._uninitializedComponentsProvider._online)):(Q(gi,"Using default OnlineComponentProvider"),await Lb(t,new yv))),t._onlineComponents}function sq(t){return o0(t).then(e=>e.syncEngine)}function iq(t){return o0(t).then(e=>e.datastore)}async function uD(t){const e=await o0(t),n=e.eventManager;return n.onListen=UW.bind(null,e.syncEngine),n.onUnlisten=zW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HW.bind(null,e.syncEngine),n}function oq(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new cD({next:p=>{d.Nu(),o.enqueueAndForget(()=>Zk(i,h));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new G(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new G(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new eD(F_(a.path),d,{includeMetadataChanges:!0,qa:!0});return Jk(i,h)}(await uD(t),t.asyncQueue,e,n,r)),r.promise}function aq(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new cD({next:p=>{d.Nu(),o.enqueueAndForget(()=>Zk(i,h)),p.fromCache&&l.source==="server"?c.reject(new G(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new eD(a,d,{includeMetadataChanges:!0,qa:!0});return Jk(i,h)}(await uD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firestore.googleapis.com",jb=!0;class Fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hD,this.ssl=jb}else this.host=e.host,this.ssl=e.ssl??jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LH)throw new G(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Op{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h7;switch(r.type){case"firstParty":return new g7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vb.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Vb.delete(n),r.terminate())}(this),Promise.resolve()}}function lq(t,e,n,r={}){var c;t=ds(t,Op);const s=Ei(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(h_(`https://${a}`),f_("Firestore",!0)),i.host!==hD&&i.host!==a&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!as(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Vt.MOCK_USER;else{d=HR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vt(p)}t._authCredentials=new f7(new YN(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ou(n,at._jsonSchema))return new at(e,r||null,new te(ke.fromString(n.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:ht("string",at._jsonSchemaVersion),referencePath:ht("string")};class si extends Co{constructor(e,n,r){super(e,n,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new te(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Ao(t,e,...n){if(t=Ge(t),XN("collection","path",e),t instanceof Op){const r=ke.fromString(e,...n);return JS(r),new si(t,null,r)}{if(!(t instanceof at||t instanceof si))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return JS(r),new si(t.firestore,null,r)}}function Sf(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=D_.newId()),XN("doc","path",e),t instanceof Op){const r=ke.fromString(e,...n);return XS(r),new at(t,null,new te(r))}{if(!(t instanceof at||t instanceof si))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return XS(r),new at(t.firestore,t instanceof si?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="AsyncQueue";class Bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y_(this,"async_queue_retry"),this._c=()=>{const r=wg();r&&Q(Ub,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;Q(Ub,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",$b(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=t0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&re(47125,{Pc:$b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $b(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gl extends Op{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Bb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bb(e),this._firestoreClient=void 0,await e}}}function cq(t,e){const n=typeof t=="object"?t:g_(),r=typeof t=="string"?t:mf,s=_p(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=BR("firestore");i&&lq(s,...i)}return s}function Lp(t){if(t._terminated)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uq(t),t._firestoreClient}function uq(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new D7(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fn(Nt.fromBase64String(e))}catch(n){throw new G(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,fn._jsonSchema))return fn.fromBase64String(e.bytes)}}fn._jsonSchemaVersion="firestore/bytes/1.0",fn._jsonSchema={type:ht("string",fn._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:ht("string",Cr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ar(e.vectorValues);throw new G(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:ht("string",Ar._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=/^__.*__$/;class hq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class fD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class Vp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pD(this.Ac)&&dq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kp(e)}Cc(e,n,r,s=!1){return new Vp({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(t){const e=t._freezeSettings(),n=kp(t._databaseId);return new fq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mD(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);u0("Data must be an object, but it was:",o,r);const a=wD(r,o);let l,c;if(i.merge)l=new gn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=vv(e,h,n);if(!o.contains(p))throw new G(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);xD(d,p)||d.push(p)}l=new gn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new hq(new Qt(a),l,c)}class Fp extends yl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fp}}function gD(t,e,n){return new Vp({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class a0 extends yl{_toFieldTransform(e){return new B_(e.path,new au)}isEqual(e){return e instanceof a0}}class l0 extends yl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gD(this,e,!0),r=this.vc.map(i=>Io(i,n)),s=new Ka(r);return new B_(e.path,s)}isEqual(e){return e instanceof l0&&as(this.vc,e.vc)}}class c0 extends yl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gD(this,e,!0),r=this.vc.map(i=>Io(i,n)),s=new Qa(r);return new B_(e.path,s)}isEqual(e){return e instanceof c0&&as(this.vc,e.vc)}}function yD(t,e,n,r){const s=t.Cc(1,e,n);u0("Data must be an object, but it was:",s,r);const i=[],o=Qt.empty();Ti(r,(l,c)=>{const d=d0(e,l,n);c=Ge(c);const h=s.yc(d);if(c instanceof Fp)i.push(d);else{const p=Io(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new gn(i);return new fD(o,a,s.fieldTransforms)}function vD(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[vv(e,r,n)],l=[s];if(i.length%2!=0)throw new G(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(vv(e,i[p])),l.push(i[p+1]);const c=[],d=Qt.empty();for(let p=a.length-1;p>=0;--p)if(!xD(c,a[p])){const y=a[p];let E=l[p];E=Ge(E);const w=o.yc(y);if(E instanceof Fp)c.push(y);else{const x=Io(E,w);x!=null&&(c.push(y),d.set(y,x))}}const h=new gn(c);return new fD(d,h,o.fieldTransforms)}function pq(t,e,n,r=!1){return Io(n,t.Cc(r?4:3,e))}function Io(t,e){if(_D(t=Ge(t)))return u0("Unsupported field value:",e,t),wD(t,e);if(t instanceof yl)return function(r,s){if(!pD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Io(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fe.fromDate(r);return{timestampValue:wf(s.serializer,i)}}if(r instanceof Fe){const i=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(s.serializer,i)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fn)return{bytesValue:Dk(s.serializer,r._byteString)};if(r instanceof at){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:W_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ar)return function(o,a){return{mapValue:{fields:{[ok]:{stringValue:ak},[gf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return U_(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Sp(r)}`)}(t,e)}function wD(t,e){const n={};return ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(r,s)=>{const i=Io(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function _D(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Cr||t instanceof fn||t instanceof at||t instanceof yl||t instanceof Ar)}function u0(t,e,n){if(!_D(n)||!JN(n)){const r=Sp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vv(t,e,n){if((e=Ge(e))instanceof Bu)return e._internalPath;if(typeof e=="string")return d0(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const mq=new RegExp("[~\\*/\\[\\]]");function d0(t,e,n){if(e.search(mq)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bu(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new G(B.INVALID_ARGUMENT,a+t+l)}function xD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Up("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gq extends Cf{data(){return super.data()}}function Up(t,e){return typeof e=="string"?d0(t,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class ED extends h0{}function $u(t,e,...n){let r=[];e instanceof h0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof f0).length,a=i.filter(l=>l instanceof Bp).length;if(o>1||o>0&&a>0)throw new G(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bp extends ED{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bp(e,n,r)}_apply(e){const n=this._parse(e);return TD(e._query,n),new Co(e.firestore,e.converter,lv(e._query,n))}_parse(e){const n=jp(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Hb(h,d);const E=[];for(const w of h)E.push(zb(l,i,w));p={arrayValue:{values:E}}}else p=zb(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Hb(h,d),p=pq(a,o,h,d==="in"||d==="not-in");return dt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $p(t,e,n){const r=e,s=Up("where",t);return Bp._create(s,r,n)}class f0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)TD(o,l),o=lv(o,l)}(e._query,n),new Co(e.firestore,e.converter,lv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p0 extends ED{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new G(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(i,o)}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new pl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function zu(t,e="asc"){const n=e,r=Up("orderBy",t);return p0._create(r,n)}function zb(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new G(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mk(e)&&n.indexOf("/")!==-1)throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!te.isDocumentKey(r))throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ob(t,new te(r))}if(n instanceof at)return ob(t,n._key);throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(n)}.`)}function Hb(t,e){if(!Array.isArray(t)||t.length===0)throw new G(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TD(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SD{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[gf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>it(o.doubleValue));return new Ar(n)}convertGeoPoint(e){return new Cr(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=hi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Te(Uk(r),9688,{name:e});const s=new su(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class vq extends SD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ii extends Cf{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Up("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ii._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ii._jsonSchemaVersion="firestore/documentSnapshot/1.0",ii._jsonSchema={type:ht("string",ii._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Eh extends ii{data(e={}){return super.data(e)}}class Ta{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ia(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:wq(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=D_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){t=ds(t,at);const e=ds(t.firestore,gl);return oq(Lp(e),t._key).then(n=>Eq(e,t,n))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:ht("string",Ta._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class m0 extends SD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function Hu(t){t=ds(t,Co);const e=ds(t.firestore,gl),n=Lp(e),r=new m0(e);return yq(t._query),aq(n,t._query).then(s=>new Ta(e,r,t,s))}function Wb(t,e,n,...r){t=ds(t,at);const s=ds(t.firestore,gl),i=jp(s);let o;return o=typeof(e=Ge(e))=="string"||e instanceof Bu?vD(i,"updateDoc",t._key,e,n,r):yD(i,"updateDoc",t._key,e),CD(s,[o.toMutation(t._key,Yt.exists(!0))])}function xq(t,e){const n=ds(t.firestore,gl),r=Sf(t),s=bD(t.converter,e);return CD(n,[mD(jp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function CD(t,e){return function(r,s){const i=new Sr;return r.asyncQueue.enqueueAndForget(async()=>WW(await sq(r),s,i)),i.promise}(Lp(t),e)}function Eq(t,e,n){const r=n.docs.get(e._key),s=new m0(t);return new ii(t,s,e._key,r,new ia(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq={maxAttempts:5};function nc(t,e){if((t=Ge(t)).firestore!==e)throw new G(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=jp(e)}get(e){const n=nc(e,this._firestore),r=new vq(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return re(24041);const i=s[0];if(i.isFoundDocument())return new Cf(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cf(this._firestore,r,n._key,null,n.converter);throw re(18433,{doc:i})})}set(e,n,r){const s=nc(e,this._firestore),i=bD(s.converter,n,r),o=mD(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,n,r,...s){const i=nc(e,this._firestore);let o;return o=typeof(n=Ge(n))=="string"||n instanceof Bu?vD(this._dataReader,"Transaction.update",i._key,n,r,s):yD(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=nc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq extends Sq{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=nc(e,this._firestore),r=new m0(this._firestore);return super.get(e).then(s=>new ii(this._firestore,r,n._key,s._document,new ia(!1,!1),n.converter))}}function Cq(t,e,n){t=ds(t,gl);const r={...Tq,...n};return function(i){if(i.maxAttempts<1)throw new G(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Sr;return i.asyncQueue.enqueueAndForget(async()=>{const c=await iq(i);new tq(i.asyncQueue,c,a,o,l).ju()}),l.promise}(Lp(t),s=>e(new bq(t,s)),r)}function AD(){return new a0("serverTimestamp")}function Aq(...t){return new l0("arrayUnion",t)}function Iq(...t){return new c0("arrayRemove",t)}(function(e,n=!0){(function(s){dl=s})(To),uo(new ui("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gl(new p7(r.getProvider("auth-internal")),new y7(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Er(GS,KS,e),Er(GS,KS,"esm2020")})();const Yr={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0};console.log("--- DEBUG FIREBASE CONFIG ---");console.log("Raw Env API Key:",void 0);console.log("Config API Key:",Yr.apiKey);console.log("Project ID:",Yr.projectId);console.log("-----------------------------");Yr.apiKey?console.log("[Firebase Config] API Key present."):(console.error("[Firebase Config Error] VITE_FIREBASE_API_KEY is missing in .env file."),Yr.apiKey="PLACEHOLDER_API_KEY_FOR_DEV");Yr.projectId?console.log(`[Firebase Config] Project ID: ${Yr.projectId}`):(console.error("[Firebase Config Error] VITE_FIREBASE_PROJECT_ID is missing in .env file."),Yr.projectId="placeholder-project-id",Yr.authDomain="placeholder.firebaseapp.com");const g0=GR(Yr),y0=u7(g0),Ir=cq(g0),Pq=az(g0),Rq=new Wr;async function Nq(){try{return(await w8(y0,Rq)).user}catch(t){throw console.error("Google sign-in error:",t),t}}async function kq(){try{await Zz(y0)}catch(t){throw console.error("Sign out error:",t),t}}function Dq(t){return Jz(y0,t)}async function Mq(t){try{return(await xq(Ao(Ir,"listings"),{...t,createdAt:AD()})).id}catch(e){throw console.error("Error adding listing:",e),e}}async function Oq(t){try{let e;t||(e=$u(Ao(Ir,"listings"),zu("createdAt","desc")));const n=await Hu(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){throw console.error("Error getting listings:",e),e}}async function Lq(t){try{const e=$u(Ao(Ir,"listings"),$p("userId","==",t),zu("createdAt","desc")),n=await Hu(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){throw console.error("Error getting user listings:",e),e}}async function Vq(t,e){try{const n=Sf(Ir,"listings",t),r=await _q(n);r.exists()&&((r.data().likes||[]).includes(e)?await Wb(n,{likes:Iq(e)}):await Wb(n,{likes:Aq(e)}))}catch(n){throw console.error("Error toggling like:",n),n}}async function jq(t){try{await Cq(Ir,async e=>{const n=Sf(Ao(Ir,"reviews"));e.set(n,{...t,createdAt:AD()});const r=Sf(Ir,"listings",t.listingId),s=await e.get(r);if(!s.exists())throw new Error("Listing does not exist!");const i=s.data(),o=i.reviews||0,a=i.rating||0,l=o+1,c=(a*o+t.rating)/l;e.update(r,{reviews:l,rating:c})})}catch(e){throw console.error("Error adding review:",e),e}}async function Fq(t){try{const e=$u(Ao(Ir,"reviews"),$p("listingId","==",t),zu("createdAt","desc")),n=await Hu(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){return console.error("Error getting reviews:",e),[]}}async function Uq(t){try{const e=$u(Ao(Ir,"listings"),$p("likes","array-contains",t),zu("createdAt","desc")),n=await Hu(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){throw console.error("Error getting liked listings:",e),e}}async function Bq(t){try{const e=$u(Ao(Ir,"reviews"),$p("userId","==",t),zu("createdAt","desc")),n=await Hu(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){return console.error("Error getting user reviews:",e),[]}}const ID=m.createContext(void 0);function $q({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>{const a=Dq(l=>{n(l),s(!1)});return()=>a()},[]);const i=m.useCallback(async()=>{s(!0);try{await Nq()}catch(a){throw console.error("Login failed:",a),a}finally{s(!1)}},[]),o=m.useCallback(async()=>{try{await kq()}catch(a){throw console.error("Logout failed:",a),a}},[]);return f.jsx(ID.Provider,{value:{user:e,isLoading:r,loginWithGoogle:i,logout:o,isAuthenticated:!!e},children:t})}function Po(){const t=m.useContext(ID);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var zq=Symbol.for("react.lazy"),Af=Hf[" use ".trim().toString()];function Hq(t){return typeof t=="object"&&t!==null&&"then"in t}function PD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===zq&&"_payload"in t&&Hq(t._payload)}function v0(t){const e=qq(t),n=m.forwardRef((r,s)=>{let{children:i,...o}=r;PD(i)&&typeof Af=="function"&&(i=Af(i._payload));const a=m.Children.toArray(i),l=a.find(Kq);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Wq=v0("Slot");function qq(t){const e=m.forwardRef((n,r)=>{let{children:s,...i}=n;if(PD(s)&&typeof Af=="function"&&(s=Af(s._payload)),m.isValidElement(s)){const o=Yq(s),a=Qq(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gq=Symbol("radix.slottable");function Kq(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gq}function Qq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Yq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Xq=hp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),de=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Wq:"button";return f.jsx(o,{className:le(Xq({variant:e,size:n,className:t})),ref:i,...s})});de.displayName="Button";function Jq(){const[t,e]=m.useState("light");m.useEffect(()=>{const r=localStorage.getItem("theme");r?(e(r),document.documentElement.classList.toggle("dark",r==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(e("dark"),document.documentElement.classList.add("dark"))},[]);const n=()=>{const r=t==="light"?"dark":"light";e(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")};return f.jsx(de,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:t==="light"?f.jsx(NU,{className:"h-5 w-5"}):f.jsx(UU,{className:"h-5 w-5"})})}const qb={en:{browse:"Browse",mapView:"Map View",community:"Community",emergency:"Emergency",postAd:"Post Ad",profile:"Profile",signOut:"Sign Out",heroTitle:"Everything a Student Needs,",heroTitleHighlight:"In One Place.",heroSubtitle:"The ultimate platform for university life. Find boarding, food, transport, and academic resourcesall connected to your campus.",searchPlaceholder:"What are you looking for?",searchButton:"Search",trending:"Trending:",postAdTitle:"Post a New Ad",postAdDescription:"Share your listing with the university community",labelTitle:"Title",labelCategory:"Category",labelPriceType:"Price Type",labelPrice:"Price (Rs.)",labelLocation:"Location",labelDistance:"Distance to Gate",labelPhone:"Contact Phone",labelDescription:"Description",labelImage:"Image URL (optional)",buttonCancel:"Cancel",buttonPost:"Post Ad",verified:"Verified",quickContact:"Quick Contact",viewDetails:"View Details",mapTitle:"Map View",mapDescription:"Explore services near your campus location",communityTitle:"Community",communityDescription:"Connect with fellow students and share campus tips",sharePlaceholder:"Share something with the community...",share:"Share",emergencyTitle:"Emergency Contacts",emergencyDescription:"Quick access to essential emergency services near campus",tapToCall:"Tap to Call",emergencyNote:"In case of a life-threatening emergency, always call 119 (Police) or 110 (Ambulance) first.",allListings:"All Listings",listingsFound:"listings found",resultsFor:"Results for",loadingListings:"Loading listings...",viewList:"List",viewMap:"Map",catAll:"All",catBoarding:"Boarding",catFood:"Food",catTransport:"Transport",catMarket:"Market",catJobs:"Jobs",catLaundry:"Laundry",welcomeTitle:"Welcome to UniHub",welcomeDescription:"Join your campus community to post ads, find resources, and connect.",continueGoogle:"Continue with Google",secureAuth:"Secure Authentication",terms:"Terms of Service",privacy:"Privacy Policy",agreeText:"By continuing, you agree to our",and:"and",selectLanguage:"Select Your Language",welcome:"Welcome"},si:{browse:"",mapView:" ",community:"",emergency:" ",postAd:"  ",profile:"",signOut:" ",heroTitle:"  ,",heroTitleHighlight:" .",heroSubtitle:"    . , ,      .",searchPlaceholder:"  ?",searchButton:"",trending:":",postAdTitle:"   ",postAdDescription:"      ",labelTitle:"",labelCategory:"",labelPriceType:" ",labelPrice:" (.)",labelLocation:"",labelDistance:"  ",labelPhone:" ",labelDescription:"",labelImage:" URL ()",buttonCancel:" ",buttonPost:" ",verified:"  ",quickContact:" ",viewDetails:" ",mapTitle:" ",mapDescription:"     ",communityTitle:"",communityDescription:"        ",sharePlaceholder:"    ...",share:"",emergencyTitle:" ",emergencyDescription:"     ",tapToCall:" ",emergencyNote:"    ,    119 ()  110 ( ) .",allListings:" ",listingsFound:" ",resultsFor:" ",loadingListings:"  ...",viewList:"",viewMap:"",catAll:"",catBoarding:"",catFood:"",catTransport:"",catMarket:"",catJobs:"",catLaundry:" ",welcomeTitle:"UniHub   ",welcomeDescription:"       .",continueGoogle:"Google   ",secureAuth:" ",terms:" ",privacy:" ",agreeText:" ,  ",and:"",selectLanguage:"  ",welcome:""},ta:{browse:"",mapView:"",community:"",emergency:"",postAd:" ",profile:"",signOut:"",heroTitle:"  ,",heroTitleHighlight:" .",heroSubtitle:"   . , ,     .",searchPlaceholder:"  ?",searchButton:"",trending:":",postAdTitle:"  ",postAdDescription:"    ",labelTitle:"",labelCategory:"",labelPriceType:" ",labelPrice:" (.)",labelLocation:"",labelDistance:" ",labelPhone:" ",labelDescription:"",labelImage:" URL ( )",buttonCancel:"",buttonPost:"",verified:"",quickContact:" ",viewDetails:" ",mapTitle:"",mapDescription:"    ",communityTitle:"",communityDescription:"     ",sharePlaceholder:"  ...",share:"",emergencyTitle:" ",emergencyDescription:"      ",tapToCall:" ",emergencyNote:"   ,   119 ()  110 () .",allListings:" ",listingsFound:" ",resultsFor:"",loadingListings:" ...",viewList:"",viewMap:"",catAll:"",catBoarding:"",catFood:"",catTransport:"",catMarket:"",catJobs:"",catLaundry:"",welcomeTitle:"UniHub  ",welcomeDescription:"    .",continueGoogle:"Google  ",secureAuth:" ",terms:" ",privacy:" ",agreeText:" ,  ",and:"",selectLanguage:"  ",welcome:""}},RD=m.createContext(void 0);function Zq({children:t}){const[e,n]=m.useState("en"),[r,s]=m.useState(!1);m.useEffect(()=>{const a=localStorage.getItem("app-language");a&&["en","si","ta"].includes(a)&&(n(a),s(!0))},[]);const i=a=>{n(a),s(!0),localStorage.setItem("app-language",a),document.documentElement.lang=a},o=a=>qb[e][a]||qb.en[a]||a;return f.jsx(RD.Provider,{value:{language:e,setLanguage:i,t:o,hasSelectedLanguage:r},children:t})}function bn(){const t=m.useContext(RD);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}var eG=m.createContext(void 0);function Wu(t){const e=m.useContext(eG);return t||e||"ltr"}var xg=0;function w0(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Gb()),document.body.insertAdjacentElement("beforeend",t[1]??Gb()),xg++,()=>{xg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xg--}},[])}function Gb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Eg="focusScope.autoFocusOnMount",Tg="focusScope.autoFocusOnUnmount",Kb={bubbles:!1,cancelable:!0},tG="FocusScope",zp=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=et(s),d=et(i),h=m.useRef(null),p=ge(e,w=>l(w)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(S){if(y.paused||!a)return;const A=S.target;a.contains(A)?h.current=A:As(h.current,{select:!0})},x=function(S){if(y.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||As(h.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const P of S)P.removedNodes.length>0&&As(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,y.paused]),m.useEffect(()=>{if(a){Yb.add(y);const w=document.activeElement;if(!a.contains(w)){const v=new CustomEvent(Eg,Kb);a.addEventListener(Eg,c),a.dispatchEvent(v),v.defaultPrevented||(nG(aG(ND(a)),{select:!0}),document.activeElement===w&&As(a))}return()=>{a.removeEventListener(Eg,c),setTimeout(()=>{const v=new CustomEvent(Tg,Kb);a.addEventListener(Tg,d),a.dispatchEvent(v),v.defaultPrevented||As(w??document.body,{select:!0}),a.removeEventListener(Tg,d),Yb.remove(y)},0)}}},[a,c,d,y]);const E=m.useCallback(w=>{if(!n&&!r||y.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(x&&v){const _=w.currentTarget,[S,A]=rG(_);S&&A?!w.shiftKey&&v===A?(w.preventDefault(),n&&As(S,{select:!0})):w.shiftKey&&v===S&&(w.preventDefault(),n&&As(A,{select:!0})):v===_&&w.preventDefault()}},[n,r,y.paused]);return f.jsx(ie.div,{tabIndex:-1,...o,ref:p,onKeyDown:E})});zp.displayName=tG;function nG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(As(r,{select:e}),document.activeElement!==n)return}function rG(t){const e=ND(t),n=Qb(e,t),r=Qb(e.reverse(),t);return[n,r]}function ND(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qb(t,e){for(const n of t)if(!sG(n,{upTo:e}))return n}function sG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iG(t){return t instanceof HTMLInputElement&&"select"in t}function As(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iG(t)&&e&&t.select()}}var Yb=oG();function oG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xb(t,e),t.unshift(e)},remove(e){var n;t=Xb(t,e),(n=t[0])==null||n.resume()}}}function Xb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aG(t){return t.filter(e=>e.tagName!=="A")}var Sg="rovingFocusGroup.onEntryFocus",lG={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[wv,kD,cG]=cp(qu),[uG,Hp]=nr(qu,[cG]),[dG,hG]=uG(qu),DD=m.forwardRef((t,e)=>f.jsx(wv.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(wv.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(fG,{...t,ref:e})})}));DD.displayName=qu;var fG=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=m.useRef(null),y=ge(e,p),E=Wu(i),[w,x]=lo({prop:o,defaultProp:a??null,onChange:l,caller:qu}),[v,_]=m.useState(!1),S=et(c),A=kD(n),P=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(Sg,S),()=>b.removeEventListener(Sg,S)},[S]),f.jsx(dG,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:w,onItemFocus:m.useCallback(b=>x(b),[x]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:m.useCallback(()=>C(b=>b-1),[]),children:f.jsx(ie.div,{tabIndex:v||O===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:W(t.onMouseDown,()=>{P.current=!0}),onFocus:W(t.onFocus,b=>{const I=!P.current;if(b.target===b.currentTarget&&I&&!v){const N=new CustomEvent(Sg,lG);if(b.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=A().filter(X=>X.focusable),M=k.find(X=>X.active),D=k.find(X=>X.id===w),ne=[M,D,...k].filter(Boolean).map(X=>X.ref.current);LD(ne,d)}}P.current=!1}),onBlur:W(t.onBlur,()=>_(!1))})})}),MD="RovingFocusGroupItem",OD=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=_r(),c=i||l,d=hG(MD,n),h=d.currentTabStopId===c,p=kD(n),{onFocusableItemAdd:y,onFocusableItemRemove:E,currentTabStopId:w}=d;return m.useEffect(()=>{if(r)return y(),()=>E()},[r,y,E]),f.jsx(wv.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:f.jsx(ie.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:W(t.onMouseDown,x=>{r?d.onItemFocus(c):x.preventDefault()}),onFocus:W(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:W(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=gG(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(A=>A.focusable).map(A=>A.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const A=S.indexOf(x.currentTarget);S=d.loop?yG(S,A+1):S.slice(A+1)}setTimeout(()=>LD(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});OD.displayName=MD;var pG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gG(t,e,n){const r=mG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pG[r]}function LD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VD=DD,jD=OD;function vG(t){const e=wG(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(xG);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function wG(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=TG(s),a=EG(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _G=Symbol("radix.slottable");function xG(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_G}function EG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jo=new WeakMap,Hd=new WeakMap,Wd={},bg=0,FD=function(t){return t&&(t.host||FD(t.parentNode))},bG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},CG=function(t,e,n,r){var s=bG(e,Array.isArray(t)?t:[t]);Wd[n]||(Wd[n]=new WeakMap);var i=Wd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var y=p.getAttribute(r),E=y!==null&&y!=="false",w=(jo.get(p)||0)+1,x=(i.get(p)||0)+1;jo.set(p,w),i.set(p,x),o.push(p),w===1&&E&&Hd.set(p,!0),x===1&&p.setAttribute(n,"true"),E||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),bg++,function(){o.forEach(function(h){var p=jo.get(h)-1,y=i.get(h)-1;jo.set(h,p),i.set(h,y),p||(Hd.has(h)||h.removeAttribute(r),Hd.delete(h)),y||h.removeAttribute(n)}),bg--,bg||(jo=new WeakMap,jo=new WeakMap,Hd=new WeakMap,Wd={})}},_0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=SG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),CG(r,s,n,"aria-hidden")):function(){return null}},pr=function(){return pr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pr.apply(this,arguments)};function UD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AG(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Th="right-scroll-bar-position",Sh="width-before-scroll-bar",IG="with-scroll-bars-hidden",PG="--removed-body-scroll-bar-size";function Cg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function RG(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var NG=typeof window<"u"?m.useLayoutEffect:m.useEffect,Jb=new WeakMap;function kG(t,e){var n=RG(null,function(r){return t.forEach(function(s){return Cg(s,r)})});return NG(function(){var r=Jb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Cg(a,null)}),i.forEach(function(a){s.has(a)||Cg(a,o)})}Jb.set(n,t)},[t]),n}function DG(t){return t}function MG(t,e){e===void 0&&(e=DG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function OG(t){t===void 0&&(t={});var e=MG(null);return e.options=pr({async:!0,ssr:!1},t),e}var BD=function(t){var e=t.sideCar,n=UD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,pr({},n))};BD.isSideCarExport=!0;function LG(t,e){return t.useMedium(e),BD}var $D=OG(),Ag=function(){},Wp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Ag,onWheelCapture:Ag,onTouchMoveCapture:Ag}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,y=t.noRelative,E=t.noIsolation,w=t.inert,x=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,S=t.gapMode,A=UD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=kG([n,e]),C=pr(pr({},A),s);return m.createElement(m.Fragment,null,d&&m.createElement(P,{sideCar:$D,removeScrollBar:c,shards:h,noRelative:y,noIsolation:E,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?m.cloneElement(m.Children.only(a),pr(pr({},C),{ref:O})):m.createElement(_,pr({},C,{className:l,ref:O}),a))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:Sh,zeroRight:Th};var VG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=VG();return e&&t.setAttribute("nonce",e),t}function FG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function UG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jG())&&(FG(e,n),UG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$G=function(){var t=BG();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zD=function(){var t=$G(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zG={left:0,top:0,right:0,gap:0},Ig=function(t){return parseInt(t||"",10)||0},HG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ig(n),Ig(r),Ig(s)]},WG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zG;var e=HG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qG=zD(),Sa="data-scroll-locked",GG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Th,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sa,`] {
    `).concat(PG,": ").concat(a,`px;
  }
`)},Zb=function(){var t=parseInt(document.body.getAttribute(Sa)||"0",10);return isFinite(t)?t:0},KG=function(){m.useEffect(function(){return document.body.setAttribute(Sa,(Zb()+1).toString()),function(){var t=Zb()-1;t<=0?document.body.removeAttribute(Sa):document.body.setAttribute(Sa,t.toString())}},[])},QG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;KG();var i=m.useMemo(function(){return WG(s)},[s]);return m.createElement(qG,{styles:GG(i,!e,s,n?"":"!important")})},_v=!1;if(typeof window<"u")try{var qd=Object.defineProperty({},"passive",{get:function(){return _v=!0,!0}});window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{_v=!1}var Fo=_v?{passive:!1}:!1,YG=function(t){return t.tagName==="TEXTAREA"},HD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YG(t)&&n[e]==="visible")},XG=function(t){return HD(t,"overflowY")},JG=function(t){return HD(t,"overflowX")},e1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=WD(t,r);if(s){var i=qD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},WD=function(t,e){return t==="v"?XG(e):JG(e)},qD=function(t,e){return t==="v"?ZG(e):eK(e)},tK=function(t,e){return t==="h"&&e==="rtl"?-1:1},nK=function(t,e,n,r,s){var i=tK(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var y=qD(t,a),E=y[0],w=y[1],x=y[2],v=w-x-i*E;(E||v)&&WD(t,a)&&(h+=v,p+=E);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Gd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t1=function(t){return[t.deltaX,t.deltaY]},n1=function(t){return t&&"current"in t?t.current:t},rK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iK=0,Uo=[];function oK(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(iK++)[0],i=m.useState(zD)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=AG([t.lockRef.current],(t.shards||[]).map(n1),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var v=Gd(w),_=n.current,S="deltaX"in w?w.deltaX:_[0]-v[0],A="deltaY"in w?w.deltaY:_[1]-v[1],P,O=w.target,C=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in w&&C==="h"&&O.type==="range")return!1;var b=window.getSelection(),I=b&&b.anchorNode,N=I?I===O||I.contains(O):!1;if(N)return!1;var k=e1(C,O);if(!k)return!0;if(k?P=C:(P=C==="v"?"h":"v",k=e1(C,O)),!k)return!1;if(!r.current&&"changedTouches"in w&&(S||A)&&(r.current=P),!P)return!0;var M=r.current||P;return nK(M,x,w,M==="h"?S:A)},[]),l=m.useCallback(function(w){var x=w;if(!(!Uo.length||Uo[Uo.length-1]!==i)){var v="deltaY"in x?t1(x):Gd(x),_=e.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&rK(P.delta,v)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(n1).filter(Boolean).filter(function(P){return P.contains(x.target)}),A=S.length>0?a(x,S[0]):!o.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(w,x,v,_){var S={name:w,delta:x,target:v,should:_,shadowParent:aK(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=m.useCallback(function(w){n.current=Gd(w),r.current=void 0},[]),h=m.useCallback(function(w){c(w.type,t1(w),w.target,a(w,t.lockRef.current))},[]),p=m.useCallback(function(w){c(w.type,Gd(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return Uo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Fo),document.addEventListener("touchmove",l,Fo),document.addEventListener("touchstart",d,Fo),function(){Uo=Uo.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Fo),document.removeEventListener("touchmove",l,Fo),document.removeEventListener("touchstart",d,Fo)}},[]);var y=t.removeScrollBar,E=t.inert;return m.createElement(m.Fragment,null,E?m.createElement(i,{styles:sK(s)}):null,y?m.createElement(QG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lK=LG($D,oK);var qp=m.forwardRef(function(t,e){return m.createElement(Wp,pr({},t,{ref:e,sideCar:lK}))});qp.classNames=Wp.classNames;var xv=["Enter"," "],cK=["ArrowDown","PageUp","Home"],GD=["ArrowUp","PageDown","End"],uK=[...cK,...GD],dK={ltr:[...xv,"ArrowRight"],rtl:[...xv,"ArrowLeft"]},hK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gu="Menu",[lu,fK,pK]=cp(Gu),[Ro,KD]=nr(Gu,[pK,cl,Hp]),Gp=cl(),QD=Hp(),[mK,No]=Ro(Gu),[gK,Ku]=Ro(Gu),YD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Gp(e),[l,c]=m.useState(null),d=m.useRef(!1),h=et(i),p=Wu(s);return m.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),f.jsx(IR,{...a,children:f.jsx(mK,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(gK,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};YD.displayName=Gu;var yK="MenuAnchor",x0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Gp(n);return f.jsx(l_,{...s,...r,ref:e})});x0.displayName=yK;var E0="MenuPortal",[vK,XD]=Ro(E0,{forceMount:void 0}),JD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=No(E0,e);return f.jsx(vK,{scope:e,forceMount:n,children:f.jsx(en,{present:n||i.open,children:f.jsx(Au,{asChild:!0,container:s,children:r})})})};JD.displayName=E0;var Mn="MenuContent",[wK,T0]=Ro(Mn),ZD=m.forwardRef((t,e)=>{const n=XD(Mn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=No(Mn,t.__scopeMenu),o=Ku(Mn,t.__scopeMenu);return f.jsx(lu.Provider,{scope:t.__scopeMenu,children:f.jsx(en,{present:r||i.open,children:f.jsx(lu.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(_K,{...s,ref:e}):f.jsx(xK,{...s,ref:e})})})})}),_K=m.forwardRef((t,e)=>{const n=No(Mn,t.__scopeMenu),r=m.useRef(null),s=ge(e,r);return m.useEffect(()=>{const i=r.current;if(i)return _0(i)},[]),f.jsx(S0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:W(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xK=m.forwardRef((t,e)=>{const n=No(Mn,t.__scopeMenu);return f.jsx(S0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EK=vG("MenuContent.ScrollLock"),S0=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:y,disableOutsideScroll:E,...w}=t,x=No(Mn,n),v=Ku(Mn,n),_=Gp(n),S=QD(n),A=fK(n),[P,O]=m.useState(null),C=m.useRef(null),b=ge(e,C,x.onContentChange),I=m.useRef(0),N=m.useRef(""),k=m.useRef(0),M=m.useRef(null),D=m.useRef("right"),z=m.useRef(0),ne=E?qp:m.Fragment,X=E?{as:EK,allowPinchZoom:!0}:void 0,J=F=>{var Z,be;const K=N.current+F,ee=A().filter(Pe=>!Pe.disabled),pe=document.activeElement,Qe=(Z=ee.find(Pe=>Pe.ref.current===pe))==null?void 0:Z.textValue,Ne=ee.map(Pe=>Pe.textValue),Tt=MK(Ne,K,Qe),Oe=(be=ee.find(Pe=>Pe.textValue===Tt))==null?void 0:be.ref.current;(function Pe(Ce){N.current=Ce,window.clearTimeout(I.current),Ce!==""&&(I.current=window.setTimeout(()=>Pe(""),1e3))})(K),Oe&&setTimeout(()=>Oe.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),w0();const V=m.useCallback(F=>{var ee,pe;return D.current===((ee=M.current)==null?void 0:ee.side)&&LK(F,(pe=M.current)==null?void 0:pe.area)},[]);return f.jsx(wK,{scope:n,searchRef:N,onItemEnter:m.useCallback(F=>{V(F)&&F.preventDefault()},[V]),onItemLeave:m.useCallback(F=>{var K;V(F)||((K=C.current)==null||K.focus(),O(null))},[V]),onTriggerLeave:m.useCallback(F=>{V(F)&&F.preventDefault()},[V]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(F=>{M.current=F},[]),children:f.jsx(ne,{...X,children:f.jsx(zp,{asChild:!0,trapped:s,onMountAutoFocus:W(i,F=>{var K;F.preventDefault(),(K=C.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(il,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:y,children:f.jsx(VD,{asChild:!0,...S,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:W(l,F=>{v.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(c_,{role:"menu","aria-orientation":"vertical","data-state":m2(x.open),"data-radix-menu-content":"",dir:v.dir,..._,...w,ref:b,style:{outline:"none",...w.style},onKeyDown:W(w.onKeyDown,F=>{const ee=F.target.closest("[data-radix-menu-content]")===F.currentTarget,pe=F.ctrlKey||F.altKey||F.metaKey,Qe=F.key.length===1;ee&&(F.key==="Tab"&&F.preventDefault(),!pe&&Qe&&J(F.key));const Ne=C.current;if(F.target!==Ne||!uK.includes(F.key))return;F.preventDefault();const Oe=A().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);GD.includes(F.key)&&Oe.reverse(),kK(Oe)}),onBlur:W(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),N.current="")}),onPointerMove:W(t.onPointerMove,cu(F=>{const K=F.target,ee=z.current!==F.clientX;if(F.currentTarget.contains(K)&&ee){const pe=F.clientX>z.current?"right":"left";D.current=pe,z.current=F.clientX}}))})})})})})})});ZD.displayName=Mn;var TK="MenuGroup",b0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ie.div,{role:"group",...r,ref:e})});b0.displayName=TK;var SK="MenuLabel",e2=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ie.div,{...r,ref:e})});e2.displayName=SK;var If="MenuItem",r1="menu.itemSelect",Kp=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Ku(If,t.__scopeMenu),a=T0(If,t.__scopeMenu),l=ge(e,i),c=m.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(r1,{bubbles:!0,cancelable:!0});h.addEventListener(r1,y=>r==null?void 0:r(y),{once:!0}),Kw(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(t2,{...s,ref:l,disabled:n,onClick:W(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:W(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:W(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||xv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Kp.displayName=If;var t2=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=T0(If,n),a=QD(n),l=m.useRef(null),c=ge(e,l),[d,h]=m.useState(!1),[p,y]=m.useState("");return m.useEffect(()=>{const E=l.current;E&&y((E.textContent??"").trim())},[i.children]),f.jsx(lu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(jD,{asChild:!0,...a,focusable:!r,children:f.jsx(ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:W(t.onPointerMove,cu(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:W(t.onPointerLeave,cu(E=>o.onItemLeave(E))),onFocus:W(t.onFocus,()=>h(!0)),onBlur:W(t.onBlur,()=>h(!1))})})})}),bK="MenuCheckboxItem",n2=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(a2,{scope:t.__scopeMenu,checked:n,children:f.jsx(Kp,{role:"menuitemcheckbox","aria-checked":Pf(n)?"mixed":n,...s,ref:e,"data-state":A0(n),onSelect:W(s.onSelect,()=>r==null?void 0:r(Pf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});n2.displayName=bK;var r2="MenuRadioGroup",[CK,AK]=Ro(r2,{value:void 0,onValueChange:()=>{}}),s2=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=et(r);return f.jsx(CK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(b0,{...s,ref:e})})});s2.displayName=r2;var i2="MenuRadioItem",o2=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=AK(i2,t.__scopeMenu),i=n===s.value;return f.jsx(a2,{scope:t.__scopeMenu,checked:i,children:f.jsx(Kp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":A0(i),onSelect:W(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});o2.displayName=i2;var C0="MenuItemIndicator",[a2,IK]=Ro(C0,{checked:!1}),l2=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=IK(C0,n);return f.jsx(en,{present:r||Pf(i.checked)||i.checked===!0,children:f.jsx(ie.span,{...s,ref:e,"data-state":A0(i.checked)})})});l2.displayName=C0;var PK="MenuSeparator",c2=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});c2.displayName=PK;var RK="MenuArrow",u2=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Gp(n);return f.jsx(u_,{...s,...r,ref:e})});u2.displayName=RK;var NK="MenuSub",[yne,d2]=Ro(NK),rc="MenuSubTrigger",h2=m.forwardRef((t,e)=>{const n=No(rc,t.__scopeMenu),r=Ku(rc,t.__scopeMenu),s=d2(rc,t.__scopeMenu),i=T0(rc,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(x0,{asChild:!0,...c,children:f.jsx(t2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":m2(n.open),...t,ref:ms(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:W(t.onPointerMove,cu(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:W(t.onPointerLeave,cu(h=>{var y,E;d();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(E=n.content)==null?void 0:E.dataset.side,x=w==="right",v=x?-5:5,_=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:_,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:_,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:W(t.onKeyDown,h=>{var y;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||dK[r.dir].includes(h.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),h.preventDefault())})})})});h2.displayName=rc;var f2="MenuSubContent",p2=m.forwardRef((t,e)=>{const n=XD(Mn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=No(Mn,t.__scopeMenu),o=Ku(Mn,t.__scopeMenu),a=d2(f2,t.__scopeMenu),l=m.useRef(null),c=ge(e,l);return f.jsx(lu.Provider,{scope:t.__scopeMenu,children:f.jsx(en,{present:r||i.open,children:f.jsx(lu.Slot,{scope:t.__scopeMenu,children:f.jsx(S0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:W(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:W(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:W(t.onKeyDown,d=>{var y;const h=d.currentTarget.contains(d.target),p=hK[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});p2.displayName=f2;function m2(t){return t?"open":"closed"}function Pf(t){return t==="indeterminate"}function A0(t){return Pf(t)?"indeterminate":t?"checked":"unchecked"}function kK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function DK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function MK(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=DK(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function OK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function LK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return OK(n,e)}function cu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VK=YD,jK=x0,FK=JD,UK=ZD,BK=b0,$K=e2,zK=Kp,HK=n2,WK=s2,qK=o2,GK=l2,KK=c2,QK=u2,YK=h2,XK=p2,Qp="DropdownMenu",[JK]=nr(Qp,[KD]),tn=KD(),[ZK,g2]=JK(Qp),y2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=tn(e),c=m.useRef(null),[d,h]=lo({prop:s,defaultProp:i??!1,onChange:o,caller:Qp});return f.jsx(ZK,{scope:e,triggerId:_r(),triggerRef:c,contentId:_r(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(VK,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};y2.displayName=Qp;var v2="DropdownMenuTrigger",w2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=g2(v2,n),o=tn(n);return f.jsx(jK,{asChild:!0,...o,children:f.jsx(ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ms(e,i.triggerRef),onPointerDown:W(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:W(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});w2.displayName=v2;var eQ="DropdownMenuPortal",_2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=tn(e);return f.jsx(FK,{...r,...n})};_2.displayName=eQ;var x2="DropdownMenuContent",E2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=g2(x2,n),i=tn(n),o=m.useRef(!1);return f.jsx(UK,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:W(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:W(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E2.displayName=x2;var tQ="DropdownMenuGroup",nQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(BK,{...s,...r,ref:e})});nQ.displayName=tQ;var rQ="DropdownMenuLabel",T2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx($K,{...s,...r,ref:e})});T2.displayName=rQ;var sQ="DropdownMenuItem",S2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(zK,{...s,...r,ref:e})});S2.displayName=sQ;var iQ="DropdownMenuCheckboxItem",b2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(HK,{...s,...r,ref:e})});b2.displayName=iQ;var oQ="DropdownMenuRadioGroup",aQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(WK,{...s,...r,ref:e})});aQ.displayName=oQ;var lQ="DropdownMenuRadioItem",C2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(qK,{...s,...r,ref:e})});C2.displayName=lQ;var cQ="DropdownMenuItemIndicator",A2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(GK,{...s,...r,ref:e})});A2.displayName=cQ;var uQ="DropdownMenuSeparator",I2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(KK,{...s,...r,ref:e})});I2.displayName=uQ;var dQ="DropdownMenuArrow",hQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(QK,{...s,...r,ref:e})});hQ.displayName=dQ;var fQ="DropdownMenuSubTrigger",P2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(YK,{...s,...r,ref:e})});P2.displayName=fQ;var pQ="DropdownMenuSubContent",R2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tn(n);return f.jsx(XK,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=pQ;var mQ=y2,gQ=w2,yQ=_2,N2=E2,k2=T2,D2=S2,M2=b2,O2=C2,L2=A2,V2=I2,j2=P2,F2=R2;const s1=mQ,i1=gQ,vQ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(j2,{ref:s,className:le("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,f.jsx(HP,{className:"ml-auto"})]}));vQ.displayName=j2.displayName;const wQ=m.forwardRef(({className:t,...e},n)=>f.jsx(F2,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));wQ.displayName=F2.displayName;const Ev=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(yQ,{children:f.jsx(N2,{ref:r,sideOffset:e,className:le("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Ev.displayName=N2.displayName;const Wo=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(D2,{ref:r,className:le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Wo.displayName=D2.displayName;const _Q=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(M2,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(L2,{children:f.jsx($P,{className:"h-4 w-4"})})}),e]}));_Q.displayName=M2.displayName;const xQ=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(O2,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(L2,{children:f.jsx(TU,{className:"h-2 w-2 fill-current"})})}),e]}));xQ.displayName=O2.displayName;const EQ=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(k2,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));EQ.displayName=k2.displayName;const Tv=m.forwardRef(({className:t,...e},n)=>f.jsx(V2,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));Tv.displayName=V2.displayName;function TQ(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o);a.displayName=i+"Context";const l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:y,...E}=h,w=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,x=m.useMemo(()=>E,Object.values(E));return f.jsx(w.Provider,{value:x,children:y})};c.displayName=i+"Provider";function d(h,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,E=m.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,SQ(s,...e)]}function SQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var bQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I0=bQ.reduce((t,e)=>{const n=v0(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CQ(){return ZI.useSyncExternalStore(AQ,()=>!0,()=>!1)}function AQ(){return()=>{}}var P0="Avatar",[IQ]=TQ(P0),[PQ,U2]=IQ(P0),B2=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return f.jsx(PQ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(I0.span,{...r,ref:e})})});B2.displayName=P0;var $2="AvatarImage",z2=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=U2($2,n),a=RQ(r,i),l=et(c=>{s(c),o.onImageLoadingStatusChange(c)});return lt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(I0.img,{...i,ref:e,src:r}):null});z2.displayName=$2;var H2="AvatarFallback",W2=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=U2(H2,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(I0.span,{...s,ref:e}):null});W2.displayName=H2;function o1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RQ(t,{referrerPolicy:e,crossOrigin:n}){const r=CQ(),s=m.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=m.useState(()=>o1(i,t));return lt(()=>{a(o1(i,t))},[i,t]),lt(()=>{const l=h=>()=>{a(h)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,n,e]),o}var q2=B2,G2=z2,K2=W2;const uu=m.forwardRef(({className:t,...e},n)=>f.jsx(q2,{ref:n,className:le(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));uu.displayName=q2.displayName;const R0=m.forwardRef(({className:t,...e},n)=>f.jsx(G2,{ref:n,className:le("aspect-square h-full w-full",t),...e}));R0.displayName=G2.displayName;const du=m.forwardRef(({className:t,...e},n)=>f.jsx(K2,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));du.displayName=K2.displayName;function NQ({onPostAdClick:t}){var E,w;const[e,n]=m.useState(!1),[r]=aP(),{user:s,logout:i,isAuthenticated:o,isLoading:a}=Po(),{t:l,setLanguage:c,language:d}=bn(),h=[{href:"/",label:l("browse"),icon:GP},{href:"/map",label:l("mapView"),icon:Xc},{href:"/community",label:l("community"),icon:YP},{href:"/emergency",label:l("emergency"),icon:BU}],p=x=>x==="/"?r==="/":r.startsWith(x),y=async()=>{try{await i()}catch(x){console.error("Logout error:",x)}};return f.jsx("nav",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[f.jsxs("div",{className:"flex items-center justify-between h-16 gap-4",children:[f.jsxs(Nd,{href:"/",className:"flex items-center gap-2","data-testid":"link-home",children:[f.jsx("div",{className:"bg-primary rounded-md p-1.5",children:f.jsx(Jw,{className:"h-5 w-5 text-primary-foreground"})}),f.jsx("span",{className:"font-bold text-xl",children:"UniHub"})]}),f.jsx("div",{className:"hidden md:flex items-center gap-1",children:h.map(x=>f.jsx(Nd,{href:x.href,children:f.jsxs(de,{variant:p(x.href)?"secondary":"ghost",className:"gap-2","data-testid":`link-nav-${x.label.toLowerCase().replace(" ","-")}`,children:[f.jsx(x.icon,{className:"h-4 w-4"}),x.label]})},x.href))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(s1,{children:[f.jsx(i1,{asChild:!0,children:f.jsx(de,{variant:"ghost",size:"icon",children:f.jsx(bU,{className:"h-5 w-5"})})}),f.jsxs(Ev,{align:"end",children:[f.jsx(Wo,{onClick:()=>c("en"),className:d==="en"?"bg-accent":"",children:"English"}),f.jsx(Wo,{onClick:()=>c("si"),className:d==="si"?"bg-accent":"",children:" (Sinhala)"}),f.jsx(Wo,{onClick:()=>c("ta"),className:d==="ta"?"bg-accent":"",children:" (Tamil)"})]})]}),f.jsx(Jq,{}),f.jsx(de,{onClick:t,className:"hidden sm:flex","data-testid":"button-post-ad",children:l("postAd")}),a?f.jsx(de,{variant:"ghost",size:"icon",disabled:!0,children:f.jsx(mr,{className:"h-5 w-5 animate-spin"})}):o&&s?f.jsxs(s1,{children:[f.jsx(i1,{asChild:!0,children:f.jsx(de,{variant:"ghost",size:"icon",className:"rounded-full","data-testid":"button-user-menu",children:f.jsxs(uu,{className:"h-8 w-8",children:[s.photoURL&&f.jsx(R0,{src:s.photoURL,alt:s.displayName||"User"}),f.jsx(du,{className:"bg-primary text-primary-foreground text-sm",children:((E=s.displayName)==null?void 0:E.charAt(0).toUpperCase())||((w=s.email)==null?void 0:w.charAt(0).toUpperCase())||"U"})]})})}),f.jsxs(Ev,{align:"end",className:"w-48",children:[f.jsxs("div",{className:"px-2 py-1.5",children:[f.jsx("p",{className:"text-sm font-medium",children:s.displayName||"User"}),f.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.email})]}),f.jsx(Tv,{}),f.jsx(Nd,{href:"/profile",children:f.jsx(Wo,{className:"cursor-pointer",children:l("profile")||"Profile"})}),f.jsx(Tv,{}),f.jsx(Wo,{onClick:y,"data-testid":"button-logout",children:l("signOut")})]})]}):null,f.jsx(de,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(!e),"data-testid":"button-mobile-menu",children:e?f.jsx(ss,{className:"h-5 w-5"}):f.jsx(RU,{className:"h-5 w-5"})})]})]}),e&&f.jsx("div",{className:"md:hidden py-4 border-t",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[h.map(x=>f.jsx(Nd,{href:x.href,onClick:()=>n(!1),children:f.jsxs(de,{variant:p(x.href)?"secondary":"ghost",className:"w-full justify-start gap-2","data-testid":`link-mobile-${x.label.toLowerCase().replace(" ","-")}`,children:[f.jsx(x.icon,{className:"h-4 w-4"}),x.label]})},x.href)),f.jsx(de,{onClick:()=>{n(!1),t()},className:"mt-2","data-testid":"button-post-ad-mobile",children:l("postAd")})]})})]})})}var Q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a1=Gt.createContext&&Gt.createContext(Q2),kQ=["attr","size","title"];function DQ(t,e){if(t==null)return{};var n=MQ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=VQ(t,"string");return typeof e=="symbol"?e:e+""}function VQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y2(t){return t&&t.map((e,n)=>Gt.createElement(e.tag,Nf({key:n},e.attr),Y2(e.child)))}function jQ(t){return e=>Gt.createElement(FQ,Rf({attr:Nf({},t.attr)},e),Y2(t.child))}function FQ(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=DQ(t,kQ),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Gt.createElement("svg",Rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Nf(Nf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Gt.createElement("title",null,i),t.children)};return a1!==void 0?Gt.createElement(a1.Consumer,null,n=>e(n)):e(Q2)}function UQ(t){return jQ({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function BQ(t){const e=$Q(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(HQ);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function $Q(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=qQ(s),a=WQ(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zQ=Symbol("radix.slottable");function HQ(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zQ}function WQ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yp="Dialog",[X2]=nr(Yp),[GQ,rr]=X2(Yp),J2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,d]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:Yp});return f.jsx(GQ,{scope:e,triggerRef:a,contentRef:l,contentId:_r(),titleId:_r(),descriptionId:_r(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};J2.displayName=Yp;var Z2="DialogTrigger",KQ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Z2,n),i=ge(e,s.triggerRef);return f.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":D0(s.open),...r,ref:i,onClick:W(t.onClick,s.onOpenToggle)})});KQ.displayName=Z2;var N0="DialogPortal",[QQ,eM]=X2(N0,{forceMount:void 0}),tM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rr(N0,e);return f.jsx(QQ,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(en,{present:n||i.open,children:f.jsx(Au,{asChild:!0,container:s,children:o})}))})};tM.displayName=N0;var kf="DialogOverlay",nM=m.forwardRef((t,e)=>{const n=eM(kf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(kf,t.__scopeDialog);return i.modal?f.jsx(en,{present:r||i.open,children:f.jsx(XQ,{...s,ref:e})}):null});nM.displayName=kf;var YQ=BQ("DialogOverlay.RemoveScroll"),XQ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(kf,n);return f.jsx(qp,{as:YQ,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(ie.div,{"data-state":D0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),go="DialogContent",rM=m.forwardRef((t,e)=>{const n=eM(go,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(go,t.__scopeDialog);return f.jsx(en,{present:r||i.open,children:i.modal?f.jsx(JQ,{...s,ref:e}):f.jsx(ZQ,{...s,ref:e})})});rM.displayName=go;var JQ=m.forwardRef((t,e)=>{const n=rr(go,t.__scopeDialog),r=m.useRef(null),s=ge(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return _0(i)},[]),f.jsx(sM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:W(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:W(t.onFocusOutside,i=>i.preventDefault())})}),ZQ=m.forwardRef((t,e)=>{const n=rr(go,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(sM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=rr(go,n),l=m.useRef(null),c=ge(e,l);return w0(),f.jsxs(f.Fragment,{children:[f.jsx(zp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(il,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":D0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(eY,{titleId:a.titleId}),f.jsx(nY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),k0="DialogTitle",iM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(k0,n);return f.jsx(ie.h2,{id:s.titleId,...r,ref:e})});iM.displayName=k0;var oM="DialogDescription",aM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(oM,n);return f.jsx(ie.p,{id:s.descriptionId,...r,ref:e})});aM.displayName=oM;var lM="DialogClose",cM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(lM,n);return f.jsx(ie.button,{type:"button",...r,ref:e,onClick:W(t.onClick,()=>s.onOpenChange(!1))})});cM.displayName=lM;function D0(t){return t?"open":"closed"}var uM="DialogTitleWarning",[vne,dM]=w3(uM,{contentName:go,titleName:k0,docsSlug:"dialog"}),eY=({titleId:t})=>{const e=dM(uM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},tY="DialogDescriptionWarning",nY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dM(tY).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rY=J2,sY=tM,hM=nM,fM=rM,pM=iM,mM=aM,iY=cM;const Xp=rY,oY=sY,gM=m.forwardRef(({className:t,...e},n)=>f.jsx(hM,{ref:n,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 grid place-items-center overflow-y-auto py-4",t),...e}));gM.displayName=hM.displayName;const Qu=m.forwardRef(({className:t,children:e,...n},r)=>f.jsx(oY,{children:f.jsx(gM,{children:f.jsxs(fM,{ref:r,className:le("relative z-50 grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",t),...n,children:[e,f.jsxs(iY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(ss,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})})}));Qu.displayName=fM.displayName;const yM=({className:t,...e})=>f.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yM.displayName="DialogHeader";const Jp=m.forwardRef(({className:t,...e},n)=>f.jsx(pM,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));Jp.displayName=pM.displayName;const M0=m.forwardRef(({className:t,...e},n)=>f.jsx(mM,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));M0.displayName=mM.displayName;function aY({open:t,onClose:e,onSuccess:n}){const[r,s]=m.useState(!1),{loginWithGoogle:i}=Po(),{toast:o}=Cu(),{t:a}=bn(),l=async()=>{s(!0);try{await i(),o({title:"Welcome to UniHub!",description:"You've successfully signed in."}),n==null||n(),e()}catch(c){console.error("Login error:",c),o({title:"Sign in failed",description:(c==null?void 0:c.message)||"Please try again later.",variant:"destructive"})}finally{s(!1)}};return f.jsx(Xp,{open:t,onOpenChange:e,children:f.jsxs(Qu,{className:"sm:max-w-md p-0 gap-0 bg-card border-border shadow-2xl animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[f.jsxs("div",{className:"bg-primary/5 p-8 text-center border-b",children:[f.jsx("div",{className:"mx-auto mb-4 bg-background rounded-full p-3 w-fit shadow-sm ring-1 ring-border",children:f.jsx(Jw,{className:"h-8 w-8 text-primary"})}),f.jsx(Jp,{className:"text-2xl font-bold mb-2",children:a("welcomeTitle")}),f.jsx(M0,{className:"text-base max-w-xs mx-auto",children:a("welcomeDescription")})]}),f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs(de,{variant:"outline",className:"w-full h-12 gap-3 text-base font-medium hover:bg-secondary/50 transition-all hover:border-primary/30",onClick:l,disabled:r,"data-testid":"button-google-login",children:[r?f.jsx(mr,{className:"h-5 w-5 animate-spin text-primary"}):f.jsx(UQ,{className:"h-5 w-5"}),a("continueGoogle")]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:a("secureAuth")})})]}),f.jsxs("p",{className:"text-center text-xs text-muted-foreground px-4",children:[a("agreeText")," ",f.jsx("span",{className:"underline hover:text-primary cursor-pointer",children:a("terms")})," ",a("and")," ",f.jsx("span",{className:"underline hover:text-primary cursor-pointer",children:a("privacy")}),"."]})]})]})})}const cr=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:le("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cr.displayName="Input";var lY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cY=lY.reduce((t,e)=>{const n=v0(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),uY="Label",vM=m.forwardRef((t,e)=>f.jsx(cY.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vM.displayName=uY;var wM=vM;const dY=hp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fn=m.forwardRef(({className:t,...e},n)=>f.jsx(wM,{ref:n,className:le(dY(),t),...e}));Fn.displayName=wM.displayName;const O0=m.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));O0.displayName="Textarea";function Sv(t,[e,n]){return Math.min(n,Math.max(e,t))}function hY(t){const e=fY(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(mY);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function fY(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=yY(s),a=gY(i,s.props);return s.type!==m.Fragment&&(a.ref=r?ms(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pY=Symbol("radix.slottable");function mY(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pY}function gY(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vY(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wY=[" ","Enter","ArrowUp","ArrowDown"],_Y=[" ","Enter"],yo="Select",[Zp,em,xY]=cp(yo),[vl]=nr(yo,[xY,cl]),tm=cl(),[EY,bi]=vl(yo),[TY,SY]=vl(yo),_M=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:y,form:E}=t,w=tm(e),[x,v]=m.useState(null),[_,S]=m.useState(null),[A,P]=m.useState(!1),O=Wu(c),[C,b]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:yo}),[I,N]=lo({prop:o,defaultProp:a,onChange:l,caller:yo}),k=m.useRef(null),M=x?E||!!x.closest("form"):!0,[D,z]=m.useState(new Set),ne=Array.from(D).map(X=>X.props.value).join(";");return f.jsx(IR,{...w,children:f.jsxs(EY,{required:y,scope:e,trigger:x,onTriggerChange:v,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:_r(),value:I,onValueChange:N,open:C,onOpenChange:b,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[f.jsx(Zp.Provider,{scope:e,children:f.jsx(TY,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(X=>{z(J=>new Set(J).add(X))},[]),onNativeOptionRemove:m.useCallback(X=>{z(J=>{const V=new Set(J);return V.delete(X),V})},[]),children:n})}),M?f.jsxs(HM,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:X=>N(X.target.value),disabled:p,form:E,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},ne):null]})})};_M.displayName=yo;var xM="SelectTrigger",EM=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=tm(n),o=bi(xM,n),a=o.disabled||r,l=ge(e,o.onTriggerChange),c=em(n),d=m.useRef("touch"),[h,p,y]=qM(w=>{const x=c().filter(S=>!S.disabled),v=x.find(S=>S.value===o.value),_=GM(x,w,v);_!==void 0&&o.onValueChange(_.value)}),E=w=>{a||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return f.jsx(l_,{asChild:!0,...i,children:f.jsx(ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WM(o.value)?"":void 0,...s,ref:l,onClick:W(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&E(w)}),onPointerDown:W(s.onPointerDown,w=>{d.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:W(s.onKeyDown,w=>{const x=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(x&&w.key===" ")&&wY.includes(w.key)&&(E(),w.preventDefault())})})})});EM.displayName=xM;var TM="SelectValue",SM=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=bi(TM,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=ge(e,l.onValueNodeChange);return lt(()=>{c(d)},[c,d]),f.jsx(ie.span,{...a,ref:h,style:{pointerEvents:"none"},children:WM(l.value)?f.jsx(f.Fragment,{children:o}):i})});SM.displayName=TM;var bY="SelectIcon",bM=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});bM.displayName=bY;var CY="SelectPortal",CM=t=>f.jsx(Au,{asChild:!0,...t});CM.displayName=CY;var vo="SelectContent",AM=m.forwardRef((t,e)=>{const n=bi(vo,t.__scopeSelect),[r,s]=m.useState();if(lt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Eo.createPortal(f.jsx(IM,{scope:t.__scopeSelect,children:f.jsx(Zp.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(PM,{...t,ref:e})});AM.displayName=vo;var Un=10,[IM,Ci]=vl(vo),AY="SelectContentImpl",IY=hY("SelectContent.RemoveScroll"),PM=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:E,hideWhenDetached:w,avoidCollisions:x,...v}=t,_=bi(vo,n),[S,A]=m.useState(null),[P,O]=m.useState(null),C=ge(e,Z=>A(Z)),[b,I]=m.useState(null),[N,k]=m.useState(null),M=em(n),[D,z]=m.useState(!1),ne=m.useRef(!1);m.useEffect(()=>{if(S)return _0(S)},[S]),w0();const X=m.useCallback(Z=>{const[be,...Pe]=M().map(Ae=>Ae.ref.current),[Ce]=Pe.slice(-1),Ie=document.activeElement;for(const Ae of Z)if(Ae===Ie||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===be&&P&&(P.scrollTop=0),Ae===Ce&&P&&(P.scrollTop=P.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ie))return},[M,P]),J=m.useCallback(()=>X([b,S]),[X,b,S]);m.useEffect(()=>{D&&J()},[D,J]);const{onOpenChange:V,triggerPointerDownPosRef:F}=_;m.useEffect(()=>{if(S){let Z={x:0,y:0};const be=Ce=>{var Ie,Ae;Z={x:Math.abs(Math.round(Ce.pageX)-(((Ie=F.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ae=F.current)==null?void 0:Ae.y)??0))}},Pe=Ce=>{Z.x<=10&&Z.y<=10?Ce.preventDefault():S.contains(Ce.target)||V(!1),document.removeEventListener("pointermove",be),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[S,V,F]),m.useEffect(()=>{const Z=()=>V(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[V]);const[K,ee]=qM(Z=>{const be=M().filter(Ie=>!Ie.disabled),Pe=be.find(Ie=>Ie.ref.current===document.activeElement),Ce=GM(be,Z,Pe);Ce&&setTimeout(()=>Ce.ref.current.focus())}),pe=m.useCallback((Z,be,Pe)=>{const Ce=!ne.current&&!Pe;(_.value!==void 0&&_.value===be||Ce)&&(I(Z),Ce&&(ne.current=!0))},[_.value]),Qe=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Ne=m.useCallback((Z,be,Pe)=>{const Ce=!ne.current&&!Pe;(_.value!==void 0&&_.value===be||Ce)&&k(Z)},[_.value]),Tt=r==="popper"?bv:RM,Oe=Tt===bv?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:E,hideWhenDetached:w,avoidCollisions:x}:{};return f.jsx(IM,{scope:n,content:S,viewport:P,onViewportChange:O,itemRefCallback:pe,selectedItem:b,onItemLeave:Qe,itemTextRefCallback:Ne,focusSelectedItem:J,selectedItemText:N,position:r,isPositioned:D,searchRef:K,children:f.jsx(qp,{as:IY,allowPinchZoom:!0,children:f.jsx(zp,{asChild:!0,trapped:_.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:W(s,Z=>{var be;(be=_.trigger)==null||be.focus({preventScroll:!0}),Z.preventDefault()}),children:f.jsx(il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(Tt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Z=>Z.preventDefault(),...v,...Oe,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:W(v.onKeyDown,Z=>{const be=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!be&&Z.key.length===1&&ee(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Ce=M().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Ie=Z.target,Ae=Ce.indexOf(Ie);Ce=Ce.slice(Ae+1)}setTimeout(()=>X(Ce)),Z.preventDefault()}})})})})})})});PM.displayName=AY;var PY="SelectItemAlignedPosition",RM=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=bi(vo,n),o=Ci(vo,n),[a,l]=m.useState(null),[c,d]=m.useState(null),h=ge(e,C=>d(C)),p=em(n),y=m.useRef(!1),E=m.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:v,focusSelectedItem:_}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&w&&x&&v){const C=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),N=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=N.left-b.left,Ae=I.left-Ie,St=C.left-Ae,cn=C.width+St,Ii=Math.max(cn,b.width),jr=window.innerWidth-Un,Fr=Sv(Ae,[Un,Math.max(Un,jr-Ii)]);a.style.minWidth=cn+"px",a.style.left=Fr+"px"}else{const Ie=b.right-N.right,Ae=window.innerWidth-I.right-Ie,St=window.innerWidth-C.right-Ae,cn=C.width+St,Ii=Math.max(cn,b.width),jr=window.innerWidth-Un,Fr=Sv(Ae,[Un,Math.max(Un,jr-Ii)]);a.style.minWidth=cn+"px",a.style.right=Fr+"px"}const k=p(),M=window.innerHeight-Un*2,D=w.scrollHeight,z=window.getComputedStyle(c),ne=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),J=parseInt(z.borderBottomWidth,10),V=parseInt(z.paddingBottom,10),F=ne+X+D+V+J,K=Math.min(x.offsetHeight*5,F),ee=window.getComputedStyle(w),pe=parseInt(ee.paddingTop,10),Qe=parseInt(ee.paddingBottom,10),Ne=C.top+C.height/2-Un,Tt=M-Ne,Oe=x.offsetHeight/2,Z=x.offsetTop+Oe,be=ne+X+Z,Pe=F-be;if(be<=Ne){const Ie=k.length>0&&x===k[k.length-1].ref.current;a.style.bottom="0px";const Ae=c.clientHeight-w.offsetTop-w.offsetHeight,St=Math.max(Tt,Oe+(Ie?Qe:0)+Ae+J),cn=be+St;a.style.height=cn+"px"}else{const Ie=k.length>0&&x===k[0].ref.current;a.style.top="0px";const St=Math.max(Ne,ne+w.offsetTop+(Ie?pe:0)+Oe)+Pe;a.style.height=St+"px",w.scrollTop=be-Ne+w.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,a,c,w,x,v,i.dir,r]);lt(()=>S(),[S]);const[A,P]=m.useState();lt(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&E.current===!0&&(S(),_==null||_(),E.current=!1)},[S,_]);return f.jsx(NY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(ie.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});RM.displayName=PY;var RY="SelectPopperPosition",bv=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=tm(n);return f.jsx(c_,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bv.displayName=RY;var[NY,L0]=vl(vo,{}),Cv="SelectViewport",NM=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ci(Cv,n),o=L0(Cv,n),a=ge(e,i.onViewportChange),l=m.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Zp.Slot,{scope:n,children:f.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:W(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const y=Math.abs(l.current-d.scrollTop);if(y>0){const E=window.innerHeight-Un*2,w=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(w,x);if(v<E){const _=v+y,S=Math.min(E,_),A=_-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});NM.displayName=Cv;var kM="SelectGroup",[kY,DY]=vl(kM),MY=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_r();return f.jsx(kY,{scope:n,id:s,children:f.jsx(ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});MY.displayName=kM;var DM="SelectLabel",MM=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=DY(DM,n);return f.jsx(ie.div,{id:s.id,...r,ref:e})});MM.displayName=DM;var Df="SelectItem",[OY,OM]=vl(Df),LM=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=bi(Df,n),l=Ci(Df,n),c=a.value===r,[d,h]=m.useState(i??""),[p,y]=m.useState(!1),E=ge(e,_=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,_,r,s)}),w=_r(),x=m.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(OY,{scope:n,value:r,disabled:s,textId:w,isSelected:c,onItemTextChange:m.useCallback(_=>{h(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(Zp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(ie.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:W(o.onFocus,()=>y(!0)),onBlur:W(o.onBlur,()=>y(!1)),onClick:W(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:W(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:W(o.onPointerDown,_=>{x.current=_.pointerType}),onPointerMove:W(o.onPointerMove,_=>{var S;x.current=_.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:W(o.onKeyDown,_=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&_.key===" "||(_Y.includes(_.key)&&v(),_.key===" "&&_.preventDefault())})})})})});LM.displayName=Df;var sc="SelectItemText",VM=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=bi(sc,n),a=Ci(sc,n),l=OM(sc,n),c=SY(sc,n),[d,h]=m.useState(null),p=ge(e,v=>h(v),l.onItemTextChange,v=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,v,l.value,l.disabled)}),y=d==null?void 0:d.textContent,E=m.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=c;return lt(()=>(w(E),()=>x(E)),[w,x,E]),f.jsxs(f.Fragment,{children:[f.jsx(ie.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Eo.createPortal(i.children,o.valueNode):null]})});VM.displayName=sc;var jM="SelectItemIndicator",FM=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return OM(jM,n).isSelected?f.jsx(ie.span,{"aria-hidden":!0,...r,ref:e}):null});FM.displayName=jM;var Av="SelectScrollUpButton",UM=m.forwardRef((t,e)=>{const n=Ci(Av,t.__scopeSelect),r=L0(Av,t.__scopeSelect),[s,i]=m.useState(!1),o=ge(e,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx($M,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});UM.displayName=Av;var Iv="SelectScrollDownButton",BM=m.forwardRef((t,e)=>{const n=Ci(Iv,t.__scopeSelect),r=L0(Iv,t.__scopeSelect),[s,i]=m.useState(!1),o=ge(e,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx($M,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});BM.displayName=Iv;var $M=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ci("SelectScrollButton",n),o=m.useRef(null),a=em(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),lt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:W(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:W(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:W(s.onPointerLeave,()=>{l()})})}),LY="SelectSeparator",zM=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(ie.div,{"aria-hidden":!0,...r,ref:e})});zM.displayName=LY;var Pv="SelectArrow",VY=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tm(n),i=bi(Pv,n),o=Ci(Pv,n);return i.open&&o.position==="popper"?f.jsx(u_,{...s,...r,ref:e}):null});VY.displayName=Pv;var jY="SelectBubbleInput",HM=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=ge(r,s),o=vY(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),f.jsx(ie.select,{...n,style:{...wP,...n.style},ref:i,defaultValue:e})});HM.displayName=jY;function WM(t){return t===""||t===void 0}function qM(t){const e=et(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function GM(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=FY(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function FY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UY=_M,KM=EM,BY=SM,$Y=bM,zY=CM,QM=AM,HY=NM,YM=MM,XM=LM,WY=VM,qY=FM,JM=UM,ZM=BM,eO=zM;const c1=UY,u1=BY,Rv=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(KM,{ref:r,className:le("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx($Y,{asChild:!0,children:f.jsx(zP,{className:"h-4 w-4 opacity-50"})})]}));Rv.displayName=KM.displayName;const tO=m.forwardRef(({className:t,...e},n)=>f.jsx(JM,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(xU,{className:"h-4 w-4"})}));tO.displayName=JM.displayName;const nO=m.forwardRef(({className:t,...e},n)=>f.jsx(ZM,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(zP,{className:"h-4 w-4"})}));nO.displayName=ZM.displayName;const Nv=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(zY,{children:f.jsxs(QM,{ref:s,className:le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(tO,{}),f.jsx(HY,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(nO,{})]})}));Nv.displayName=QM.displayName;const GY=m.forwardRef(({className:t,...e},n)=>f.jsx(YM,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));GY.displayName=YM.displayName;const Is=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(XM,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(qY,{children:f.jsx($P,{className:"h-4 w-4"})})}),f.jsx(WY,{children:e})]}));Is.displayName=XM.displayName;const KY=m.forwardRef(({className:t,...e},n)=>f.jsx(eO,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));KY.displayName=eO.displayName;const rO=[{id:"boarding",name:"Boarding",icon:"Home"},{id:"food",name:"Food",icon:"Utensils"},{id:"transport",name:"Transport",icon:"Car"},{id:"market",name:"Market",icon:"ShoppingBag"},{id:"jobs",name:"Jobs",icon:"Briefcase"},{id:"laundry",name:"Laundry",icon:"Shirt"},{id:"other",name:"Other",icon:"MoreHorizontal"}],sO=[{id:"1",title:"Spacious Single Room with Attached Bath",price:"Rs. 8,500",priceType:"month",location:"Wijemanne Road",distance:"500m to gate",rating:4.5,reviews:23,category:"boarding",image:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400&h=300&fit=crop",verified:!0,phone:"+94 77 123 4567"},{id:"2",title:"Homemade Rice & Curry Delivery",price:"Rs. 350",priceType:"meal",location:"University Canteen Area",distance:"100m to gate",rating:4.8,reviews:156,category:"food",image:"https://images.unsplash.com/photo-1512058564366-18510be2db19?w=400&h=300&fit=crop",verified:!0,phone:"+94 71 234 5678"},{id:"3",title:"Tuk-Tuk Service to Town",price:"Rs. 200",priceType:"trip",location:"Main Gate",distance:"At gate",rating:4.2,reviews:89,category:"transport",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=300&fit=crop",verified:!1,phone:"+94 76 345 6789"},{id:"4",title:"Engineering Textbooks Bundle",price:"Rs. 4,500",priceType:"once",location:"Engineering Faculty",distance:"200m to gate",rating:4.6,reviews:12,category:"market",image:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=400&h=300&fit=crop",verified:!0,phone:"+94 70 456 7890"},{id:"5",title:"Part-Time Tutor Needed",price:"Rs. 1,500",priceType:"hour",location:"Online/Campus",distance:"Flexible",rating:0,reviews:0,category:"jobs",image:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=400&h=300&fit=crop",verified:!0,phone:"+94 78 567 8901"},{id:"6",title:"Express Laundry Service",price:"Rs. 500",priceType:"load",location:"Stanley Road",distance:"300m to gate",rating:4.4,reviews:67,category:"laundry",image:"https://images.unsplash.com/photo-1545173168-9f1947eebb7f?w=400&h=300&fit=crop",verified:!0,phone:"+94 75 678 9012"}],QY=[{id:"1",name:"University Medical Center",description:"24/7 Emergency Medical Services",phone:"011-2345678",icon:"Hospital"},{id:"2",name:"Campus Security",description:"Security & Safety Issues",phone:"011-3456789",icon:"Shield"},{id:"3",name:"Police Emergency",description:"Law Enforcement",phone:"119",icon:"Siren"}],ic={default:"Hi! I'm your UniHub assistant. I can help you find boarding, food, transport, and more. What are you looking for today?",rice:"I found several rice and curry options near campus! Check out 'Homemade Rice & Curry Delivery' - they offer meals starting at Rs. 350 with great reviews.",boarding:"Looking for accommodation? There are verified boarding places near campus starting from Rs. 8,500/month. Would you like me to show you the listings?",transport:"Need a ride? Tuk-tuk services are available at the main gate. Typical fares start at Rs. 200 to town.",laundry:"Express Laundry Service on Stanley Road offers washing at Rs. 500 per load with same-day delivery!"};function YY({open:t,onClose:e,onSuccess:n}){const[r,s]=m.useState(!1),[i,o]=m.useState({title:"",category:"",price:"",priceType:"month",description:"",location:"",locationLink:"",phone:"",distance:""}),[a,l]=m.useState([]),[c,d]=m.useState(!1),{toast:h}=Cu(),{user:p}=Po(),{t:y}=bn(),E=async v=>{if(!v.target.files||v.target.files.length===0)return;d(!0);const _=Array.from(v.target.files),S=[];try{for(const A of _){const P=oz(Pq,`listings/${Date.now()}_${A.name}`),O=await sz(P,A),C=await iz(O.ref);S.push(C)}l(A=>[...A,...S]),h({title:"Images uploaded successfully"})}catch(A){console.error("Upload error:",A),h({title:"Failed to upload images",variant:"destructive"})}finally{d(!1)}},w=v=>{const _=a.filter((S,A)=>A!==v);l(_)},x=async v=>{if(v.preventDefault(),!p){h({title:"Not authenticated",description:"Please sign in to post an ad.",variant:"destructive"});return}s(!0);try{const _=a.filter(S=>S.trim()!=="");await Mq({title:i.title||"Untitled Listing",category:i.category,price:i.price?`Rs. ${i.price}`:"Contact for Price",priceType:i.priceType,description:i.description,location:i.location,locationLink:i.locationLink,distance:i.distance||"",phone:i.phone,image:_[0]||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",images:_,verified:p.emailVerified||!1,rating:0,reviews:0,userId:p.uid,userEmail:p.email||""}),h({title:"Ad Posted Successfully!",description:"Your listing is now live."}),o({title:"",category:"",price:"",priceType:"month",description:"",location:"",locationLink:"",phone:"",distance:""}),l([]),n==null||n(),e()}catch(_){console.error("Error posting ad:",_),h({title:"Failed to post ad",description:(_==null?void 0:_.message)||"Please try again later.",variant:"destructive"})}finally{s(!1)}};return f.jsx(Xp,{open:t,onOpenChange:e,children:f.jsxs(Qu,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto p-0 gap-0 bg-card border-border shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[f.jsx("div",{className:"p-6 border-b bg-muted/30",children:f.jsxs(yM,{children:[f.jsx(Jp,{className:"text-2xl font-bold text-center",children:y("postAdTitle")}),f.jsx(M0,{className:"text-center text-base",children:y("postAdDescription")})]})}),f.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"title",className:"text-base font-semibold",children:[y("labelTitle")," (Optional)"]}),f.jsx(cr,{id:"title",placeholder:"e.g., Spacious Single Room near Campus",value:i.title,onChange:v=>o({...i,title:v.target.value}),className:"h-11 text-base","data-testid":"input-ad-title"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"category",className:"font-semibold",children:[y("labelCategory")," *"]}),f.jsxs(c1,{value:i.category,onValueChange:v=>o({...i,category:v}),required:!0,children:[f.jsx(Rv,{className:"h-11","data-testid":"select-category",children:f.jsx(u1,{placeholder:"Select Category"})}),f.jsx(Nv,{children:rO.map(v=>f.jsx(Is,{value:v.id,children:v.name},v.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(Fn,{htmlFor:"priceType",className:"font-semibold",children:y("labelPriceType")})}),f.jsxs(c1,{value:i.priceType,onValueChange:v=>o({...i,priceType:v}),children:[f.jsx(Rv,{className:"h-11","data-testid":"select-price-type",children:f.jsx(u1,{})}),f.jsxs(Nv,{children:[f.jsx(Is,{value:"month",children:"Per Month"}),f.jsx(Is,{value:"meal",children:"Per Meal"}),f.jsx(Is,{value:"trip",children:"Per Trip"}),f.jsx(Is,{value:"hour",children:"Per Hour"}),f.jsx(Is,{value:"once",children:"One-time"}),f.jsx(Is,{value:"load",children:"Per Load"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"price",className:"font-semibold",children:[y("labelPrice")," *"]}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"Rs."}),f.jsx(cr,{id:"price",type:"number",placeholder:"8500",value:i.price,onChange:v=>o({...i,price:v.target.value}),required:!0,className:"pl-10 h-11","data-testid":"input-price"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"location",className:"font-semibold",children:[y("labelLocation")," *"]}),f.jsx(cr,{id:"location",placeholder:"e.g., Wijemanne Road",value:i.location,onChange:v=>o({...i,location:v.target.value}),required:!0,className:"h-11","data-testid":"input-location"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"distance",className:"font-semibold",children:[y("labelDistance")," (Optional)"]}),f.jsx(cr,{id:"distance",placeholder:"e.g., 500m to gate",value:i.distance,onChange:v=>o({...i,distance:v.target.value}),className:"h-11","data-testid":"input-distance"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fn,{htmlFor:"locationLink",className:"font-semibold",children:"Location Link (Google Maps) (Optional)"}),f.jsx(cr,{id:"locationLink",type:"url",placeholder:"https://maps.google.com/...",value:i.locationLink,onChange:v=>o({...i,locationLink:v.target.value}),className:"h-11","data-testid":"input-location-link"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"phone",className:"font-semibold",children:[y("labelPhone")," *"]}),f.jsx(cr,{id:"phone",type:"tel",placeholder:"+94 77 123 4567",value:i.phone,onChange:v=>o({...i,phone:v.target.value}),required:!0,className:"h-11","data-testid":"input-phone"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{htmlFor:"description",className:"font-semibold",children:[y("labelDescription")," (Optional)"]}),f.jsx(O0,{id:"description",placeholder:"Describe your listing...",value:i.description,onChange:v=>o({...i,description:v.target.value}),rows:4,className:"resize-none","data-testid":"input-description"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fn,{className:"font-semibold",children:[y("labelImage"),"s (Optional)"]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(cr,{type:"file",accept:"image/*",multiple:!0,onChange:E,disabled:c||a.length>=5,className:"cursor-pointer"}),c&&f.jsx(mr,{className:"h-4 w-4 animate-spin"})]}),a.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((v,_)=>f.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border bg-muted",children:[f.jsx("img",{src:v,alt:`Uploaded ${_+1}`,className:"w-full h-full object-cover"}),f.jsx(de,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>w(_),children:f.jsx(ss,{className:"h-3 w-3"})})]},_))}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload up to 5 images. Supported formats: JPG, PNG."})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-6",children:[f.jsx(de,{type:"button",variant:"outline",size:"lg",className:"flex-1",onClick:e,children:y("buttonCancel")}),f.jsx(de,{type:"submit",size:"lg",className:"flex-1",disabled:r||!i.category,"data-testid":"button-submit-ad",children:r?f.jsxs(f.Fragment,{children:[f.jsx(mr,{className:"h-4 w-4 animate-spin mr-2"}),"Posting..."]}):y("buttonPost")})]})]})]})})}const Mr=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Mr.displayName="Card";const iO=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));iO.displayName="CardHeader";const oO=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));oO.displayName="CardTitle";const XY=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));XY.displayName="CardDescription";const wo=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));wo.displayName="CardContent";const JY=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));JY.displayName="CardFooter";function ZY(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var V0="ScrollArea",[aO]=nr(V0),[eX,Vn]=aO(V0),lO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=m.useState(null),[c,d]=m.useState(null),[h,p]=m.useState(null),[y,E]=m.useState(null),[w,x]=m.useState(null),[v,_]=m.useState(0),[S,A]=m.useState(0),[P,O]=m.useState(!1),[C,b]=m.useState(!1),I=ge(e,k=>l(k)),N=Wu(s);return f.jsx(eX,{scope:n,type:r,dir:N,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:E,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:w,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:b,onCornerWidthChange:_,onCornerHeightChange:A,children:f.jsx(ie.div,{dir:N,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});lO.displayName=V0;var cO="ScrollAreaViewport",uO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Vn(cO,n),a=m.useRef(null),l=ge(e,a,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uO.displayName=cO;var Vr="ScrollAreaScrollbar",j0=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vn(Vr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(tX,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(nX,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx(dO,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(F0,{...r,ref:e}):null});j0.displayName=Vr;var tX=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vn(Vr,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(en,{present:n||i,children:f.jsx(dO,{"data-state":i?"visible":"hidden",...r,ref:e})})}),nX=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vn(Vr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=rm(()=>l("SCROLL_END"),100),[a,l]=ZY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const p=()=>{const y=c[d];h!==y&&(l("SCROLL"),o()),h=y};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),f.jsx(en,{present:n||a!=="hidden",children:f.jsx(F0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:W(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:W(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),dO=m.forwardRef((t,e)=>{const n=Vn(Vr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=m.useState(!1),a=t.orientation==="horizontal",l=rm(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return Ja(n.viewport,l),Ja(n.content,l),f.jsx(en,{present:r||i,children:f.jsx(F0,{"data-state":i?"visible":"hidden",...s,ref:e})})}),F0=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Vn(Vr,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=gO(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,y){return lX(p,o.current,a,y)}return n==="horizontal"?f.jsx(rX,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,y=d1(p,a,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?f.jsx(sX,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,y=d1(p,a);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),rX=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Vn(Vr,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ge(e,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(fO,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nm(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),vO(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Of(o.paddingLeft),paddingEnd:Of(o.paddingRight)}})}})}),sX=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Vn(Vr,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ge(e,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(fO,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nm(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),vO(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Of(o.paddingTop),paddingEnd:Of(o.paddingBottom)}})}})}),[iX,hO]=aO(Vr),fO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...p}=t,y=Vn(Vr,n),[E,w]=m.useState(null),x=ge(e,I=>w(I)),v=m.useRef(null),_=m.useRef(""),S=y.viewport,A=r.content-r.viewport,P=et(d),O=et(l),C=rm(h,10);function b(I){if(v.current){const N=I.clientX-v.current.left,k=I.clientY-v.current.top;c({x:N,y:k})}}return m.useEffect(()=>{const I=N=>{const k=N.target;(E==null?void 0:E.contains(k))&&P(N,A)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,E,A,P]),m.useEffect(O,[r,O]),Ja(E,C),Ja(y.content,C),f.jsx(iX,{scope:n,scrollbar:E,hasThumb:s,onThumbChange:et(i),onThumbPointerUp:et(o),onThumbPositionChange:O,onThumbPointerDown:et(a),children:f.jsx(ie.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:W(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),v.current=E.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),b(I))}),onPointerMove:W(t.onPointerMove,b),onPointerUp:W(t.onPointerUp,I=>{const N=I.target;N.hasPointerCapture(I.pointerId)&&N.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),v.current=null})})})}),Mf="ScrollAreaThumb",pO=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=hO(Mf,t.__scopeScrollArea);return f.jsx(en,{present:n||s.hasThumb,children:f.jsx(oX,{ref:e,...r})})}),oX=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Vn(Mf,n),o=hO(Mf,n),{onThumbPositionChange:a}=o,l=ge(e,h=>o.onThumbChange(h)),c=m.useRef(void 0),d=rm(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!c.current){const y=cX(h,a);c.current=y,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),f.jsx(ie.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:W(t.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),E=h.clientX-y.left,w=h.clientY-y.top;o.onThumbPointerDown({x:E,y:w})}),onPointerUp:W(t.onPointerUp,o.onThumbPointerUp)})});pO.displayName=Mf;var U0="ScrollAreaCorner",mO=m.forwardRef((t,e)=>{const n=Vn(U0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(aX,{...t,ref:e}):null});mO.displayName=U0;var aX=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Vn(U0,n),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return Ja(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ja(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?f.jsx(ie.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Of(t){return t?parseInt(t,10):0}function gO(t,e){const n=t/e;return isNaN(n)?0:n}function nm(t){const e=gO(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function lX(t,e,n,r="ltr"){const s=nm(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return yO([l,c],h)(t)}function d1(t,e,n="ltr"){const r=nm(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Sv(t,l);return yO([0,o],[0,a])(c)}function yO(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function vO(t,e){return t>0&&t<e}var cX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function rm(t,e){const n=et(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ja(t,e){const n=et(e);lt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var wO=lO,uX=uO,dX=mO;const B0=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(wO,{ref:r,className:le("relative overflow-hidden",t),...n,children:[f.jsx(uX,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx($0,{}),f.jsx(dX,{})]}));B0.displayName=wO.displayName;const $0=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(j0,{ref:r,orientation:e,className:le("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(pO,{className:"relative flex-1 rounded-full bg-border"})}));$0.displayName=j0.displayName;const z0=m.createContext({});function H0(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const sm=m.createContext(null),W0=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class hX extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fX({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(W0);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f.jsx(hX,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const pX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=H0(mX),l=m.useId(),c=m.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return m.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(fX,{isPresent:n,children:t})),f.jsx(sm.Provider,{value:d,children:t})};function mX(){return new Map}function _O(t=!0){const e=m.useContext(sm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{t&&s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Kd=t=>t.key||"";function h1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const q0=typeof window<"u",xO=q0?m.useLayoutEffect:m.useEffect,gX=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=_O(o),c=m.useMemo(()=>h1(t),[t]),d=o&&!a?[]:c.map(Kd),h=m.useRef(!0),p=m.useRef(c),y=H0(()=>new Map),[E,w]=m.useState(c),[x,v]=m.useState(c);xO(()=>{h.current=!1,p.current=c;for(let A=0;A<x.length;A++){const P=Kd(x[A]);d.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[x,d.length,d.join("-")]);const _=[];if(c!==E){let A=[...c];for(let P=0;P<x.length;P++){const O=x[P],C=Kd(O);d.includes(C)||(A.splice(P,0,O),_.push(O))}i==="wait"&&_.length&&(A=_),v(h1(A)),w(c);return}const{forceRender:S}=m.useContext(z0);return f.jsx(f.Fragment,{children:x.map(A=>{const P=Kd(A),O=o&&!a?!1:c===x||d.includes(P),C=()=>{if(y.has(P))y.set(P,!0);else return;let b=!0;y.forEach(I=>{I||(b=!1)}),b&&(S==null||S(),v(p.current),o&&(l==null||l()),r&&r())};return f.jsx(pX,{isPresent:O,initial:!h.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:O?void 0:C,children:A},P)})})},_n=t=>t;let EO=_n;function G0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Za=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Jr=t=>t*1e3,Zr=t=>t/1e3,yX={useManualTiming:!1};function vX(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const y=h&&r?e:n;return d&&i.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Qd=["read","resolveKeyframes","update","preRender","render","postRender"],wX=40;function TO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Qd.reduce((v,_)=>(v[_]=vX(i),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,y=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,wX),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},E=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Qd.reduce((v,_)=>{const S=o[_];return v[_]=(A,P=!1,O=!1)=>(n||E(),S.schedule(A,P,O)),v},{}),cancel:v=>{for(let _=0;_<Qd.length;_++)o[Qd[_]].cancel(v)},state:s,steps:o}}const{schedule:Be,cancel:yi,state:Ct,steps:Pg}=TO(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0),SO=m.createContext({strict:!1}),f1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in f1)el[t]={isEnabled:e=>f1[t].some(n=>!!e[n])};function _X(t){for(const e in t)el[e]={...el[e],...t[e]}}const xX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xX.has(t)}let bO=t=>!Lf(t);function EX(t){t&&(bO=e=>e.startsWith("on")?!Lf(e):t(e))}try{EX(require("@emotion/is-prop-valid").default)}catch{}function TX(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(bO(s)||n===!0&&Lf(s)||!e&&!Lf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function SX(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const im=m.createContext({});function hu(t){return typeof t=="string"||Array.isArray(t)}function om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const K0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q0=["initial",...K0];function am(t){return om(t.animate)||Q0.some(e=>hu(t[e]))}function CO(t){return!!(am(t)||t.variants)}function bX(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hu(n)?n:void 0,animate:hu(r)?r:void 0}}return t.inherit!==!1?e:{}}function CX(t){const{initial:e,animate:n}=bX(t,m.useContext(im));return m.useMemo(()=>({initial:e,animate:n}),[p1(e),p1(n)])}function p1(t){return Array.isArray(t)?t.join(" "):t}const AX=Symbol.for("motionComponentSymbol");function oa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IX(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oa(n)&&(n.current=r))},[e])}const Y0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PX="framerAppearId",AO="data-"+Y0(PX),{schedule:X0}=TO(queueMicrotask,!1),IO=m.createContext({});function RX(t,e,n,r,s){var i,o;const{visualElement:a}=m.useContext(im),l=m.useContext(SO),c=m.useContext(sm),d=m.useContext(W0).reducedMotion,h=m.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,y=m.useContext(IO);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&NX(h.current,n,s,y);const E=m.useRef(!1);m.useInsertionEffect(()=>{p&&E.current&&p.update(n,c)});const w=n[AO],x=m.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return xO(()=>{p&&(E.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),X0.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),m.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,w)}),x.current=!1))}),p}function NX(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&oa(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function PO(t){if(t)return t.options.allowProjection!==!1?t.projection:PO(t.parent)}function kX({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&_X(t);function a(c,d){let h;const p={...m.useContext(W0),...c,layoutId:DX(c)},{isStatic:y}=p,E=CX(c),w=r(c,y);if(!y&&q0){MX();const x=OX(p);h=x.MeasureLayout,E.visualElement=RX(s,w,p,e,x.ProjectionNode)}return f.jsxs(im.Provider,{value:E,children:[h&&E.visualElement?f.jsx(h,{visualElement:E.visualElement,...p}):null,n(s,c,IX(w,E.visualElement,d),w,y,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=m.forwardRef(a);return l[AX]=s,l}function DX({layoutId:t}){const e=m.useContext(z0).id;return e&&t!==void 0?e+"-"+t:t}function MX(t,e){m.useContext(SO).strict}function OX(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const LX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J0(t){return typeof t!="string"||t.includes("-")?!1:!!(LX.indexOf(t)>-1||/[A-Z]/u.test(t))}function m1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Z0(t,e,n,r){if(typeof e=="function"){const[s,i]=m1(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=m1(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const kv=t=>Array.isArray(t),VX=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),jX=t=>kv(t)?t[t.length-1]||0:t,Ft=t=>!!(t&&t.getVelocity);function bh(t){const e=Ft(t)?t.get():t;return VX(e)?e.toValue():e}function FX({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:UX(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const RO=t=>(e,n)=>{const r=m.useContext(im),s=m.useContext(sm),i=()=>FX(t,e,r,s);return n?i():H0(i)};function UX(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=bh(i[p]);let{initial:o,animate:a}=t;const l=am(t),c=CO(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!om(h)){const p=Array.isArray(h)?h:[h];for(let y=0;y<p.length;y++){const E=Z0(t,p[y]);if(E){const{transitionEnd:w,transition:x,...v}=E;for(const _ in v){let S=v[_];if(Array.isArray(S)){const A=d?S.length-1:0;S=S[A]}S!==null&&(s[_]=S)}for(const _ in w)s[_]=w[_]}}}return s}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(wl),NO=t=>e=>typeof e=="string"&&e.startsWith(t),kO=NO("--"),BX=NO("var(--"),ex=t=>BX(t)?$X.test(t.split("/*")[0].trim()):!1,$X=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fs=(t,e,n)=>n>e?e:n<t?t:n,_l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fu={..._l,transform:t=>fs(0,1,t)},Yd={..._l,default:1},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=Yu("deg"),Pr=Yu("%"),se=Yu("px"),zX=Yu("vh"),HX=Yu("vw"),g1={...Pr,parse:t=>Pr.parse(t)/100,transform:t=>Pr.transform(t*100)},WX={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se},qX={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Yd,scaleX:Yd,scaleY:Yd,scaleZ:Yd,skew:Ps,skewX:Ps,skewY:Ps,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:fu,originX:g1,originY:g1,originZ:se},y1={..._l,transform:Math.round},tx={...WX,...qX,zIndex:y1,size:se,fillOpacity:fu,strokeOpacity:fu,numOctaves:y1},GX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KX=wl.length;function QX(t,e,n){let r="",s=!0;for(let i=0;i<KX;i++){const o=wl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=DO(a,tx[o]);if(!l){s=!1;const d=GX[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function nx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ko.has(l)){o=!0;continue}else if(kO(l)){s[l]=c;continue}else{const d=DO(c,tx[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=QX(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const YX={offset:"stroke-dashoffset",array:"stroke-dasharray"},XX={offset:"strokeDashoffset",array:"strokeDasharray"};function JX(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?YX:XX;t[i.offset]=se.transform(-r);const o=se.transform(e),a=se.transform(n);t[i.array]=`${o} ${a}`}function v1(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function ZX(t,e,n){const r=v1(e,t.x,t.width),s=v1(n,t.y,t.height);return`${r} ${s}`}function rx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(nx(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:E}=t;p.transform&&(E&&(y.transform=p.transform),delete p.transform),E&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=ZX(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&JX(p,o,a,l,!1)}const sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MO=()=>({...sx(),attrs:{}}),ix=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const LO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VO(t,e,n,r){OO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(LO.has(s)?s:Y0(s),e.attrs[s])}const Vf={};function eJ(t){Object.assign(Vf,t)}function jO(t,{layout:e,layoutId:n}){return ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vf[t]||t==="opacity")}function ox(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Ft(s[o])||e.style&&Ft(e.style[o])||jO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function FO(t,e,n){const r=ox(t,e,n);for(const s in t)if(Ft(t[s])||Ft(e[s])){const i=wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function tJ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const w1=["x","y","width","height","cx","cy","r"],nJ={useVisualState:RO({scrapeMotionValuesFromProps:FO,createRenderState:MO,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(ko.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<w1.length;a++){const l=w1[a];t[l]!==e[l]&&(o=!0)}o&&Be.read(()=>{tJ(n,r),Be.render(()=>{rx(r,s,ix(n.tagName),t.transformTemplate),VO(n,r)})})}})},rJ={useVisualState:RO({scrapeMotionValuesFromProps:ox,createRenderState:sx})};function UO(t,e,n){for(const r in e)!Ft(e[r])&&!jO(r,n)&&(t[r]=e[r])}function sJ({transformTemplate:t},e){return m.useMemo(()=>{const n=sx();return nx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iJ(t,e){const n=t.style||{},r={};return UO(r,n,t),Object.assign(r,sJ(t,e)),r}function oJ(t,e){const n={},r=iJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function aJ(t,e,n,r){const s=m.useMemo(()=>{const i=MO();return rx(i,e,ix(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};UO(i,t.style,t),s.style={...i,...s.style}}return s}function lJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(J0(n)?aJ:oJ)(r,i,o,n),c=TX(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>Ft(h)?h.get():h,[h]);return m.createElement(n,{...d,children:p})}}function cJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...J0(r)?nJ:rJ,preloadedFeatures:t,useRender:lJ(s),createVisualElement:e,Component:r};return kX(o)}}function BO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function lm(t,e,n){const r=t.getProps();return Z0(r,e,n!==void 0?n:r.custom,t)}const uJ=G0(()=>window.ScrollTimeline!==void 0);class dJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(uJ()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hJ extends dJ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ax(t,e){return t?t[e]||t.default||t:void 0}const Dv=2e4;function $O(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Dv;)e+=n,r=t.next(e);return e>=Dv?1/0:e}function lx(t){return typeof t=="function"}function _1(t,e){t.timeline=e,t.onfinish=null}const cx=t=>Array.isArray(t)&&typeof t[0]=="number",fJ={linearEasing:void 0};function pJ(t,e){const n=G0(t);return()=>{var r;return(r=fJ[e])!==null&&r!==void 0?r:n()}}const jf=pJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Za(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function HO(t){return!!(typeof t=="function"&&jf()||!t||typeof t=="string"&&(t in Mv||jf())||cx(t)||Array.isArray(t)&&t.every(HO))}const oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Mv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function WO(t,e){if(t)return typeof t=="function"&&jf()?zO(t,e):cx(t)?oc(t):Array.isArray(t)?t.map(n=>WO(n,e)||Mv.easeOut):Mv[t]}const Bn={x:!1,y:!1};function qO(){return Bn.x||Bn.y}function mJ(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function GO(t,e){const n=mJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function x1(t){return e=>{e.pointerType==="touch"||qO()||t(e)}}function gJ(t,e,n={}){const[r,s,i]=GO(t,n),o=x1(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=x1(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const KO=(t,e)=>e?t===e?!0:KO(t,e.parentElement):!1,ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vJ(t){return yJ.has(t.tagName)||t.tabIndex!==-1}const ac=new WeakSet;function E1(t){return e=>{e.key==="Enter"&&t(e)}}function Rg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=E1(()=>{if(ac.has(n))return;Rg(n,"down");const s=E1(()=>{Rg(n,"up")}),i=()=>Rg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function T1(t){return ux(t)&&!qO()}function _J(t,e,n={}){const[r,s,i]=GO(t,n),o=a=>{const l=a.currentTarget;if(!T1(a)||ac.has(l))return;ac.add(l);const c=e(a),d=(y,E)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!T1(y)||!ac.has(l))&&(ac.delete(l),typeof c=="function"&&c(y,{success:E}))},h=y=>{d(y,n.useGlobalTarget||KO(l,y.target))},p=y=>{d(y,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{!vJ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>wJ(c,s),s)}),i}function xJ(t){return t==="x"||t==="y"?Bn[t]?null:(Bn[t]=!0,()=>{Bn[t]=!1}):Bn.x||Bn.y?null:(Bn.x=Bn.y=!0,()=>{Bn.x=Bn.y=!1})}const QO=new Set(["width","height","top","left","right","bottom",...wl]);let Ch;function EJ(){Ch=void 0}const Rr={now:()=>(Ch===void 0&&Rr.set(Ct.isProcessing||yX.useManualTiming?Ct.timestamp:performance.now()),Ch),set:t=>{Ch=t,queueMicrotask(EJ)}};function dx(t,e){t.indexOf(e)===-1&&t.push(e)}function hx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fx{constructor(){this.subscriptions=[]}add(e){return dx(this.subscriptions,e),()=>hx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YO(t,e){return e?t*(1e3/e):0}const S1=30,TJ=t=>!isNaN(parseFloat(t));class SJ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Rr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>S1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,S1);return YO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pu(t,e){return new SJ(t,e)}function bJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pu(n))}function CJ(t,e){const n=lm(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=jX(i[o]);bJ(t,o,a)}}function AJ(t){return!!(Ft(t)&&t.add)}function Ov(t,e){const n=t.getValue("willChange");if(AJ(n))return n.add(e)}function XO(t){return t.props[AO]}const JO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IJ=1e-7,PJ=12;function RJ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=JO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>IJ&&++a<PJ);return o}function Xu(t,e,n,r){if(t===e&&n===r)return _n;const s=i=>RJ(i,0,1,t,n);return i=>i===0||i===1?i:JO(s(i),e,r)}const ZO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eL=t=>e=>1-t(1-e),tL=Xu(.33,1.53,.69,.99),px=eL(tL),nL=ZO(px),rL=t=>(t*=2)<1?.5*px(t):.5*(2-Math.pow(2,-10*(t-1))),mx=t=>1-Math.sin(Math.acos(t)),sL=eL(mx),iL=ZO(mx),oL=t=>/^0[^.\s]+$/u.test(t);function NJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oL(t):!0}const Ic=t=>Math.round(t*1e5)/1e5,gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kJ(t){return t==null}const DJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yx=(t,e)=>n=>!!(typeof n=="string"&&DJ.test(n)&&n.startsWith(t)||e&&!kJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),aL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(gx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},MJ=t=>fs(0,255,t),Ng={..._l,transform:t=>Math.round(MJ(t))},Wi={test:yx("rgb","red"),parse:aL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ng.transform(t)+", "+Ng.transform(e)+", "+Ng.transform(n)+", "+Ic(fu.transform(r))+")"};function OJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lv={test:yx("#"),parse:OJ,transform:Wi.transform},aa={test:yx("hsl","hue"),parse:aL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pr.transform(Ic(e))+", "+Pr.transform(Ic(n))+", "+Ic(fu.transform(r))+")"},Lt={test:t=>Wi.test(t)||Lv.test(t)||aa.test(t),parse:t=>Wi.test(t)?Wi.parse(t):aa.test(t)?aa.parse(t):Lv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wi.transform(t):aa.transform(t)},LJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(LJ))===null||n===void 0?void 0:n.length)||0)>0}const lL="number",cL="color",jJ="var",FJ="var(",b1="${}",UJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(UJ,l=>(Lt.test(l)?(r.color.push(i),s.push(cL),n.push(Lt.parse(l))):l.startsWith(FJ)?(r.var.push(i),s.push(jJ),n.push(l)):(r.number.push(i),s.push(lL),n.push(parseFloat(l))),++i,b1)).split(b1);return{values:n,split:a,indexes:r,types:s}}function uL(t){return mu(t).values}function dL(t){const{split:e,types:n}=mu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===lL?i+=Ic(s[o]):a===cL?i+=Lt.transform(s[o]):i+=s[o]}return i}}const BJ=t=>typeof t=="number"?0:t;function $J(t){const e=uL(t);return dL(t)(e.map(BJ))}const vi={test:VJ,parse:uL,createTransformer:dL,getAnimatableNone:$J},zJ=new Set(["brightness","contrast","saturate","opacity"]);function HJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gx)||[];if(!r)return t;const s=n.replace(r,"");let i=zJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const WJ=/\b([a-z-]*)\(.*?\)/gu,Vv={...vi,getAnimatableNone:t=>{const e=t.match(WJ);return e?e.map(HJ).join(" "):t}},qJ={...tx,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Vv,WebkitFilter:Vv},vx=t=>qJ[t];function hL(t,e){let n=vx(t);return n!==Vv&&(n=vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GJ=new Set(["auto","none","0"]);function KJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!GJ.has(i)&&mu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=hL(n,s)}const C1=t=>t===_l||t===se,A1=(t,e)=>parseFloat(t.split(", ")[e]),I1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return A1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?A1(i[1],t):0}},QJ=new Set(["x","y","z"]),YJ=wl.filter(t=>!QJ.has(t));function XJ(t){const e=[];return YJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:I1(4,13),y:I1(5,14)};tl.translateX=tl.x;tl.translateY=tl.y;const no=new Set;let jv=!1,Fv=!1;function fL(){if(Fv){const t=Array.from(no).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=XJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fv=!1,jv=!1,no.forEach(t=>t.complete()),no.clear()}function pL(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fv=!0)})}function JJ(){pL(),fL()}class wx{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(no.add(this),jv||(jv=!0,Be.read(pL),Be.resolveKeyframes(fL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),no.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,no.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ZJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eZ(t){const e=ZJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function gL(t,e,n=1){const[r,s]=eZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return mL(o)?parseFloat(o):o}return ex(s)?gL(s,e,n+1):s}const yL=t=>e=>e.test(t),tZ={test:t=>t==="auto",parse:t=>t},vL=[_l,se,Pr,Ps,HX,zX,tZ],P1=t=>vL.find(yL(t));class wL extends wx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ex(c))){const d=gL(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!QO.has(r)||e.length!==2)return;const[s,i]=e,o=P1(s),a=P1(i);if(o!==a)if(C1(o)&&C1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)NJ(e[s])&&r.push(s);r.length&&KJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const R1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vi.test(t)||t==="0")&&!t.startsWith("url("));function nZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=R1(s,e),a=R1(i,e);return!o||!a?!1:nZ(t)||(n==="spring"||lx(n))&&r}const sZ=t=>t!==null;function cm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(sZ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const iZ=40;class _L{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JJ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Rr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!rZ(e,r,s,i))if(o)this.options.duration=0;else{l&&l(cm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const He=(t,e,n)=>t+(e-t)*n;function kg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=kg(l,a,t+1/3),i=kg(l,a,t),o=kg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ff(t,e){return n=>n>0?e:t}const Dg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},aZ=[Lv,Wi,aa],lZ=t=>aZ.find(e=>e.test(t));function N1(t){const e=lZ(t);if(!e)return!1;let n=e.parse(t);return e===aa&&(n=oZ(n)),n}const k1=(t,e)=>{const n=N1(t),r=N1(e);if(!n||!r)return Ff(t,e);const s={...n};return i=>(s.red=Dg(n.red,r.red,i),s.green=Dg(n.green,r.green,i),s.blue=Dg(n.blue,r.blue,i),s.alpha=He(n.alpha,r.alpha,i),Wi.transform(s))},cZ=(t,e)=>n=>e(t(n)),Ju=(...t)=>t.reduce(cZ),Uv=new Set(["none","hidden"]);function uZ(t,e){return Uv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dZ(t,e){return n=>He(t,e,n)}function _x(t){return typeof t=="number"?dZ:typeof t=="string"?ex(t)?Ff:Lt.test(t)?k1:pZ:Array.isArray(t)?xL:typeof t=="object"?Lt.test(t)?k1:hZ:Ff}function xL(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>_x(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function hZ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=_x(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fZ(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const pZ=(t,e)=>{const n=vi.createTransformer(e),r=mu(t),s=mu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Uv.has(t)&&!s.values.length||Uv.has(e)&&!r.values.length?uZ(t,e):Ju(xL(fZ(r,s),s.values),n):Ff(t,e)};function EL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?He(t,e,n):_x(t)(t,e)}const mZ=5;function TL(t,e,n){const r=Math.max(e-mZ,0);return YO(n-t(r),e-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function gZ({duration:t=Je.duration,bounce:e=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let s,i,o=1-e;o=fs(Je.minDamping,Je.maxDamping,o),t=fs(Je.minDuration,Je.maxDuration,Zr(t)),o<1?(s=c=>{const d=c*o,h=d*t,p=d-n,y=Bv(c,o),E=Math.exp(-h);return Mg-p/y*E},i=c=>{const h=c*o*t,p=h*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-h),w=Bv(Math.pow(c,2),o);return(-s(c)+Mg>0?-1:1)*((p-y)*E)/w}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Mg+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=vZ(s,i,a);if(t=Jr(t),isNaN(l))return{stiffness:Je.stiffness,damping:Je.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const yZ=12;function vZ(t,e,n){let r=n;for(let s=1;s<yZ;s++)r=r-t(r)/e(r);return r}function Bv(t,e){return t*Math.sqrt(1-e*e)}const wZ=["duration","bounce"],_Z=["stiffness","damping","mass"];function D1(t,e){return e.some(n=>t[n]!==void 0)}function xZ(t){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...t};if(!D1(t,_Z)&&D1(t,wZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Je.mass,stiffness:s,damping:i}}else{const n=gZ(t);e={...e,...n,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function SL(t=Je.visualDuration,e=Je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:y}=xZ({...n,velocity:-Zr(n.velocity||0)}),E=p||0,w=c/(2*Math.sqrt(l*d)),x=o-i,v=Zr(Math.sqrt(l/d)),_=Math.abs(x)<5;r||(r=_?Je.restSpeed.granular:Je.restSpeed.default),s||(s=_?Je.restDelta.granular:Je.restDelta.default);let S;if(w<1){const P=Bv(v,w);S=O=>{const C=Math.exp(-w*v*O);return o-C*((E+w*v*x)/P*Math.sin(P*O)+x*Math.cos(P*O))}}else if(w===1)S=P=>o-Math.exp(-v*P)*(x+(E+v*x)*P);else{const P=v*Math.sqrt(w*w-1);S=O=>{const C=Math.exp(-w*v*O),b=Math.min(P*O,300);return o-C*((E+w*v*x)*Math.sinh(b)+P*x*Math.cosh(b))/P}}const A={calculatedDuration:y&&h||null,next:P=>{const O=S(P);if(y)a.done=P>=h;else{let C=0;w<1&&(C=P===0?Jr(E):TL(S,P,O));const b=Math.abs(C)<=r,I=Math.abs(o-O)<=s;a.done=b&&I}return a.value=a.done?o:O,a},toString:()=>{const P=Math.min($O(A),Dv),O=zO(C=>A.next(P*C).value,P,30);return P+"ms "+O}};return A}function M1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},y=b=>a!==void 0&&b<a||l!==void 0&&b>l,E=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let w=n*e;const x=h+w,v=o===void 0?x:o(x);v!==x&&(w=v-h);const _=b=>-w*Math.exp(-b/r),S=b=>v+_(b),A=b=>{const I=_(b),N=S(b);p.done=Math.abs(I)<=c,p.value=p.done?v:N};let P,O;const C=b=>{y(p.value)&&(P=b,O=SL({keyframes:[p.value,E(p.value)],velocity:TL(S,b,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let I=!1;return!O&&P===void 0&&(I=!0,A(b),C(b)),P!==void 0&&b>=P?O.next(b-P):(!I&&A(b),p)}}}const EZ=Xu(.42,0,1,1),TZ=Xu(0,0,.58,1),bL=Xu(.42,0,.58,1),SZ=t=>Array.isArray(t)&&typeof t[0]!="number",bZ={linear:_n,easeIn:EZ,easeInOut:bL,easeOut:TZ,circIn:mx,circInOut:iL,circOut:sL,backIn:px,backInOut:nL,backOut:tL,anticipate:rL},O1=t=>{if(cx(t)){EO(t.length===4);const[e,n,r,s]=t;return Xu(e,n,r,s)}else if(typeof t=="string")return bZ[t];return t};function CZ(t,e,n){const r=[],s=n||EL,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||_n:e;a=Ju(l,a)}r.push(a)}return r}function AZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(EO(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=CZ(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Za(t[h],t[h+1],d);return a[h](p)};return n?d=>c(fs(t[0],t[i-1],d)):c}function IZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Za(0,e,r);t.push(He(n,1,s))}}function PZ(t){const e=[0];return IZ(e,t.length-1),e}function RZ(t,e){return t.map(n=>n*e)}function NZ(t,e){return t.map(()=>e||bL).splice(0,t.length-1)}function Uf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=SZ(r)?r.map(O1):O1(r),i={done:!1,value:e[0]},o=RZ(n&&n.length===e.length?n:PZ(e),t),a=AZ(o,e,{ease:Array.isArray(s)?s:NZ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const kZ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Be.update(e,!0),stop:()=>yi(e),now:()=>Ct.isProcessing?Ct.timestamp:Rr.now()}},DZ={decay:M1,inertia:M1,tween:Uf,keyframes:Uf,spring:SL},MZ=t=>t/100;class xx extends _L{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||wx,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=lx(n)?n:DZ[n]||Uf;let l,c;a!==Uf&&typeof e[0]!="number"&&(l=Ju(MZ,EL(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=$O(d));const{calculatedDuration:h}=d,p=h+s,y=p*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:y,repeatType:E,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,A=i;if(y){const b=Math.min(this.currentTime,d)/h;let I=Math.floor(b),N=b%1;!N&&b>=1&&(N=1),N===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(E==="reverse"?(N=1-N,w&&(N-=w/h)):E==="mirror"&&(A=o)),S=fs(0,1,N)*h}const P=_?{done:!1,value:l[0]}:A.next(S);a&&(P.value=a(P.value));let{done:O}=P;!_&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&s!==void 0&&(P.value=cm(l,this.options,s)),x&&x(P.value),C&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Zr(e.calculatedDuration):0}get time(){return Zr(this.currentTime)}set time(e){e=Jr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kZ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const OZ=new Set(["opacity","clipPath","filter","transform"]);function LZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=WO(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const VZ=G0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bf=10,jZ=2e4;function FZ(t){return lx(t.type)||t.type==="spring"||!HO(t.ease)}function UZ(t,e){const n=new xx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<jZ;)r=n.sample(i),s.push(r.value),i+=Bf;return{times:void 0,keyframes:s,duration:i-Bf,ease:"linear"}}const CL={anticipate:rL,backInOut:nL,circInOut:iL};function BZ(t){return t in CL}class L1 extends _L{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new wL(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&jf()&&BZ(i)&&(i=CL[i]),FZ(this.options)){const{onComplete:h,onUpdate:p,motionValue:y,element:E,...w}=this.options,x=UZ(e,w);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const d=LZ(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(_1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(cm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Zr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Zr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Jr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _n;const{animation:r}=n;_1(r,e)}return _n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...y}=this.options,E=new xx({...y,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=Jr(this.time);c.setWithVelocity(E.sample(w-Bf).value,E.sample(w).value,Bf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return VZ()&&r&&OZ.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const $Z={type:"spring",stiffness:500,damping:25,restSpeed:10},zZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HZ={type:"keyframes",duration:.8},WZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qZ=(t,{keyframes:e})=>e.length>2?HZ:ko.has(t)?t.startsWith("scale")?zZ(e[1]):$Z:WZ;function GZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Ex=(t,e,n,r={},s,i)=>o=>{const a=ax(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Jr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};GZ(a)||(d={...d,...qZ(t,d)}),d.duration&&(d.duration=Jr(d.duration)),d.repeatDelay&&(d.repeatDelay=Jr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const p=cm(d.keyframes,a);if(p!==void 0)return Be.update(()=>{d.onUpdate(p),d.onComplete()}),new hJ([])}return!i&&L1.supports(d)?new L1(d):new xx(d)};function KZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function AL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),y=l[h];if(y===void 0||d&&KZ(d,h))continue;const E={delay:n,...ax(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const v=XO(t);if(v){const _=window.MotionHandoffAnimation(v,h,Be);_!==null&&(E.startTime=_,w=!0)}}Ov(t,h),p.start(Ex(h,p,y,t.shouldReduceMotion&&QO.has(h)?{type:!1}:E,t,w));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{Be.update(()=>{a&&CJ(t,a)})}),c}function $v(t,e,n={}){var r;const s=lm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(AL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return QZ(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function QZ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(YZ).forEach((c,d)=>{c.notify("AnimationStart",e),o.push($v(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function YZ(t,e){return t.sortNodePosition(e)}function XZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>$v(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=$v(t,e,n);else{const s=typeof e=="function"?lm(t,e,n.custom):e;r=Promise.all(AL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const JZ=Q0.length;function IL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JZ;n++){const r=Q0[n],s=t.props[r];(hu(s)||s===!1)&&(e[r]=s)}return e}const ZZ=[...K0].reverse(),eee=K0.length;function tee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>XZ(t,n,r)))}function nee(t){let e=tee(t),n=V1(),r=!0;const s=l=>(c,d)=>{var h;const p=lm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:y,transitionEnd:E,...w}=p;c={...c,...w,...E}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=IL(t.parent)||{},h=[],p=new Set;let y={},E=1/0;for(let x=0;x<eee;x++){const v=ZZ[x],_=n[v],S=c[v]!==void 0?c[v]:d[v],A=hu(S),P=v===l?_.isActive:null;P===!1&&(E=x);let O=S===d[v]&&S!==c[v]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...y},!_.isActive&&P===null||!S&&!_.prevProp||om(S)||typeof S=="boolean")continue;const C=ree(_.prevProp,S);let b=C||v===l&&_.isActive&&!O&&A||x>E&&A,I=!1;const N=Array.isArray(S)?S:[S];let k=N.reduce(s(v),{});P===!1&&(k={});const{prevResolvedValues:M={}}=_,D={...M,...k},z=J=>{b=!0,p.has(J)&&(I=!0,p.delete(J)),_.needsAnimating[J]=!0;const V=t.getValue(J);V&&(V.liveStyle=!1)};for(const J in D){const V=k[J],F=M[J];if(y.hasOwnProperty(J))continue;let K=!1;kv(V)&&kv(F)?K=!BO(V,F):K=V!==F,K?V!=null?z(J):p.add(J):V!==void 0&&p.has(J)?z(J):_.protectedKeys[J]=!0}_.prevProp=S,_.prevResolvedValues=k,_.isActive&&(y={...y,...k}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(O&&C)||I)&&h.push(...N.map(J=>({animation:J,options:{type:v}})))}if(p.size){const x={};p.forEach(v=>{const _=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),x[v]=_??null}),h.push({animation:x})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=V1(),r=!0}}}function ree(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BO(e,t):!1}function Mi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:Mi(!0),whileInView:Mi(),whileHover:Mi(),whileTap:Mi(),whileDrag:Mi(),whileFocus:Mi(),exit:Mi()}}class Ai{constructor(e){this.isMounted=!1,this.node=e}update(){}}class see extends Ai{constructor(e){super(e),e.animationState||(e.animationState=nee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iee=0;class oee extends Ai{constructor(){super(...arguments),this.id=iee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const aee={animation:{Feature:see},exit:{Feature:oee}};function gu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Zu(t){return{point:{x:t.pageX,y:t.pageY}}}const lee=t=>e=>ux(e)&&t(e,Zu(e));function Pc(t,e,n,r){return gu(t,e,lee(n),r)}const j1=(t,e)=>Math.abs(t-e);function cee(t,e){const n=j1(t.x,e.x),r=j1(t.y,e.y);return Math.sqrt(n**2+r**2)}class PL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Lg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=cee(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:E}=h,{timestamp:w}=Ct;this.history.push({...E,timestamp:w});const{onStart:x,onMove:v}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Og(p,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Lg(h.type==="pointercancel"?this.lastMoveEventInfo:Og(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,x),E&&E(h,x)},!ux(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Zu(e),a=Og(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ct;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Lg(a,this.history)),this.removeListeners=Ju(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yi(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function F1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lg({point:t},e){return{point:t,delta:F1(t,RL(e)),offset:F1(t,uee(e)),velocity:dee(e,.1)}}function uee(t){return t[0]}function RL(t){return t[t.length-1]}function dee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Jr(e)));)n--;if(!r)return{x:0,y:0};const i=Zr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const NL=1e-4,hee=1-NL,fee=1+NL,kL=.01,pee=0-kL,mee=0+kL;function En(t){return t.max-t.min}function gee(t,e,n){return Math.abs(t-e)<=n}function U1(t,e,n,r=.5){t.origin=r,t.originPoint=He(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=He(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hee&&t.scale<=fee||isNaN(t.scale))&&(t.scale=1),(t.translate>=pee&&t.translate<=mee||isNaN(t.translate))&&(t.translate=0)}function Rc(t,e,n,r){U1(t.x,e.x,n.x,r?r.originX:void 0),U1(t.y,e.y,n.y,r?r.originY:void 0)}function B1(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function yee(t,e,n){B1(t.x,e.x,n.x),B1(t.y,e.y,n.y)}function $1(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Nc(t,e,n){$1(t.x,e.x,n.x),$1(t.y,e.y,n.y)}function vee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?He(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?He(n,t,r.max):Math.min(t,n)),t}function z1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wee(t,{top:e,left:n,bottom:r,right:s}){return{x:z1(t.x,n,s),y:z1(t.y,e,r)}}function H1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _ee(t,e){return{x:H1(t.x,e.x),y:H1(t.y,e.y)}}function xee(t,e){let n=.5;const r=En(t),s=En(e);return s>r?n=Za(e.min,e.max-r,t.min):r>s&&(n=Za(t.min,t.max-s,e.min)),fs(0,1,n)}function Eee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zv=.35;function Tee(t=zv){return t===!1?t=0:t===!0&&(t=zv),{x:W1(t,"left","right"),y:W1(t,"top","bottom")}}function W1(t,e,n){return{min:q1(t,e),max:q1(t,n)}}function q1(t,e){return typeof t=="number"?t:t[e]||0}const G1=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:G1(),y:G1()}),K1=()=>({min:0,max:0}),st=()=>({x:K1(),y:K1()});function An(t){return[t("x"),t("y")]}function DL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function See({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vg(t){return t===void 0||t===1}function Hv({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function ji(t){return Hv(t)||ML(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ML(t){return Q1(t.x)||Q1(t.y)}function Q1(t){return t&&t!=="0%"}function $f(t,e,n){const r=t-n,s=e*r;return n+s}function Y1(t,e,n,r,s){return s!==void 0&&(t=$f(t,s,r)),$f(t,n,r)+e}function Wv(t,e=0,n=1,r,s){t.min=Y1(t.min,e,n,r,s),t.max=Y1(t.max,e,n,r,s)}function OL(t,{x:e,y:n}){Wv(t.x,e.translate,e.scale,e.originPoint),Wv(t.y,n.translate,n.scale,n.originPoint)}const X1=.999999999999,J1=1.0000000000001;function Cee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ua(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OL(t,o)),r&&ji(i.latestValues)&&ua(t,i.latestValues))}e.x<J1&&e.x>X1&&(e.x=1),e.y<J1&&e.y>X1&&(e.y=1)}function ca(t,e){t.min=t.min+e,t.max=t.max+e}function Z1(t,e,n,r,s=.5){const i=He(t.min,t.max,s);Wv(t,e,n,i,r)}function ua(t,e){Z1(t.x,e.x,e.scaleX,e.scale,e.originX),Z1(t.y,e.y,e.scaleY,e.scale,e.originY)}function LL(t,e){return DL(bee(t.getBoundingClientRect(),e))}function Aee(t,e,n){const r=LL(t,n),{scroll:s}=e;return s&&(ca(r.x,s.offset.x),ca(r.y,s.offset.y)),r}const VL=({current:t})=>t?t.ownerDocument.defaultView:null,Iee=new WeakMap;class Pee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zu(d).point)},i=(d,h)=>{const{drag:p,dragPropagation:y,onDragStart:E}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xJ(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Pr.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[x];S&&(v=En(S)*(parseFloat(v)/100))}}this.originPoint[x]=v}),E&&Be.postRender(()=>E(d,h)),Ov(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:E,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(y&&this.currentDirection===null){this.currentDirection=Ree(x),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>An(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:VL(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Be.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Xd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=vee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&oa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=wee(s.layoutBox,n):this.constraints=!1,this.elastic=Tee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&An(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Eee(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Aee(r,s.root,this.visualElement.getTransformPagePoint());let o=_ee(s.layout.layoutBox,i);if(n){const a=n(See(o));this.hasMutatedConstraints=!!a,a&&(o=DL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=An(d=>{if(!Xd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ov(this.visualElement,e),r.start(Ex(e,r,0,n,this.visualElement,!1))}stopAnimation(){An(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){An(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){An(n=>{const{drag:r}=this.getProps();if(!Xd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-He(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};An(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=xee({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),An(o=>{if(!Xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(He(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Iee.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();oa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Be.read(r);const o=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(An(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ree(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Nee extends Ai{constructor(e){super(e),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new Pee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const eC=t=>(e,n)=>{t&&Be.postRender(()=>t(e,n))};class kee extends Ai{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(e){this.session=new PL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:eC(e),onStart:eC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Be.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=tC(t,e.target.x),r=tC(t,e.target.y);return`${n}% ${r}%`}},Dee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=vi.parse(t);if(s.length>5)return r;const i=vi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=He(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Mee extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;eJ(Oee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),X0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jL(t){const[e,n]=_O(),r=m.useContext(z0);return f.jsx(Mee,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(IO),isPresent:e,safeToRemove:n})}const Oee={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:Dee};function Lee(t,e,n){const r=Ft(t)?t:pu(t);return r.start(Ex("",r,e,n)),r.animation}function Vee(t){return t instanceof SVGElement&&t.tagName!=="svg"}const jee=(t,e)=>t.depth-e.depth;class Fee{constructor(){this.children=[],this.isDirty=!1}add(e){dx(this.children,e),this.isDirty=!0}remove(e){hx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jee),this.isDirty=!1,this.children.forEach(e)}}function Uee(t,e){const n=Rr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(yi(r),t(i-e))};return Be.read(r,!0),()=>yi(r)}const FL=["TopLeft","TopRight","BottomLeft","BottomRight"],Bee=FL.length,nC=t=>typeof t=="string"?parseFloat(t):t,rC=t=>typeof t=="number"||se.test(t);function $ee(t,e,n,r,s,i){s?(t.opacity=He(0,n.opacity!==void 0?n.opacity:1,zee(r)),t.opacityExit=He(e.opacity!==void 0?e.opacity:1,0,Hee(r))):i&&(t.opacity=He(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Bee;o++){const a=`border${FL[o]}Radius`;let l=sC(e,a),c=sC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||rC(l)===rC(c)?(t[a]=Math.max(He(nC(l),nC(c),r),0),(Pr.test(c)||Pr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=He(e.rotate||0,n.rotate||0,r))}function sC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zee=UL(0,.5,sL),Hee=UL(.5,.95,_n);function UL(t,e,n){return r=>r<t?0:r>e?1:n(Za(t,e,r))}function iC(t,e){t.min=e.min,t.max=e.max}function Cn(t,e){iC(t.x,e.x),iC(t.y,e.y)}function oC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aC(t,e,n,r,s){return t-=e,t=$f(t,1/n,r),s!==void 0&&(t=$f(t,1/s,r)),t}function Wee(t,e=0,n=1,r=.5,s,i=t,o=t){if(Pr.test(e)&&(e=parseFloat(e),e=He(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=He(i.min,i.max,r);t===i&&(a-=e),t.min=aC(t.min,e,n,a,s),t.max=aC(t.max,e,n,a,s)}function lC(t,e,[n,r,s],i,o){Wee(t,e[n],e[r],e[s],e.scale,i,o)}const qee=["x","scaleX","originX"],Gee=["y","scaleY","originY"];function cC(t,e,n,r){lC(t.x,e,qee,n?n.x:void 0,r?r.x:void 0),lC(t.y,e,Gee,n?n.y:void 0,r?r.y:void 0)}function uC(t){return t.translate===0&&t.scale===1}function BL(t){return uC(t.x)&&uC(t.y)}function dC(t,e){return t.min===e.min&&t.max===e.max}function Kee(t,e){return dC(t.x,e.x)&&dC(t.y,e.y)}function hC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $L(t,e){return hC(t.x,e.x)&&hC(t.y,e.y)}function fC(t){return En(t.x)/En(t.y)}function pC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qee{constructor(){this.members=[]}add(e){dx(this.members,e),e.scheduleRender()}remove(e){if(hx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:y,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lc=typeof window<"u"&&window.MotionDebug!==void 0,jg=["","X","Y","Z"],Xee={visibility:"hidden"},mC=1e3;let Jee=0;function Fg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zL(r)}function HL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Jee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lc&&(Fi.totalNodes=Fi.resolvedTargetDeltas=Fi.recalculatedProjection=0),this.nodes.forEach(tte),this.nodes.forEach(ote),this.nodes.forEach(ate),this.nodes.forEach(nte),lc&&window.MotionDebug.record(Fi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vee(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Uee(p,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(yC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||hte,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),_=!this.targetLayout||!$L(this.targetLayout,E)||y,S=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const A={...ax(w,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||yC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gC);return}this.isUpdating||this.nodes.forEach(ste),this.isUpdating=!1,this.nodes.forEach(ite),this.nodes.forEach(Zee),this.nodes.forEach(ete),this.clearAllSnapshots();const a=Rr.now();Ct.delta=fs(0,1e3/60,a-Ct.timestamp),Ct.timestamp=a,Ct.isProcessing=!0,Pg.update.process(Ct),Pg.preRender.process(Ct),Pg.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,X0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rte),this.sharedNodes.forEach(cte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!BL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ji(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return st();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(pte))){const{scroll:d}=this.root;d&&(ca(l.x,d.offset.x),ca(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=st();if(Cn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Cn(l,o),ca(l.x,h.offset.x),ca(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=st();Cn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ua(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ji(d.latestValues)&&ua(l,d.latestValues)}return ji(this.latestValues)&&ua(l,this.latestValues),l}removeTransform(o){const a=st();Cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ji(c.latestValues))continue;Hv(c.latestValues)&&c.updateSnapshot();const d=st(),h=c.measurePageBox();Cn(d,h),cC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ji(this.latestValues)&&cC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Nc(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),OL(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Nc(this.relativeTargetOrigin,this.target,y.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lc&&Fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hv(this.parent.latestValues)||ML(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Cn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;Cee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=st());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oC(this.prevProjectionDelta.x,this.projectionDelta.x),oC(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!pC(this.projectionDelta.x,this.prevProjectionDelta.x)||!pC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),lc&&Fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=st(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,w=y!==E,x=this.getStack(),v=!x||x.members.length<=1,_=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(dte));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const P=A/1e3;vC(h.x,o.x,P),vC(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ute(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&Kee(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=st()),Cn(S,this.relativeTarget)),w&&(this.animationValues=d,$ee(d,c,this.latestValues,P,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{Ah.hasAnimatedSinceResize=!0,this.currentAnimation=Lee(0,mC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&WL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||st();const h=En(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=En(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Cn(a,l),ua(a,d),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Qee),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Fg("z",o,c,this.animationValues);for(let d=0;d<jg.length;d++)Fg(`rotate${jg[d]}`,o,c,this.animationValues),Fg(`skew${jg[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Xee;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bh(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=bh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ji(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Yee(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:y,y:E}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Vf){if(p[w]===void 0)continue;const{correct:x,applyTo:v}=Vf[w],_=c.transform==="none"?p[w]:x(p[w],h);if(v){const S=v.length;for(let A=0;A<S;A++)c[v[A]]=_}else c[w]=_}return this.options.layoutId&&(c.pointerEvents=h===this?bh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(gC),this.root.sharedNodes.clear()}}}function Zee(t){t.updateLayout()}function ete(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?An(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=En(p);p.min=r[h].min,p.max=p.min+y}):WL(i,n.layoutBox,r)&&An(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=En(r[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=la();Rc(a,r,n.layoutBox);const l=la();o?Rc(l,t.applyTransform(s,!0),n.measuredBox):Rc(l,r,n.layoutBox);const c=!BL(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const E=st();Nc(E,n.layoutBox,p.layoutBox);const w=st();Nc(w,r,y.layoutBox),$L(E,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tte(t){lc&&Fi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rte(t){t.clearSnapshot()}function gC(t){t.clearMeasurements()}function ste(t){t.isLayoutDirty=!1}function ite(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ote(t){t.resolveTargetDelta()}function ate(t){t.calcProjection()}function lte(t){t.resetSkewAndRotation()}function cte(t){t.removeLeadSnapshot()}function vC(t,e,n){t.translate=He(e.translate,0,n),t.scale=He(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wC(t,e,n,r){t.min=He(e.min,n.min,r),t.max=He(e.max,n.max,r)}function ute(t,e,n,r){wC(t.x,e.x,n.x,r),wC(t.y,e.y,n.y,r)}function dte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hte={duration:.45,ease:[.4,0,.1,1]},_C=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xC=_C("applewebkit/")&&!_C("chrome/")?Math.round:_n;function EC(t){t.min=xC(t.min),t.max=xC(t.max)}function fte(t){EC(t.x),EC(t.y)}function WL(t,e,n){return t==="position"||t==="preserve-aspect"&&!gee(fC(e),fC(n),.2)}function pte(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const mte=HL({attachResizeListener:(t,e)=>gu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ug={current:void 0},qL=HL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ug.current){const t=new mte({});t.mount(window),t.setOptions({layoutScroll:!0}),Ug.current=t}return Ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gte={pan:{Feature:kee},drag:{Feature:Nee,ProjectionNode:qL,MeasureLayout:jL}};function TC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Be.postRender(()=>i(e,Zu(e)))}class yte extends Ai{mount(){const{current:e}=this.node;e&&(this.unmount=gJ(e,n=>(TC(this.node,n,"Start"),r=>TC(this.node,r,"End"))))}unmount(){}}class vte extends Ai{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ju(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SC(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Be.postRender(()=>i(e,Zu(e)))}class wte extends Ai{mount(){const{current:e}=this.node;e&&(this.unmount=_J(e,n=>(SC(this.node,n,"Start"),(r,{success:s})=>SC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qv=new WeakMap,Bg=new WeakMap,_te=t=>{const e=qv.get(t.target);e&&e(t)},xte=t=>{t.forEach(_te)};function Ete({root:t,...e}){const n=t||document;Bg.has(n)||Bg.set(n,{});const r=Bg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(xte,{root:t,...e})),r[s]}function Tte(t,e,n){const r=Ete(e);return qv.set(t,n),r.observe(t),()=>{qv.delete(t),r.unobserve(t)}}const Ste={some:0,all:1};class bte extends Ai{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Ste[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return Tte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cte(e,n))&&this.startObserver()}unmount(){}}function Cte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ate={inView:{Feature:bte},tap:{Feature:wte},focus:{Feature:vte},hover:{Feature:yte}},Ite={layout:{ProjectionNode:qL,MeasureLayout:jL}},Gv={current:null},GL={current:!1};function Pte(){if(GL.current=!0,!!q0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gv.current=t.matches;t.addListener(e),e()}else Gv.current=!1}const Rte=[...vL,Lt,vi],Nte=t=>Rte.find(yL(t)),bC=new WeakMap;function kte(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ft(s))t.addValue(r,s);else if(Ft(i))t.addValue(r,pu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,pu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Rr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Be.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=am(n),this.isVariantNode=CO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const E=p[y];l[y]!==void 0&&Ft(E)&&E.set(l[y],!1)}}mount(e){this.current=e,bC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GL.current||Pte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bC.delete(this.current),this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ko.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CC.length;r++){const s=CC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=kte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(mL(s)||oL(s))?s=parseFloat(s):!Nte(s)&&vi.test(n)&&(s=hL(e,n)),this.setBaseTarget(e,Ft(s)?s.get():s)),Ft(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Z0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ft(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KL extends Dte{constructor(){super(...arguments),this.KeyframeResolver=wL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Mte(t){return window.getComputedStyle(t)}class Ote extends KL{constructor(){super(...arguments),this.type="html",this.renderInstance=OO}readValueFromInstance(e,n){if(ko.has(n)){const r=vx(n);return r&&r.default||0}else{const r=Mte(e),s=(kO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LL(e,n)}build(e,n,r){nx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ox(e,n,r)}}class Lte extends KL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ko.has(n)){const r=vx(n);return r&&r.default||0}return n=LO.has(n)?n:Y0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FO(e,n,r)}build(e,n,r){rx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){VO(e,n,r,s)}mount(e){this.isSVGTag=ix(e.tagName),super.mount(e)}}const Vte=(t,e)=>J0(t)?new Lte(e):new Ote(e,{allowProjection:t!==m.Fragment}),jte=cJ({...aee,...Ate,...gte,...Ite},Vte),AC=SX(jte);function Fte(t){const e=t.toLowerCase();return e.includes("rice")||e.includes("curry")||e.includes("food")?ic.rice:e.includes("room")||e.includes("boarding")||e.includes("stay")?ic.boarding:e.includes("tuk")||e.includes("transport")||e.includes("ride")?ic.transport:e.includes("laundry")||e.includes("wash")||e.includes("clothes")?ic.laundry:"I can help you find services near campus! Try asking about boarding, food, transport, or laundry."}function Ute(){const[t,e]=m.useState(!1),[n,r]=m.useState([{id:"1",text:ic.default,isBot:!0,timestamp:new Date}]),[s,i]=m.useState(""),o=m.useRef(null);m.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[n]);const a=l=>{if(l.preventDefault(),!s.trim())return;const c={id:Date.now().toString(),text:s,isBot:!1,timestamp:new Date};r(d=>[...d,c]),i(""),setTimeout(()=>{const d={id:(Date.now()+1).toString(),text:Fte(s),isBot:!0,timestamp:new Date};r(h=>[...h,d])},800)};return f.jsxs(f.Fragment,{children:[f.jsx(gX,{children:t&&f.jsx(AC.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-24 right-4 z-50 w-[350px] sm:w-[400px]",children:f.jsxs(Mr,{className:"overflow-hidden shadow-xl",children:[f.jsxs("div",{className:"bg-primary p-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-primary-foreground/20 rounded-full p-2",children:f.jsx(JT,{className:"h-5 w-5 text-primary-foreground"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-primary-foreground",children:"UniHub Assistant"}),f.jsx("p",{className:"text-xs text-primary-foreground/70",children:"Always here to help"})]})]}),f.jsx(de,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"text-primary-foreground hover:bg-primary-foreground/20","data-testid":"button-close-chat",children:f.jsx(ss,{className:"h-5 w-5"})})]}),f.jsx(B0,{className:"h-[300px] p-4",ref:o,children:f.jsx("div",{className:"space-y-4",children:n.map(l=>f.jsxs("div",{className:`flex gap-2 ${l.isBot?"":"flex-row-reverse"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${l.isBot?"bg-primary text-primary-foreground":"bg-muted"}`,children:l.isBot?f.jsx(JT,{className:"h-4 w-4"}):f.jsx($U,{className:"h-4 w-4"})}),f.jsx("div",{className:`rounded-lg px-3 py-2 max-w-[80%] ${l.isBot?"bg-muted":"bg-primary text-primary-foreground"}`,children:f.jsx("p",{className:"text-sm",children:l.text})})]},l.id))})}),f.jsx("form",{onSubmit:a,className:"p-4 border-t",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(cr,{value:s,onChange:l=>i(l.target.value),placeholder:"Ask me anything...",className:"flex-1","data-testid":"input-chat"}),f.jsx(de,{type:"submit",size:"icon","data-testid":"button-send-chat",children:f.jsx(MU,{className:"h-4 w-4"})})]})})]})})}),f.jsx(AC.div,{className:"fixed bottom-6 right-6 z-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(de,{size:"lg",className:"rounded-full w-14 h-14 shadow-lg",onClick:()=>e(!t),"data-testid":"button-chatbot",children:t?f.jsx(ss,{className:"h-6 w-6"}):f.jsx(KP,{className:"h-6 w-6"})})})]})}function Bte({onSearch:t}){const[e,n]=m.useState(""),{t:r}=bn(),s=o=>{o.preventDefault(),t(e)},i=()=>{n(""),t("")};return f.jsx("section",{className:"relative py-24 md:py-32 overflow-hidden bg-background",children:f.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 text-center z-10",children:[f.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.1s"},children:f.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 text-foreground",children:[r("heroTitle")," ",f.jsx("span",{className:"text-primary",children:r("heroTitleHighlight")})]})}),f.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:f.jsx("p",{className:"text-muted-foreground text-lg md:text-xl mb-12 max-w-2xl mx-auto leading-relaxed",children:r("heroSubtitle")})}),f.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.3s"},children:f.jsx("form",{onSubmit:s,className:"max-w-xl mx-auto relative",children:f.jsxs("div",{className:"relative flex gap-2 p-1 rounded-full border shadow-sm hover:shadow-md transition-shadow bg-card",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(DU,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),f.jsx(cr,{type:"search",placeholder:r("searchPlaceholder"),value:e,onChange:o=>n(o.target.value),className:"pl-12 pr-10 h-12 text-base border-0 shadow-none focus-visible:ring-0 bg-transparent rounded-full","data-testid":"input-search"}),e&&f.jsx("button",{type:"button",onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground p-1 rounded-full hover:bg-secondary/50 transition-colors",children:f.jsx(ss,{className:"h-4 w-4"})})]}),f.jsx(de,{type:"submit",size:"lg",className:"h-12 px-8 rounded-full","data-testid":"button-search",children:r("searchButton")})]})})}),f.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-3 text-sm text-muted-foreground animate-slide-up",style:{animationDelay:"0.4s"},children:[f.jsx("span",{className:"font-medium py-1",children:r("trending")}),["Boarding Places","Lunch Packets","Tuk Rides","Used Books"].map(o=>f.jsx("button",{onClick:()=>{n(o),t(o)},className:"px-3 py-1 rounded-full bg-secondary/50 hover:bg-secondary hover:text-foreground transition-colors","data-testid":`link-popular-${o.toLowerCase().replace(/ & /g,"-").replace(" ","-")}`,children:o},o))]})]})})}const $te={Home:AU,Utensils:zU,Car:wU,ShoppingBag:jU,Briefcase:vU,Shirt:VU};function zte({selectedCategory:t,onCategoryChange:e}){const{t:n}=bn();return f.jsx("section",{className:"py-4 border-b",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4",children:f.jsxs(B0,{className:"w-full whitespace-nowrap",children:[f.jsxs("div",{className:"flex gap-2 pb-2",children:[f.jsx(de,{variant:t===null?"default":"outline",onClick:()=>e(null),className:"flex-shrink-0","data-testid":"button-category-all",children:n("catAll")}),rO.map(r=>{const s=$te[r.icon],i=t===r.id,o=`cat${r.id.charAt(0).toUpperCase()+r.id.slice(1)}`;return f.jsxs(de,{variant:i?"default":"outline",onClick:()=>e(r.id),className:"flex-shrink-0 gap-2","data-testid":`button-category-${r.id}`,children:[s&&f.jsx(s,{className:"h-4 w-4"}),n(o)||r.name]},r.id)})]}),f.jsx($0,{orientation:"horizontal"})]})})})}const Hte=hp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Tx({className:t,variant:e,...n}){return f.jsx("div",{className:le(Hte({variant:e}),t),...n})}function Wte({listing:t,onContact:e}){var p;const{t:n}=bn(),{user:r,isAuthenticated:s}=Po(),{toast:i}=Cu(),[o,a]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{r&&t.likes?a(t.likes.includes(r.uid)):a(!1)},[r,t.likes]);const d=((p=t.images)==null?void 0:p[0])||t.image,h=async y=>{if(y.stopPropagation(),!s||!r){i({title:"Please sign in",description:"You need to be signed in to watch listings.",variant:"destructive"});return}try{c(!0),a(!o),await Vq(t.id,r.uid)}catch{a(!o),i({title:"Error",description:"Failed to update watch status.",variant:"destructive"})}finally{c(!1)}};return f.jsxs(Mr,{className:"overflow-hidden group hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-border/50","data-testid":`card-listing-${t.id}`,children:[f.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[f.jsx("img",{src:d,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.verified&&f.jsxs(Tx,{className:"absolute top-2 left-2 gap-1 bg-green-600/90 hover:bg-green-700 backdrop-blur-sm shadow-sm",children:[f.jsx(WP,{className:"h-3 w-3"}),n("verified")]}),f.jsx(de,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-white hover:bg-white/20 hover:text-white",onClick:h,disabled:l,children:f.jsx(sa,{className:`h-5 w-5 ${o?"fill-yellow-400 text-yellow-400":""}`})}),f.jsx("div",{className:"absolute bottom-2 left-2 right-2 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:f.jsxs(de,{className:"w-full gap-2 bg-white/90 text-black hover:bg-white",size:"sm",onClick:y=>{y.stopPropagation(),e(t)},children:[f.jsx(wc,{className:"h-4 w-4"}),n("quickContact")]})})]}),f.jsxs(wo,{className:"p-4",children:[f.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:f.jsx("h3",{className:"font-semibold line-clamp-1 flex-1 group-hover:text-primary transition-colors","data-testid":`text-title-${t.id}`,children:t.title})}),f.jsxs("div",{className:"flex items-baseline gap-1 mb-2",children:[f.jsx("span",{className:"text-lg font-bold text-primary","data-testid":`text-price-${t.id}`,children:t.price}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",t.priceType]})]}),f.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-3",children:[f.jsx(Xc,{className:"h-3.5 w-3.5 flex-shrink-0 text-primary/70"}),f.jsx("span",{className:"truncate",children:t.location}),f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-secondary text-secondary-foreground",children:t.distance})]}),t.rating>0&&f.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[f.jsx("div",{className:"flex",children:[...Array(5)].map((y,E)=>f.jsx(sa,{className:`h-3.5 w-3.5 ${E<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"fill-muted text-muted"}`},E))}),f.jsx("span",{className:"text-sm font-medium ml-1",children:t.rating}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviews,")"]})]}),f.jsx(de,{className:"w-full gap-2 group-hover:bg-primary group-hover:text-primary-foreground transition-colors",variant:"outline",onClick:()=>e(t),"data-testid":`button-contact-${t.id}`,children:n("viewDetails")})]})]})}function Kv({listings:t,onContact:e}){return t.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-muted-foreground",children:"No listings found. Try a different category or search term."})}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>f.jsx(Wte,{listing:n,onContact:e},n.id))})}const qte=[{x:25,y:30},{x:45,y:45},{x:70,y:25},{x:60,y:60},{x:30,y:70},{x:80,y:50}];function QL({listings:t,onListingClick:e}){return f.jsxs(Mr,{className:"relative w-full h-[500px] overflow-hidden bg-gradient-to-br from-blue-50 to-green-50 dark:from-blue-950/30 dark:to-green-950/30",children:[f.jsx("div",{className:"absolute inset-0 opacity-30",children:f.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[f.jsx("path",{d:"M20,20 L80,20 L80,80 L20,80 Z",fill:"none",stroke:"currentColor",strokeWidth:"0.2",className:"text-muted-foreground"}),f.jsx("path",{d:"M30,10 L30,90 M50,10 L50,90 M70,10 L70,90",fill:"none",stroke:"currentColor",strokeWidth:"0.1",className:"text-muted-foreground"}),f.jsx("path",{d:"M10,30 L90,30 M10,50 L90,50 M10,70 L90,70",fill:"none",stroke:"currentColor",strokeWidth:"0.1",className:"text-muted-foreground"})]})}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-primary/30 bg-primary/10 flex items-center justify-center",children:f.jsx(kU,{className:"h-8 w-8 text-primary"})}),f.jsx(Tx,{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 whitespace-nowrap",children:"University Gate"})]})}),t.slice(0,6).map((n,r)=>{const s=qte[r];return f.jsx("button",{onClick:()=>e(n),className:"absolute transform -translate-x-1/2 -translate-y-full group",style:{left:`${s.x}%`,top:`${s.y}%`},"data-testid":`map-pin-${n.id}`,children:f.jsxs("div",{className:"relative",children:[f.jsx(Xc,{className:"h-8 w-8 text-primary fill-primary drop-shadow-md transition-transform group-hover:scale-125"}),f.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:f.jsxs(Mr,{className:"p-2 min-w-[150px] shadow-lg",children:[f.jsx("p",{className:"text-xs font-medium line-clamp-1",children:n.title}),f.jsx("p",{className:"text-xs text-primary font-semibold",children:n.price})]})})]})},n.id)}),f.jsxs("div",{className:"absolute bottom-4 left-4 bg-background/90 backdrop-blur rounded-md p-3 shadow-md",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Showing"}),f.jsxs("p",{className:"text-sm font-semibold",children:[t.length," listings nearby"]})]}),f.jsx("div",{className:"absolute bottom-4 right-4 bg-background/90 backdrop-blur rounded-md p-2 shadow-md",children:f.jsx("p",{className:"text-xs text-muted-foreground",children:"Interactive map placeholder"})})]})}function Gte({view:t,onViewChange:e}){const{t:n}=bn();return f.jsxs("div",{className:"flex items-center gap-1 bg-muted rounded-md p-1",children:[f.jsxs(de,{variant:t==="list"?"default":"ghost",size:"sm",onClick:()=>e("list"),className:"gap-2","data-testid":"button-view-list",children:[f.jsx(GP,{className:"h-4 w-4"}),n("viewList")]}),f.jsxs(de,{variant:t==="map"?"default":"ghost",size:"sm",onClick:()=>e("map"),className:"gap-2","data-testid":"button-view-map",children:[f.jsx(PU,{className:"h-4 w-4"}),n("viewMap")]})]})}function Sx({listing:t,open:e,onClose:n}){var C;const[r,s]=m.useState(!1),[i,o]=m.useState(0),[a,l]=m.useState([]),[c,d]=m.useState(""),[h,p]=m.useState(0),{user:y}=Po(),{toast:E}=Cu(),w=async()=>{if(t)try{const b=await Fq(t.id);l(b)}catch(b){console.error("Error fetching reviews:",b)}};if(m.useEffect(()=>{t&&w()},[t]),!t)return null;const x=t.images&&t.images.length>0?t.images:[t.image],v=async()=>{await navigator.clipboard.writeText(t.phone),s(!0),setTimeout(()=>s(!1),2e3)},_=()=>{window.location.href=`tel:${t.phone.replace(/\s/g,"")}`},S=()=>{const b=t.phone.replace(/[^0-9+]/g,"");window.open(`https://wa.me/${b}`,"_blank")},A=()=>{o(b=>(b+1)%x.length)},P=()=>{o(b=>(b-1+x.length)%x.length)},O=async()=>{if(!y){E({title:"Please sign in to review",variant:"destructive"});return}if(h===0){E({title:"Please select a rating",variant:"destructive"});return}try{await jq({listingId:t.id,userId:y.uid,userName:y.displayName||"Anonymous",rating:h,comment:c}),E({title:"Review submitted!"}),d(""),p(0),w()}catch(b){console.error("Error submitting review:",b),E({title:"Failed to submit review",variant:"destructive"})}};return f.jsx(Xp,{open:e,onOpenChange:n,children:f.jsx(Qu,{className:"sm:max-w-3xl max-h-[90vh] p-0 flex flex-col gap-0",children:f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.jsxs("div",{className:"relative h-64 md:h-80 bg-black/5",children:[f.jsx("img",{src:x[i],alt:t.title,className:"w-full h-full object-contain"}),x.length>1&&f.jsxs(f.Fragment,{children:[f.jsx(de,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",onClick:P,children:f.jsx(_U,{className:"h-6 w-6"})}),f.jsx(de,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",onClick:A,children:f.jsx(HP,{className:"h-6 w-6"})}),f.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:x.map((b,I)=>f.jsx("div",{className:`w-2 h-2 rounded-full ${I===i?"bg-white":"bg-white/50"}`},I))})]}),f.jsx(de,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/50 text-white hover:bg-black/70 rounded-full",onClick:n,children:f.jsx(ss,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.title}),f.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground bg-muted px-2 py-1 rounded-full text-sm",children:[f.jsx(sa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),f.jsxs("span",{children:[((C=t.likes)==null?void 0:C.length)||0," watching"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[f.jsxs("span",{className:"text-xl font-bold text-primary",children:[t.price,"/",t.priceType]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(sa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),f.jsx("span",{className:"font-medium text-foreground",children:t.rating.toFixed(1)}),f.jsxs("span",{children:["(",t.reviews," reviews)"]})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[f.jsxs("div",{className:"flex-1 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),f.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:t.description||"No description provided."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Location"}),f.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[f.jsx(Xc,{className:"h-4 w-4"}),f.jsx("span",{children:t.location}),f.jsx("span",{className:"text-xs bg-secondary px-2 py-0.5 rounded-full text-secondary-foreground",children:t.distance})]}),t.locationLink&&f.jsxs(de,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>window.open(t.locationLink,"_blank"),children:[f.jsx(Xc,{className:"h-4 w-4"}),"View on Google Maps"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Reviews"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[f.jsx("p",{className:"font-medium text-sm",children:"Write a review"}),f.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(b=>f.jsx(sa,{className:`h-5 w-5 cursor-pointer ${b<=h?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`,onClick:()=>p(b)},b))}),f.jsx(O0,{placeholder:"Share your experience...",value:c,onChange:b=>d(b.target.value),className:"min-h-[80px]"}),f.jsx(de,{size:"sm",onClick:O,disabled:!h||!c,children:"Post Review"})]}),a.length===0?f.jsx("p",{className:"text-muted-foreground text-sm italic",children:"No reviews yet."}):a.map(b=>f.jsxs("div",{className:"border-b pb-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:"font-medium",children:b.userName}),f.jsx("div",{className:"flex",children:[...Array(5)].map((I,N)=>f.jsx(sa,{className:`h-3 w-3 ${N<b.rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},N))})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:b.comment})]},b.id))]})]})]}),f.jsx("div",{className:"w-full md:w-80 space-y-4",children:f.jsxs("div",{className:"p-4 border rounded-lg bg-card sticky top-0",children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Contact Seller"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"bg-muted rounded-md p-3 flex items-center justify-between",children:[f.jsx("span",{className:"font-mono font-medium",children:t.phone}),f.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:v,children:r?f.jsx(WP,{className:"h-4 w-4 text-green-600"}):f.jsx(SU,{className:"h-4 w-4"})})]}),f.jsxs(de,{className:"w-full gap-2",onClick:_,children:[f.jsx(wc,{className:"h-4 w-4"}),"Call Now"]}),f.jsxs(de,{variant:"outline",className:"w-full gap-2 border-green-600 text-green-600 hover:bg-green-50",onClick:S,children:[f.jsx(KP,{className:"h-4 w-4"}),"WhatsApp"]})]})]})})]})]})]})})})}function Kte(){const[t,e]=m.useState(null),[n,r]=m.useState(""),[s,i]=m.useState("list"),[o,a]=m.useState(null),[l,c]=m.useState([]),[d,h]=m.useState(!0),{t:p}=bn();m.useEffect(()=>{(async()=>{try{const S=(await Oq()).map(A=>({id:A.id||"",title:A.title,price:A.price,priceType:A.priceType,location:A.location,distance:A.distance,rating:A.rating,reviews:A.reviews,category:A.category,image:A.image,verified:A.verified,phone:A.phone,description:A.description}));c(S)}catch(_){console.error("Error fetching listings:",_)}finally{h(!1)}})()},[]);const y=m.useMemo(()=>[...l,...sO],[l]),E=m.useMemo(()=>y.filter(v=>{const _=!t||v.category===t;if(!n)return _;const A=n.toLowerCase().split(" ").filter(P=>P.length>0).every(P=>v.title.toLowerCase().includes(P)||v.location.toLowerCase().includes(P)||v.category.toLowerCase().includes(P)||v.description&&v.description.toLowerCase().includes(P));return _&&A}),[t,n,y]),w=v=>{r(v),e(null)},x=v=>{const _=`cat${v.charAt(0).toUpperCase()+v.slice(1)}`;return p(_)||v};return f.jsxs("div",{className:"min-h-screen",children:[f.jsx(Bte,{onSearch:w}),f.jsx(zte,{selectedCategory:t,onCategoryChange:e}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold flex items-center gap-3",children:t?`${x(t)}`:n?f.jsxs(f.Fragment,{children:[`${p("resultsFor")} "${n}"`,f.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>w(""),className:"h-8 px-2 text-muted-foreground hover:text-foreground",children:[f.jsx(ss,{className:"h-4 w-4 mr-1"}),"Clear"]})]}):p("allListings")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:d?f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(mr,{className:"h-3 w-3 animate-spin"}),p("loadingListings")]}):`${E.length} ${p("listingsFound")}`})]}),f.jsx(Gte,{view:s,onViewChange:i})]}),d?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(mr,{className:"h-8 w-8 animate-spin text-primary"})}):s==="list"?f.jsx(Kv,{listings:E,onContact:a}):f.jsx(QL,{listings:E,onListingClick:a})]}),f.jsx(Sx,{listing:o,open:!!o,onClose:()=>a(null)})]})}function Qte(){const[t,e]=m.useState(null),{t:n}=bn();return f.jsxs("div",{className:"min-h-screen",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold",children:n("mapTitle")}),f.jsx("p",{className:"text-muted-foreground",children:n("mapDescription")})]}),f.jsx(QL,{listings:sO,onListingClick:e})]}),f.jsx(Sx,{listing:t,open:!!t,onClose:()=>e(null)})]})}const Yte=[{id:"1",author:"Kavitha P.",avatar:"KP",time:"2 hours ago",content:"Anyone know where I can find good photocopying services near the Science faculty? Need to copy notes urgently!",likes:12,replies:5,tags:["question","science-faculty"]},{id:"2",author:"Nuwan J.",avatar:"NJ",time:"5 hours ago",content:"Just found an amazing kottu place on Stanley Road! Rs. 400 for a massive portion. Highly recommend for fellow foodies.",likes:34,replies:8,tags:["food","recommendation"]},{id:"3",author:"Amaya S.",avatar:"AS",time:"1 day ago",content:"PSA: The library will be closed this Saturday for maintenance. Plan your study sessions accordingly!",likes:56,replies:3,tags:["announcement","library"]}];function Xte(){const{t}=bn();return f.jsx("div",{className:"min-h-screen",children:f.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx("div",{className:"bg-primary/10 rounded-full p-3",children:f.jsx(YP,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold",children:t("communityTitle")}),f.jsx("p",{className:"text-muted-foreground",children:t("communityDescription")})]})]}),f.jsx(Mr,{className:"mb-6",children:f.jsx(wo,{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(uu,{children:f.jsx(du,{children:"You"})}),f.jsx(de,{variant:"outline",className:"flex-1 justify-start text-muted-foreground",children:t("sharePlaceholder")})]})})}),f.jsx("div",{className:"space-y-4",children:Yte.map(e=>f.jsxs(Mr,{className:"hover-elevate","data-testid":`card-post-${e.id}`,children:[f.jsx(iO,{className:"pb-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(uu,{children:f.jsx(du,{className:"bg-primary text-primary-foreground",children:e.avatar})}),f.jsxs("div",{children:[f.jsx(oO,{className:"text-base",children:e.author}),f.jsx("p",{className:"text-xs text-muted-foreground",children:e.time})]})]})}),f.jsxs(wo,{children:[f.jsx("p",{className:"mb-3",children:e.content}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(n=>f.jsxs(Tx,{variant:"secondary",className:"text-xs",children:["#",n]},n))}),f.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t",children:[f.jsxs(de,{variant:"ghost",size:"sm",className:"gap-2",children:[f.jsx(qP,{className:"h-4 w-4"}),e.likes]}),f.jsxs(de,{variant:"ghost",size:"sm",className:"gap-2",children:[f.jsx(QP,{className:"h-4 w-4"}),e.replies]}),f.jsxs(de,{variant:"ghost",size:"sm",className:"gap-2 ml-auto",children:[f.jsx(OU,{className:"h-4 w-4"}),t("share")]})]})]})]},e.id))})]})})}const Jte={Hospital:CU,Shield:LU,Siren:FU};function Zte(){const{t}=bn(),e=n=>{window.location.href=`tel:${n.replace(/[^0-9+]/g,"")}`};return f.jsx("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-background dark:from-red-950/20 dark:to-background",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 mb-4",children:f.jsx(wc,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold mb-2",children:t("emergencyTitle")}),f.jsx("p",{className:"text-muted-foreground",children:t("emergencyDescription")})]}),f.jsx("div",{className:"grid gap-4 md:grid-cols-1",children:QY.map(n=>{const r=Jte[n.icon]||wc;return f.jsx(Mr,{className:"hover-elevate","data-testid":`card-emergency-${n.id}`,children:f.jsx(wo,{className:"p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center flex-shrink-0",children:f.jsx(r,{className:"h-7 w-7 text-red-600 dark:text-red-400"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h2",{className:"font-semibold text-lg",children:n.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]}),f.jsxs(de,{size:"lg",className:"gap-2 bg-red-600 hover:bg-red-700 text-white flex-shrink-0",onClick:()=>e(n.phone),"data-testid":`button-call-${n.id}`,children:[f.jsx(wc,{className:"h-5 w-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("tapToCall")}),f.jsx("span",{className:"font-mono",children:n.phone})]})]})})},n.id)})}),f.jsx(Mr,{className:"mt-8 bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:f.jsx(wo,{className:"p-4 text-center",children:f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:t("emergencyNote")})})})]})})}function ene(){return f.jsx(Zte,{})}function tne(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Mr,{className:"w-full max-w-md mx-4",children:f.jsxs(wo,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(EU,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var um="Tabs",[nne]=nr(um,[Hp]),YL=Hp(),[rne,bx]=nne(um),XL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Wu(a),[h,p]=lo({prop:r,onChange:s,defaultProp:i??"",caller:um});return f.jsx(rne,{scope:n,baseId:_r(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:f.jsx(ie.div,{dir:d,"data-orientation":o,...c,ref:e})})});XL.displayName=um;var JL="TabsList",ZL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=bx(JL,n),o=YL(n);return f.jsx(VD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ZL.displayName=JL;var eV="TabsTrigger",tV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=bx(eV,n),a=YL(n),l=sV(o.baseId,r),c=iV(o.baseId,r),d=r===o.value;return f.jsx(jD,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:W(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:W(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:W(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});tV.displayName=eV;var nV="TabsContent",rV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=bx(nV,n),l=sV(a.baseId,r),c=iV(a.baseId,r),d=r===a.value,h=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(en,{present:s||d,children:({present:p})=>f.jsx(ie.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});rV.displayName=nV;function sV(t,e){return`${t}-trigger-${e}`}function iV(t,e){return`${t}-content-${e}`}var sne=XL,oV=ZL,aV=tV,lV=rV;const ine=sne,cV=m.forwardRef(({className:t,...e},n)=>f.jsx(oV,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cV.displayName=oV.displayName;const Ih=m.forwardRef(({className:t,...e},n)=>f.jsx(aV,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ih.displayName=aV.displayName;const Ph=m.forwardRef(({className:t,...e},n)=>f.jsx(lV,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ph.displayName=lV.displayName;function one(){var S,A;const{user:t,isAuthenticated:e,isLoading:n}=Po(),{t:r}=bn(),[s,i]=aP(),[o,a]=m.useState("listings"),[l,c]=m.useState([]),[d,h]=m.useState([]),[p,y]=m.useState([]),[E,w]=m.useState(!0),[x,v]=m.useState(null);m.useEffect(()=>{!n&&!e&&i("/")},[n,e,i]),m.useEffect(()=>{t&&(async()=>{if(t){w(!0);try{const O=await Lq(t.uid);c(_(O));const C=await Uq(t.uid);h(_(C));const b=await Bq(t.uid);y(b)}catch(O){console.error("Error fetching profile data:",O)}finally{w(!1)}}})()},[t]);const _=P=>P.map(O=>({id:O.id||"",title:O.title,price:O.price,priceType:O.priceType,location:O.location,distance:O.distance,rating:O.rating,reviews:O.reviews,category:O.category,image:O.image,verified:O.verified,phone:O.phone,description:O.description}));return n||!t?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(mr,{className:"h-8 w-8 animate-spin text-primary"})}):f.jsxs("div",{className:"min-h-screen bg-background py-12",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[f.jsxs("div",{className:"bg-card rounded-xl border shadow-sm p-8 mb-8 flex flex-col md:flex-row items-center gap-6",children:[f.jsxs(uu,{className:"h-24 w-24 border-4 border-background shadow-lg",children:[f.jsx(R0,{src:t.photoURL||void 0}),f.jsx(du,{className:"text-2xl bg-primary/10 text-primary",children:((S=t.displayName)==null?void 0:S.charAt(0))||((A=t.email)==null?void 0:A.charAt(0))})]}),f.jsxs("div",{className:"text-center md:text-left space-y-2",children:[f.jsx("h1",{className:"text-3xl font-bold",children:t.displayName||"User"}),f.jsx("p",{className:"text-muted-foreground",children:t.email}),f.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2 justify-center md:justify-start",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(IU,{className:"h-4 w-4"}),f.jsxs("span",{children:[l.length," Listings"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qP,{className:"h-4 w-4"}),f.jsxs("span",{children:[d.length," Likes"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(QP,{className:"h-4 w-4"}),f.jsxs("span",{children:[p.length," Reviews"]})]})]})]})]}),f.jsxs(ine,{defaultValue:"listings",className:"space-y-6",onValueChange:a,children:[f.jsxs(cV,{className:"grid w-full grid-cols-3 max-w-md mx-auto md:mx-0",children:[f.jsx(Ih,{value:"listings",children:"My Listings"}),f.jsx(Ih,{value:"likes",children:"Liked Items"}),f.jsx(Ih,{value:"reviews",children:"My Reviews"})]}),f.jsx(Ph,{value:"listings",className:"space-y-6",children:E?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(mr,{className:"h-8 w-8 animate-spin text-primary"})}):l.length>0?f.jsx(Kv,{listings:l,onContact:v}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx("p",{children:"You haven't posted any listings yet."}),f.jsx(de,{variant:"outline",className:"mt-2",children:"Post an Ad"})]})}),f.jsx(Ph,{value:"likes",className:"space-y-6",children:E?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(mr,{className:"h-8 w-8 animate-spin text-primary"})}):d.length>0?f.jsx(Kv,{listings:d,onContact:v}):f.jsx("div",{className:"text-center py-12 text-muted-foreground",children:f.jsx("p",{children:"You haven't liked any listings yet."})})}),f.jsx(Ph,{value:"reviews",className:"space-y-6",children:E?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(mr,{className:"h-8 w-8 animate-spin text-primary"})}):p.length>0?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(P=>{var O,C;return f.jsxs("div",{className:"bg-card p-6 rounded-lg border shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"font-bold text-lg",children:P.rating}),f.jsx("span",{className:"text-yellow-500",children:""})]}),f.jsx("span",{className:"text-xs text-muted-foreground",children:((C=(O=P.createdAt)==null?void 0:O.toDate)==null?void 0:C.call(O).toLocaleDateString())||"Recent"})]}),f.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-3",children:['"',P.comment,'"']})]},P.id)})}):f.jsx("div",{className:"text-center py-12 text-muted-foreground",children:f.jsx("p",{children:"You haven't written any reviews yet."})})})]})]}),f.jsx(Sx,{listing:x,open:!!x,onClose:()=>v(null)})]})}function ane(){const{setLanguage:t,hasSelectedLanguage:e}=bn();return e?null:f.jsx(Xp,{open:!e,children:f.jsxs(Qu,{className:"sm:max-w-md p-0 gap-0 bg-card border-border shadow-2xl [&>button]:hidden",children:[f.jsxs("div",{className:"bg-primary/5 p-8 text-center border-b",children:[f.jsx("div",{className:"mx-auto mb-4 bg-background rounded-full p-3 w-fit shadow-sm ring-1 ring-border",children:f.jsx(Jw,{className:"h-8 w-8 text-primary"})}),f.jsx(Jp,{className:"text-2xl font-bold mb-2",children:"Welcome to UniHub"}),f.jsx("p",{className:"text-muted-foreground",children:"Please select your preferred language"})]}),f.jsxs("div",{className:"p-8 grid gap-4",children:[f.jsx(de,{variant:"outline",className:"h-14 text-lg font-medium hover:border-primary hover:bg-primary/5",onClick:()=>t("en"),children:"English"}),f.jsx(de,{variant:"outline",className:"h-14 text-lg font-medium hover:border-primary hover:bg-primary/5 font-sinhala",onClick:()=>t("si"),children:" (Sinhala)"}),f.jsx(de,{variant:"outline",className:"h-14 text-lg font-medium hover:border-primary hover:bg-primary/5 font-tamil",onClick:()=>t("ta"),children:" (Tamil)"})]})]})})}function lne(){const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState(!1),[o,a]=m.useState(0),{isAuthenticated:l}=Po(),c=()=>{l?r(!0):(i(!0),e(!0))},d=()=>{s&&(i(!1),r(!0))},h=m.useCallback(()=>{a(p=>p+1)},[]);return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx(NQ,{onPostAdClick:c}),f.jsxs(LF,{children:[f.jsx(Vo,{path:"/",component:()=>f.jsx(Kte,{},o)}),f.jsx(Vo,{path:"/map",component:Qte}),f.jsx(Vo,{path:"/community",component:Xte}),f.jsx(Vo,{path:"/emergency",component:ene}),f.jsx(Vo,{path:"/profile",component:one}),f.jsx(Vo,{component:tne})]}),f.jsx(Ute,{}),f.jsx(aY,{open:t,onClose:()=>{e(!1),i(!1)},onSuccess:d}),f.jsx(YY,{open:n,onClose:()=>r(!1),onSuccess:h})]})}function cne(){return f.jsx(u3,{client:f3,children:f.jsx(h9,{children:f.jsx(Zq,{children:f.jsxs($q,{children:[f.jsx(ane,{}),f.jsx(lne,{}),f.jsx(b6,{})]})})})})}YI(document.getElementById("root")).render(f.jsx(cne,{}));
